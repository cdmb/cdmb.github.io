{"version":3,"sources":["webpack:///vendor.bundle.js","webpack:///webpack/bootstrap c8bbfc65eec1b816403e","webpack:///./src/vendor.js","webpack:///./~/riot/riot.js","webpack:///./~/regeneratorRuntime.js","webpack:///./~/core-js/modules/$.js","webpack:///./~/core-js/modules/$.hide.js","webpack:///./~/core-js/modules/$.global.js","webpack:///./~/core-js/modules/$.wks.js","webpack:///./~/core-js/modules/$.core.js","webpack:///./~/core-js/modules/$.to-iobject.js","webpack:///./~/core-js/modules/$.has.js","webpack:///./~/core-js/modules/$.property-desc.js","webpack:///./~/core-js/modules/$.redef.js","webpack:///./~/core-js/modules/$.tag.js","webpack:///./~/core-js/modules/$.uid.js","webpack:///./~/leaflet/dist/leaflet-src.js","webpack:///./~/core-js/modules/$.def.js","webpack:///./~/core-js/modules/$.fails.js","webpack:///./~/core-js/modules/$.is-object.js","webpack:///./~/core-js/modules/$.iterators.js","webpack:///./~/core-js/modules/$.library.js","webpack:///./~/core-js/modules/$.shared.js","webpack:///./~/core-js/modules/$.support-desc.js","webpack:///./~/css-loader/lib/css-base.js","webpack:///./~/style-loader/addStyles.js","webpack:///./~/core-js/fn/array/iterator.js","webpack:///./~/core-js/fn/symbol/index.js","webpack:///./~/core-js/modules/$.an-object.js","webpack:///./~/core-js/modules/$.cof.js","webpack:///./~/core-js/modules/$.defined.js","webpack:///./~/core-js/modules/$.enum-keys.js","webpack:///./~/core-js/modules/$.get-names.js","webpack:///./~/core-js/modules/$.iobject.js","webpack:///./~/core-js/modules/$.iter-create.js","webpack:///./~/core-js/modules/$.iter-define.js","webpack:///./~/core-js/modules/$.iter-step.js","webpack:///./~/core-js/modules/$.keyof.js","webpack:///./~/core-js/modules/$.unscope.js","webpack:///./~/core-js/modules/es6.array.iterator.js","webpack:///./~/core-js/modules/es6.symbol.js","webpack:///./~/leaflet/dist/leaflet.css","webpack:///./~/leaflet.markercluster/dist/leaflet.markercluster.js","webpack:///./~/leaflet/dist/leaflet.css?13cb","webpack:///(webpack)/~/node-libs-browser/~/process/browser.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","parentJsonpFunction","window","chunkIds","moreModules","chunkId","i","callbacks","length","installedChunks","push","apply","shift","e","callback","undefined","head","document","getElementsByTagName","script","createElement","type","charset","async","src","p","appendChild","m","c","__WEBPACK_AMD_DEFINE_RESULT__","loopKeys","expr","b0","brackets","els","trim","slice","match","key","pos","val","mkitem","item","_each","dom","parent","remAttr","checksum","tagName","getTagName","template","outerHTML","hasImpl","tagImpl","impl","tmpl","root","parentNode","placeholder","createComment","tags","child","getTag","insertBefore","one","stub","removeChild","on","items","isArray","JSON","stringify","Object","keys","map","frag","createDocumentFragment","j","unmount","splice","_item","update","Tag","isLoop","SPECIAL_TAGS_REGEX","test","cloneNode","innerHTML","mount","walk","node","nodeType","_looped","_visited","setNamed","parseNamedElements","tag","childTags","getAttribute","initChildTag","parseExpressions","expressions","addExpr","extra","indexOf","extend","nodeValue","attr","each","attributes","name","bool","split","value","conf","updateOpts","ctx","self","el","opts","normalizeData","data","T_UNDEF","inheritFromParent","k","mustSync","RESERVED_WORDS_BLACKLIST","propsInSyncWithParent","toggle","isMount","evt","riot","observable","this","inherit","mkdom","cleanUpData","fn","toLowerCase","_tag","isMounted","_id","__uid","replaceYield","T_OBJECT","trigger","mixin","arguments","mix","T_STRING","isFunction","bind","init","attrs","walkAttributes","v","setAttribute","firstChild","isInStub","keepRootTag","ptag","getImmediateCustomParentTag","removeAttribute","off","setEventHandler","handler","event","currentTarget","target","srcElement","which","charCode","keyCode","ignored","preventDefault","returnValue","preventUpdate","insertTo","before","attrName","replace","add","remove","inStub","createTextNode","style","display","startsWith","RIOT_PREFIX","RIOT_TAG","len","T_FUNCTION","cachedTag","namedTag","obj","args","o","nextSibling","html","re","exec","mkEl","$$","selector","querySelectorAll","$","querySelector","Child","prototype","str","injectStyle","css","render","styleNode","styleSheet","cssText","_rendered","body","rs","mountTo","_innerHTML","virtualDom","version","settings","IE_VERSION","documentMode","Array","events","typed","cb","arr","fns","busy","concat","all","mixins","win","hash","loc","href","parser","path","emit","current","location","started","r","route","arg","stop","removeEventListener","detachEvent","start","addEventListener","attachEvent","orig","cachedBrackets","b","x","s","RegExp","source","global","extract","join","Function","n","pair","_","wrap","nonull","reVars","OGLOB","substrings","parts","sub","open","close","level","matches","cache","checkIE","_mkdom","rootTag","rootEls","GENERIC","ie9elem","select","div","tr","th","td","tbody","col","addRiotTags","list","selectAllTags","pushTags","last","allTags","nodeList","_el","util","process","innerFn","outerFn","tryLocsList","generator","create","Generator","_invoke","makeInvokeMethod","Context","tryCatch","err","GeneratorFunction","GeneratorFunctionPrototype","defineIteratorMethods","forEach","method","AwaitArgument","AsyncIterator","invoke","result","Promise","resolve","then","invokeNext","invokeThrow","unwrapped","enqueue","enqueueResult","previousPromise","domain","context","state","GenStateSuspendedStart","GenStateExecuting","Error","GenStateCompleted","doneResult","delegate","iterator","returnMethod","record","info","done","GenStateSuspendedYield","resultName","next","nextLoc","sent","dispatchException","abrupt","ContinueSentinel","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","values","iterable","iteratorMethod","iteratorSymbol","isNaN","hasOwn","hasOwnProperty","Symbol","inModule","runtime","regeneratorRuntime","Gp","constructor","displayName","isGeneratorFunction","genFun","ctor","mark","__proto__","awrap","iter","toString","object","reverse","pop","skipTempReset","prev","charAt","rootEntry","rootRecord","rval","exception","handle","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","$Object","getProto","getPrototypeOf","isEnum","propertyIsEnumerable","getDesc","getOwnPropertyDescriptor","setDesc","defineProperty","setDescs","defineProperties","getKeys","getNames","getOwnPropertyNames","getSymbols","getOwnPropertySymbols","createDesc","UNDEFINED","Math","__g","store","core","__e","IObject","defined","it","bitmap","enumerable","configurable","writable","hide","SRC","TO_STRING","$toString","TPL","inspectSource","O","safe","String","has","TAG","stat","px","random","__WEBPACK_AMD_DEFINE_FACTORY__","oldL","L","noConflict","Util","dest","sources","stamp","lastId","invokeEach","limitExecByInterval","time","lock","execOnUnlock","wrapperFn","setTimeout","falseFn","formatNum","num","digits","pow","round","splitWords","setOptions","options","getParamString","existingUrl","uppercase","params","encodeURIComponent","toUpperCase","emptyImageUrl","getPrefixed","prefixes","timeoutDefer","Date","timeToCall","max","lastTime","requestFn","requestAnimationFrame","cancelFn","cancelAnimationFrame","clearTimeout","requestAnimFrame","immediate","element","cancelAnimFrame","Class","props","NewClass","initialize","_initHooks","callInitHooks","F","proto","statics","includes","__super__","_initHooksCalled","include","mergeOptions","addInitHook","eventsKey","Mixin","Events","types","indexKey","indexLenKey","typeIndex","contextId","action","hasEventListeners","clearAllEventListeners","listeners","removed","fireEvent","addOneTimeEventListener","once","fire","ie","ielt9","ua","navigator","userAgent","webkit","chrome","phantomjs","android","android23","search","gecko","mobile","orientation","msPointer","PointerEvent","MSPointerEvent","pointer","pointerEnabled","maxTouchPoints","retina","devicePixelRatio","matchMedia","doc","documentElement","ie3d","webkit3d","WebKitCSSMatrix","gecko3d","opera3d","any3d","L_DISABLE_3D","touch","L_NO_TOUCH","DocumentTouch","Browser","opera","mobileWebkit","mobileWebkit3d","mobileOpera","Point","y","clone","point","_add","subtract","_subtract","divideBy","_divideBy","multiplyBy","_multiplyBy","_round","floor","_floor","distanceTo","sqrt","equals","contains","abs","Bounds","a","points","min","getCenter","getBottomLeft","getTopRight","getSize","bounds","intersects","min2","max2","xIntersects","yIntersects","isValid","Transformation","d","_a","_b","_c","_d","transform","scale","_transform","untransform","DomUtil","get","getElementById","getStyle","currentStyle","defaultView","getComputedStyle","getViewportOffset","top","left","docBody","docEl","offsetTop","offsetLeft","parseInt","offsetParent","scrollTop","scrollLeft","width","maxWidth","getBoundingClientRect","clientLeft","documentIsLtr","_docIsLtrCached","_docIsLtr","className","container","hasClass","classList","_getClass","addClass","classes","_setClass","removeClass","baseVal","setOpacity","opacity","filter","filterName","filters","Enabled","Opacity","testProp","getTranslateString","is3d","getScaleString","origin","preTranslateStr","scaleStr","setPosition","disable3D","_leaflet_pos","TRANSFORM","getPosition","TRANSITION","TRANSITION_END","disableTextSelection","DomEvent","enableTextSelection","userSelectProperty","_userSelect","disableImageDrag","enableImageDrag","LatLng","lat","lng","alt","parseFloat","DEG_TO_RAD","PI","RAD_TO_DEG","MAX_MARGIN","latLng","margin","precision","other","R","d2r","dLat","dLon","lat1","lat2","sin1","sin","sin2","cos","atan2","lon","LatLngBounds","southWest","northEast","latlngs","latLngBounds","_southWest","_northEast","pad","bufferRatio","sw","ne","heightBuffer","widthBuffer","getSouthWest","getNorthEast","getNorthWest","getNorth","getWest","getSouthEast","getSouth","getEast","sw2","ne2","latIntersects","lngIntersects","toBBoxString","Projection","SphericalMercator","MAX_LATITUDE","project","latlng","log","tan","unproject","atan","exp","LonLat","CRS","latLngToPoint","zoom","projectedPoint","projection","transformation","pointToLatLng","untransformedPoint","Simple","EPSG3857","code","earthRadius","EPSG900913","EPSG4326","Map","crs","fadeAnimation","trackResize","markerZoomAnimation","_initContainer","_initLayout","_onResize","_initEvents","maxBounds","setMaxBounds","center","setView","_handlers","_layers","_zoomBoundLayers","_tileLayersNum","_addLayers","layers","getZoom","_resetView","_limitZoom","setZoom","_loaded","_zoom","zoomIn","delta","zoomOut","setZoomAround","getZoomScale","viewHalf","containerPoint","latLngToContainerPoint","centerOffset","newCenter","containerPointToLatLng","fitBounds","getBounds","paddingTL","paddingTopLeft","padding","paddingBR","paddingBottomRight","getBoundsZoom","maxZoom","paddingOffset","swPoint","nePoint","fitWorld","panTo","pan","panBy","offset","_rawPanBy","_panInsideMaxBounds","panInsideBounds","_limitCenter","addLayer","layer","minZoom","_updateZoomLevels","zoomAnimation","TileLayer","_tileLayersToLoad","_onTileLayerLoad","_layerAdd","removeLayer","onRemove","hasLayer","eachLayer","invalidateSize","animate","oldSize","_sizeChanged","_initialCenter","newSize","oldCenter","debounceMoveend","_sizeTimer","addHandler","HandlerClass","enable","_container","_leaflet","_clearPanes","_clearControlPos","_clearHandlers","_checkIfLoaded","_moved","layerPointToLatLng","_getCenterLayerPoint","getPixelBounds","getMinZoom","_layersMinZoom","getMaxZoom","_layersMaxZoom","Infinity","inside","boundsSize","size","nw","se","zoomNotFound","_size","clientWidth","clientHeight","topLeftPoint","_getTopLeftPoint","getPixelOrigin","_initialTopLeftPoint","getPanes","_panes","getContainer","toZoom","getScaleZoom","LN2","latLngToLayerPoint","containerPointToLayerPoint","_getMapPanePos","layerPointToContainerPoint","layerPoint","mouseEventToContainerPoint","getMousePosition","mouseEventToLayerPoint","mouseEventToLatLng","position","_initPanes","_initControlPos","panes","_mapPane","mapPane","_createPane","_tilePane","tilePane","objectsPane","shadowPane","overlayPane","markerPane","popupPane","zoomHide","preserveMapOffset","afterZoomAnim","zoomChanged","_getNewTopLeftPoint","loading","hard","_getZoomSpan","oldZoomSpan","onOff","_onMouseClick","_fireMouseEvent","_resizeRequest","_simulated","dragging","moved","boxZoom","_skipped","originalEvent","disable","whenReady","onAdd","_latLngToNewLayerPoint","newZoom","topLeft","_getCenterOffset","centerPoint","viewBounds","_getBoundsOffset","_limitOffset","newBounds","pxBounds","nwOffset","seOffset","dx","_rebound","dy","right","ceil","Mercator","R_MINOR","R_MAJOR","r2","tmp","eccent","con","ts","phi","numIter","tol","dphi","EPSG3395","tileSize","subdomains","errorTileUrl","attribution","zoomOffset","unloadInvisibleTiles","updateWhenIdle","url","detectRetina","_url","_map","_animated","_zoomAnimated","viewreset","_reset","moveend","_update","zoomanim","_animateZoom","zoomend","_endZoomAnim","_limitedUpdate","addTo","bringToFront","pane","_setAutoZIndex","bringToBack","getAttribution","_updateOpacity","setZIndex","zIndex","_updateZIndex","setUrl","noRedraw","redraw","compare","children","edgeZIndex","isFinite","tiles","_tiles","_bgBuffer","_tileContainer","tile","_tilesToLoad","reuseTiles","_unusedTiles","_clearBgBuffer","_getTileSize","zoomN","maxNativeZoom","tileBounds","_addTilesFromCenterOut","_removeOtherTiles","queue","_tileShouldBeLoaded","tilesToLoad","sort","fragment","_addTile","tilePoint","continuousWorld","limit","_getWrapTileNum","noWrap","nwPoint","sePoint","kArr","_removeTile","onload","tilePos","_getTilePos","_getTile","_loadTile","_getZoomForUrl","zoomReverse","getTileUrl","_getSubdomain","z","_adjustTilePoint","tms","index","_resetTile","_createTile","height","galleryimg","onselectstart","onmousemove","WebkitBackfaceVisibility","_layer","_tileOnLoad","onerror","_tileOnError","_tileLoaded","_clearBgBufferTimer","newUrl","tileLayer","WMS","defaultWmsParams","service","request","styles","format","transparent","wmsParams","_crs","_wmsVersion","projectionKey","bbox","setParams","wms","Canvas","_redrawTile","drawTile","_tilePoint","tileDrawn","canvas","ImageOverlay","_bounds","_image","_initImage","_onImageLoad","image","imageOverlay","Icon","createIcon","oldIcon","_createIcon","createShadow","_getIconUrl","img","_createImg","_setIconStyles","anchor","shadowAnchor","iconAnchor","marginLeft","marginTop","icon","Default","iconSize","popupAnchor","shadowSize","imagePath","scripts","leafletRe","Marker","title","clickable","draggable","keyboard","zIndexOffset","riseOnHover","riseOffset","_latlng","_initIcon","_removeIcon","_removeShadow","getLatLng","setLatLng","setZIndexOffset","setIcon","_popup","bindPopup","_icon","_setPos","animation","classToAdd","addIcon","tabIndex","_initInteraction","_bringToFront","_resetZIndex","newShadow","_shadow","addShadow","_zIndex","opt","_onKeyPress","Handler","MarkerDrag","wasDragged","stopPropagation","_enabled","marker","DivIcon","bgPos","backgroundPosition","divIcon","closePopupOnClick","Popup","minWidth","autoPan","closeButton","autoPanPadding","keepInView","_source","_isOpen","animFade","_getEvents","popup","openOn","openPopup","offsetWidth","_updatePosition","_adjustPan","getContent","_content","setContent","content","visibility","_updateContent","_updateLayout","_zoomAnimation","closeOnClick","preclick","_close","closePopup","prefix","containerClass","_closeButton","disableClickPropagation","_onCloseButtonClick","wrapper","_wrapper","_contentNode","disableScrollPropagation","_tipContainer","_tip","hasChildNodes","whiteSpace","offsetHeight","maxHeight","scrolledClass","_containerWidth","animated","_containerBottom","_containerLeft","bottom","containerHeight","containerWidth","layerPos","containerPos","autoPanPaddingTopLeft","autoPanPaddingBottomRight","togglePopup","_popupHandlersAdded","_movePopup","setPopupContent","unbindPopup","getPopup","LayerGroup","getLayerId","clearLayers","methodName","getLayer","getLayers","layerGroup","FeatureGroup","EVENTS","_propagateEvent","_popupContent","_popupOptions","setStyle","featureGroup","Path","CLIP_PADDING","outerWidth","outerHeight","stroke","color","dashArray","lineCap","lineJoin","weight","fill","fillColor","fillOpacity","_initElements","projectLatlngs","_updatePath","_pathRoot","vml","_stroke","_fill","_updateStyle","_updatePathViewport","panePos","_pathViewport","SVG_NS","svg","createElementNS","createSVGRect","SVG","lastChild","first","getPathString","_createElement","_initPathRoot","_initPath","_initStyle","_path","pointerEvents","_animatePathZoom","_endPathZoom","_updateSvgViewport","_pathZooming","vp","_openPopup","_latlngs","shape","behavior","adj","VML","namespaces","coordsize","stroked","filled","endcap","dashStyle","joinstyle","getContext","L_PREFER_CANVAS","CANVAS","_requestUpdate","_onClick","_onMouseMove","_updateRequest","_fireMapMoveEnd","_ctx","_canvasCtx","lineWidth","strokeStyle","fillStyle","_drawPath","len2","drawMethod","beginPath","_parts","Polygon","closePath","_checkIfEmpty","save","globalAlpha","fillRule","restore","_containsPoint","_animatingZoom","cursor","_mouseInside","_updateCanvasViewport","translate","LineUtil","simplify","tolerance","sqTolerance","_reducePoints","_simplifyDP","pointToSegmentDistance","p1","p2","_sqClosestPointOnSegment","closestPointOnSegment","ArrayConstructor","Uint8Array","markers","_simplifyDPStep","newPoints","sqDist","maxSqDist","reducedPoints","_sqDist","clipSegment","useLastCode","codeOut","newCode","codeA","_lastCode","_getBitCode","codeB","_getEdgeIntersection","t","dot","Polyline","_convertLatLngs","smoothFactor","noClip","_originalPoints","_getPathPartStr","getLatLngs","setLatLngs","addLatLng","spliceLatLngs","closestLayerPoint","minDistance","minPoint","jLen","distance","overwrite","_clipPoints","segment","lu","_simplifyPoints","polyline","PolyUtil","clipPolygon","clippedPoints","edge","edges","_code","_initWithHoles","hole","_holes","_holePoints","newParts","clipped","polygon","createMulti","Klass","_options","MultiPolyline","MultiPolygon","multiPolyline","multiPolygon","Rectangle","_boundsToLatLngs","setBounds","rectangle","Circle","radius","_mRadius","setRadius","lngRadius","_getLngRadius","pointLeft","_point","_radius","latRadius","getRadius","_getLatRadius","circle","CircleMarker","circleMarker","closed","dist","part","w","arc","w2","GeoJSON","geojson","addData","feature","features","geometries","geometry","coordinates","geometryToLayer","pointToLayer","coordsToLatLng","asFeature","defaultOptions","resetStyle","onEachFeature","_setLayerStyle","vectorOptions","coords","coordsToLatLngs","properties","levelsDeep","latLngToCoords","latLngsToCoords","latLngs","getFeature","newGeometry","geoJSON","PointToGeoJSON","toGeoJSON","multiToGeoJSON","json","jsons","isGeometryCollection","geoJson","addListener","originalHandler","newType","_getEvent","addPointerListener","addDoubleTapListener","_checkMouse","_filterClick","removeListener","removePointerListener","removeDoubleTapListener","cancelBubble","Draggable","START","_fakeStop","clientX","clientY","rect","clientTop","getWheelDelta","wheelDelta","detail","_skipEvents","skipped","related","relatedTarget","caller","callee","Event","timeStamp","elapsed","_lastClick","_simulatedClick","END","mousedown","touchstart","pointerdown","MSPointerDown","MOVE","dragStartTarget","_element","_dragStartTarget","_onDown","shiftKey","button","touches","_disabled","_moving","_startPoint","_startPos","_newPos","_onMove","_onUp","newPoint","_lastTarget","_animRequest","addHooks","removeHooks","enabled","inertia","inertiaDeceleration","inertiaMaxSpeed","inertiaThreshold","easeLinearity","worldCopyJump","Drag","_draggable","dragstart","_onDragStart","drag","_onDrag","dragend","_onDragEnd","_onPreDrag","_onViewReset","_panAnim","_positions","_times","_lastTime","_lastPos","pxCenter","pxWorldCenter","_initialWorldOffset","_worldWidth","worldWidth","halfWidth","newX1","newX2","newX","delay","noInertia","direction","duration","ease","speedVector","speed","limitedSpeed","limitedSpeedVector","decelerationDuration","noMoveStart","doubleClickZoom","DoubleClickZoom","_onDoubleClick","scrollWheelZoom","ScrollWheelZoom","_onWheelScroll","_delta","_lastMousePos","_startTime","_timer","_performZoom","_touchstart","_touchend","onTouchStart","count","trackedTouches","pointerId","now","doubleTap","onTouchEnd","idx","prop","newTouch","pre","touchend","endElement","POINTER_CANCEL","POINTER_DOWN","POINTER_MOVE","POINTER_UP","_pointers","_pointerDocumentListener","addPointerListenerStart","addPointerListenerEnd","addPointerListenerMove","pointers","alreadyInArray","changedTouches","internalCb","pointerType","MSPOINTER_TYPE_MOUSE","buttons","touchZoom","bounceAtZoomLimits","TouchZoom","_onTouchStart","_zooming","viewCenter","_startCenter","_startDist","_centerOffset","_onTouchMove","_onTouchEnd","_scale","_updateOnMove","_getScaleOrigin","oldZoom","floatZoomDelta","roundZoomDelta","tap","tapTolerance","Tap","_fireClick","_holdTimeout","_isTapValid","_simulateEvent","simulatedEvent","createEvent","initMouseEvent","screenX","screenY","dispatchEvent","BoxZoom","_pane","_onMouseDown","_startLayerPoint","_onMouseUp","_onKeyDown","_box","startPoint","box","newPos","_finish","boxZoomBounds","keyboardPanOffset","keyboardZoomOffset","Keyboard","keyCodes","down","up","_setPanOffset","_setZoomOffset","_onFocus","_onBlur","_addHooks","_removeHooks","_focused","focus","scrollTo","_panKeys","codes","_zoomKeys","_inProgress","_marker","shadow","iconPos","Control","removeControl","addControl","corner","_controlCorners","removeFrom","_refocusOnMap","control","createCorner","vSide","hSide","l","corners","_controlContainer","Zoom","zoomInText","zoomInTitle","zoomOutText","zoomOutTitle","zoomName","_zoomInButton","_createButton","_zoomIn","_zoomOutButton","_zoomOut","_updateDisabled","link","zoomControl","Attribution","_attributions","addAttribution","_onLayerAdd","_onLayerRemove","setPrefix","text","removeAttribution","attribs","prefixAndAttribs","attributionControl","Scale","metric","imperial","_addScales","_mScale","_iScale","centerLat","halfWorldMeters","maxMeters","_updateScales","_updateMetric","_updateImperial","meters","_getRoundNum","_getScaleWidth","maxMiles","miles","feet","maxFeet","ratio","pow10","Layers","collapsed","autoZIndex","baseLayers","overlays","_lastZIndex","_handlingClick","_addLayer","_onLayerChange","addBaseLayer","addOverlay","form","_form","_expand","_collapse","_layersLink","_onInputClick","_baseLayersList","_separator","_overlaysList","overlay","baseLayersPresent","overlaysPresent","_addItem","_createRadioElement","checked","radioHtml","radioFragment","input","label","defaultChecked","layerId","inputs","inputsLen","PosAnimation","run","_onTransitionEnd","_stepTimer","setInterval","_onStep","_getPos","stepPos","_transformRe","clearInterval","_tryAnimatedZoom","_tryAnimatedPan","step","_onPanTransitionStep","end","_onPanTransitionEnd","_duration","_easeOutPower","_offset","_animate","_step","_complete","_animId","_runFrame","_easeOut","progress","zoomAnimationThreshold","_catchTransitionEnd","propertyName","_onZoomTransitionEnd","_nothingToAnimate","getElementsByClassName","backwards","forTouchZoom","_animateToCenter","_animateToZoom","_animating","_prepareBgBuffer","bg","initialTransform","front","bgLoaded","_getLoadedTilesPercentage","frontLoaded","_stopLoadingImages","_defaultLocateOptions","watch","timeout","maximumAge","enableHighAccuracy","locate","_locateOptions","geolocation","_handleGeolocationError","message","onResponse","_handleGeolocationResponse","onError","_locationWatchId","watchPosition","getCurrentPosition","stopLocate","clearWatch","error","latitude","longitude","latAccuracy","accuracy","lngAccuracy","timestamp","$redef","PROTOTYPE","that","$def","own","out","isGlobal","G","isProto","P","S","B","W","SHARED","mediaQuery","alreadyImportedModules","addStylesToDom","domStyle","stylesInDom","refs","addStyle","listToStyles","newStyles","media","sourceMap","createStyleElement","styleElement","getHeadElement","createLinkElement","linkElement","rel","singleton","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","btoa","updateLink","applyToTag","newObj","replaceText","cssNode","childNodes","blob","oldSrc","memoize","memo","isOldIE","newList","mayRemove","textStore","replacement","Boolean","isObject","TypeError","symbols","toIObject","windowNames","getWindowNames","cof","IteratorPrototype","Constructor","NAME","LIBRARY","SYMBOL_ITERATOR","Iterators","BUGGY","FF_ITERATOR","KEYS","VALUES","returnThis","Base","DEFAULT","IS_SET","FORCE","methods","createMethod","kind","_native","_default","entries","UNSCOPABLES","setUnscope","iterated","_t","_i","_k","Arguments","SUPPORT_DESC","shared","setTag","uid","wks","keyOf","$names","enumKeys","anObject","_create","$Symbol","setter","HIDDEN","SymbolRegistry","AllSymbols","useNative","ObjectProto","setSymbolDesc","D","protoDesc","sym","set","$defineProperty","$defineProperties","$create","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","names","$getOwnPropertySymbols","symbolStatics","for","keyFor","useSetter","useSimple","MarkerClusterGroup","maxClusterRadius","iconCreateFunction","spiderfyOnMaxZoom","showCoverageOnHover","zoomToBoundsOnClick","singleMarkerMode","disableClusteringAtZoom","removeOutsideVisibleBounds","animateAddingMarkers","spiderfyDistanceMultiplier","polygonOptions","_defaultIconCreateFunction","_featureGroup","_nonPointGroup","_inZoomAnimation","_needsClustering","_needsRemoving","_currentShownBounds","_queue","addLayers","_unspiderfy","_maxZoom","__parent","_animationAddLayer","_animationAddLayerNonAnimated","removeLayers","_unspiderfyLayer","_removeLayer","_arraySplice","getChildCount","getAllChildMarkers","h","MarkerCluster","_iconNeedsUpdate","_updateIcon","_topClusterLevel","_recursivelyAddChildrenToMap","_gridClusters","_gridUnclustered","_noanimationUnspiderfy","_generateInitialClusters","_group","zoomToShowLayer","spiderfy","zoomToBounds","_zoomEnd","_moveEnd","_spiderfierOnAdd","_bindEvents","_getExpandedVisibleBounds","_unbindEvents","_spiderfierOnRemove","_hideCoverage","getVisibleParent","removeObject","u","_markers","_childCount","_cLatLng","addObject","_childClusters","_recalculateBounds","_isOrIsParent","_zoomOrSpiderfy","_showCoverage","_shownPolygon","_spiderfied","getConvexHull","_mergeSplitClusters","_recursivelyRemoveChildrenFromMap","DistanceGrid","getNearObject","_addChild","_enqueue","_queueTimeout","_processQueue","_animationStart","_animationZoomIn","_animationZoomOut","_addToMap","_animationEnd","_recursively","_isSingleParent","_forceLayout","_recursivelyBecomeVisible","_recursivelyRestoreChildPositions","_animationZoomOutSingle","_recursivelyAnimateChildrenInAndAddSelfToMap","markerClusterGroup","_iconObj","_expandBounds","_wLatLng","_backupLatlng","_recursivelyAnimateChildrenIn","_restorePosition","_cellSize","_sqCellSize","_grid","_objectPoint","_getCoord","updateObject","eachObject","QuickHull","getDistant","findMostDistantPointFromBaseLine","maxPoint","buildConvexHull","_2PI","_circleFootSeparation","_circleStartAngle","_spiralFootSeparation","_spiralLengthStart","_spiralLengthFactor","_circleSpiralSwitchover","_generatePointsSpiral","_generatePointsCircle","_animationSpiderfy","unspiderfy","_animationUnspiderfy","_preSpiderfyLatlng","_spiderLeg","SVG_ANIMATION","getTotalLength","beginElement","_unspiderfyWrapper","_unspiderfyZoomStart","_unspiderfyZoomAnim","cleanUpNextTick","draining","currentQueue","queueIndex","drainQueue","Item","fun","array","noop","nextTick","browser","env","argv","versions","removeAllListeners","binding","cwd","chdir","dir","umask"],"mappings":"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","file":"vendor.bundle.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// install a JSONP callback for chunk loading\n/******/ \tvar parentJsonpFunction = window[\"webpackJsonp\"];\n/******/ \twindow[\"webpackJsonp\"] = function webpackJsonpCallback(chunkIds, moreModules) {\n/******/ \t\t// add \"moreModules\" to the modules object,\n/******/ \t\t// then flag all \"chunkIds\" as loaded and fire callback\n/******/ \t\tvar moduleId, chunkId, i = 0, callbacks = [];\n/******/ \t\tfor(;i < chunkIds.length; i++) {\n/******/ \t\t\tchunkId = chunkIds[i];\n/******/ \t\t\tif(installedChunks[chunkId])\n/******/ \t\t\t\tcallbacks.push.apply(callbacks, installedChunks[chunkId]);\n/******/ \t\t\tinstalledChunks[chunkId] = 0;\n/******/ \t\t}\n/******/ \t\tfor(moduleId in moreModules) {\n/******/ \t\t\tmodules[moduleId] = moreModules[moduleId];\n/******/ \t\t}\n/******/ \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules);\n/******/ \t\twhile(callbacks.length)\n/******/ \t\t\tcallbacks.shift().call(null, __webpack_require__);\n/******/ \t\tif(moreModules[0]) {\n/******/ \t\t\tinstalledModules[0] = 0;\n/******/ \t\t\treturn __webpack_require__(0);\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// object to store loaded and loading chunks\n/******/ \t// \"0\" means \"already loaded\"\n/******/ \t// Array means \"loading\", array contains callbacks\n/******/ \tvar installedChunks = {\n/******/ \t\t0:0\n/******/ \t};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/ \t// This file contains only the entry chunk.\n/******/ \t// The chunk loading function for additional chunks\n/******/ \t__webpack_require__.e = function requireEnsure(chunkId, callback) {\n/******/ \t\t// \"0\" is the signal for \"already loaded\"\n/******/ \t\tif(installedChunks[chunkId] === 0)\n/******/ \t\t\treturn callback.call(null, __webpack_require__);\n/******/\n/******/ \t\t// an array means \"currently loading\".\n/******/ \t\tif(installedChunks[chunkId] !== undefined) {\n/******/ \t\t\tinstalledChunks[chunkId].push(callback);\n/******/ \t\t} else {\n/******/ \t\t\t// start chunk loading\n/******/ \t\t\tinstalledChunks[chunkId] = [callback];\n/******/ \t\t\tvar head = document.getElementsByTagName('head')[0];\n/******/ \t\t\tvar script = document.createElement('script');\n/******/ \t\t\tscript.type = 'text/javascript';\n/******/ \t\t\tscript.charset = 'utf-8';\n/******/ \t\t\tscript.async = true;\n/******/\n/******/ \t\t\tscript.src = __webpack_require__.p + \"\" + chunkId + \".bundle.js\";\n/******/ \t\t\thead.appendChild(script);\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/*!***********************!*\\\n  !*** ./src/vendor.js ***!\n  \\***********************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t// TODO: Remover ou otimizar load abaixo\n\t// import 'core-js'\n\t// import 'babel/polyfill'\n\t// import 'es6-symbol/implement'\n\t'use strict';\n\t\n\t__webpack_require__(/*! core-js/fn/symbol */ 45);\n\t\n\t__webpack_require__(/*! core-js/fn/array/iterator */ 44);\n\t\n\t// import 'core-js/fn/object/assign'\n\t// import 'core-js/fn/promise.js'\n\t// import 'es6.array.iterator'\n\t// import 'core-js/fn/symbol/iterator'\n\t\n\t__webpack_require__(/*! riot */ 1);\n\t\n\t__webpack_require__(/*! leaflet */ 21);\n\t\n\t__webpack_require__(/*! leaflet/dist/leaflet.css */ 91);\n\t\n\t__webpack_require__(/*! leaflet.markercluster */ 65);\n\t\n\t__webpack_require__(/*! regeneratorRuntime */ 3);\n\n/***/ },\n/* 1 */\n/*!************************!*\\\n  !*** ./~/riot/riot.js ***!\n  \\************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/* Riot v2.2.4, @license MIT, (c) 2015 Muut Inc. + contributors */\n\t\n\t;(function(window, undefined) {\n\t  'use strict';\n\tvar riot = { version: 'v2.2.4', settings: {} },\n\t  //// be aware, internal usage\n\t\n\t  // counter to give a unique id to all the Tag instances\n\t  __uid = 0,\n\t\n\t  // riot specific prefixes\n\t  RIOT_PREFIX = 'riot-',\n\t  RIOT_TAG = RIOT_PREFIX + 'tag',\n\t\n\t  // for typeof == '' comparisons\n\t  T_STRING = 'string',\n\t  T_OBJECT = 'object',\n\t  T_UNDEF  = 'undefined',\n\t  T_FUNCTION = 'function',\n\t  // special native tags that cannot be treated like the others\n\t  SPECIAL_TAGS_REGEX = /^(?:opt(ion|group)|tbody|col|t[rhd])$/,\n\t  RESERVED_WORDS_BLACKLIST = ['_item', '_id', 'update', 'root', 'mount', 'unmount', 'mixin', 'isMounted', 'isLoop', 'tags', 'parent', 'opts', 'trigger', 'on', 'off', 'one'],\n\t\n\t  // version# for IE 8-11, 0 for others\n\t  IE_VERSION = (window && window.document || {}).documentMode | 0,\n\t\n\t  // Array.isArray for IE8 is in the polyfills\n\t  isArray = Array.isArray\n\t\n\triot.observable = function(el) {\n\t\n\t  el = el || {}\n\t\n\t  var callbacks = {},\n\t      _id = 0\n\t\n\t  el.on = function(events, fn) {\n\t    if (isFunction(fn)) {\n\t      if (typeof fn.id === T_UNDEF) fn._id = _id++\n\t\n\t      events.replace(/\\S+/g, function(name, pos) {\n\t        (callbacks[name] = callbacks[name] || []).push(fn)\n\t        fn.typed = pos > 0\n\t      })\n\t    }\n\t    return el\n\t  }\n\t\n\t  el.off = function(events, fn) {\n\t    if (events == '*') callbacks = {}\n\t    else {\n\t      events.replace(/\\S+/g, function(name) {\n\t        if (fn) {\n\t          var arr = callbacks[name]\n\t          for (var i = 0, cb; (cb = arr && arr[i]); ++i) {\n\t            if (cb._id == fn._id) arr.splice(i--, 1)\n\t          }\n\t        } else {\n\t          callbacks[name] = []\n\t        }\n\t      })\n\t    }\n\t    return el\n\t  }\n\t\n\t  // only single event supported\n\t  el.one = function(name, fn) {\n\t    function on() {\n\t      el.off(name, on)\n\t      fn.apply(el, arguments)\n\t    }\n\t    return el.on(name, on)\n\t  }\n\t\n\t  el.trigger = function(name) {\n\t    var args = [].slice.call(arguments, 1),\n\t        fns = callbacks[name] || []\n\t\n\t    for (var i = 0, fn; (fn = fns[i]); ++i) {\n\t      if (!fn.busy) {\n\t        fn.busy = 1\n\t        fn.apply(el, fn.typed ? [name].concat(args) : args)\n\t        if (fns[i] !== fn) { i-- }\n\t        fn.busy = 0\n\t      }\n\t    }\n\t\n\t    if (callbacks.all && name != 'all') {\n\t      el.trigger.apply(el, ['all', name].concat(args))\n\t    }\n\t\n\t    return el\n\t  }\n\t\n\t  return el\n\t\n\t}\n\triot.mixin = (function() {\n\t  var mixins = {}\n\t\n\t  return function(name, mixin) {\n\t    if (!mixin) return mixins[name]\n\t    mixins[name] = mixin\n\t  }\n\t\n\t})()\n\t\n\t;(function(riot, evt, win) {\n\t\n\t  // browsers only\n\t  if (!win) return\n\t\n\t  var loc = win.location,\n\t      fns = riot.observable(),\n\t      started = false,\n\t      current\n\t\n\t  function hash() {\n\t    return loc.href.split('#')[1] || ''   // why not loc.hash.splice(1) ?\n\t  }\n\t\n\t  function parser(path) {\n\t    return path.split('/')\n\t  }\n\t\n\t  function emit(path) {\n\t    if (path.type) path = hash()\n\t\n\t    if (path != current) {\n\t      fns.trigger.apply(null, ['H'].concat(parser(path)))\n\t      current = path\n\t    }\n\t  }\n\t\n\t  var r = riot.route = function(arg) {\n\t    // string\n\t    if (arg[0]) {\n\t      loc.hash = arg\n\t      emit(arg)\n\t\n\t    // function\n\t    } else {\n\t      fns.on('H', arg)\n\t    }\n\t  }\n\t\n\t  r.exec = function(fn) {\n\t    fn.apply(null, parser(hash()))\n\t  }\n\t\n\t  r.parser = function(fn) {\n\t    parser = fn\n\t  }\n\t\n\t  r.stop = function () {\n\t    if (started) {\n\t      if (win.removeEventListener) win.removeEventListener(evt, emit, false) //@IE8 - the if()\n\t      else win.detachEvent('on' + evt, emit) //@IE8\n\t      fns.off('*')\n\t      started = false\n\t    }\n\t  }\n\t\n\t  r.start = function () {\n\t    if (!started) {\n\t      if (win.addEventListener) win.addEventListener(evt, emit, false) //@IE8 - the if()\n\t      else win.attachEvent('on' + evt, emit) //IE8\n\t      started = true\n\t    }\n\t  }\n\t\n\t  // autostart the router\n\t  r.start()\n\t\n\t})(riot, 'hashchange', window)\n\t/*\n\t\n\t//// How it works?\n\t\n\t\n\tThree ways:\n\t\n\t1. Expressions: tmpl('{ value }', data).\n\t   Returns the result of evaluated expression as a raw object.\n\t\n\t2. Templates: tmpl('Hi { name } { surname }', data).\n\t   Returns a string with evaluated expressions.\n\t\n\t3. Filters: tmpl('{ show: !done, highlight: active }', data).\n\t   Returns a space separated list of trueish keys (mainly\n\t   used for setting html classes), e.g. \"show highlight\".\n\t\n\t\n\t// Template examples\n\t\n\ttmpl('{ title || \"Untitled\" }', data)\n\ttmpl('Results are { results ? \"ready\" : \"loading\" }', data)\n\ttmpl('Today is { new Date() }', data)\n\ttmpl('{ message.length > 140 && \"Message is too long\" }', data)\n\ttmpl('This item got { Math.round(rating) } stars', data)\n\ttmpl('<h1>{ title }</h1>{ body }', data)\n\t\n\t\n\t// Falsy expressions in templates\n\t\n\tIn templates (as opposed to single expressions) all falsy values\n\texcept zero (undefined/null/false) will default to empty string:\n\t\n\ttmpl('{ undefined } - { false } - { null } - { 0 }', {})\n\t// will return: \" - - - 0\"\n\t\n\t*/\n\t\n\t\n\tvar brackets = (function(orig) {\n\t\n\t  var cachedBrackets,\n\t      r,\n\t      b,\n\t      re = /[{}]/g\n\t\n\t  return function(x) {\n\t\n\t    // make sure we use the current setting\n\t    var s = riot.settings.brackets || orig\n\t\n\t    // recreate cached vars if needed\n\t    if (cachedBrackets !== s) {\n\t      cachedBrackets = s\n\t      b = s.split(' ')\n\t      r = b.map(function (e) { return e.replace(/(?=.)/g, '\\\\') })\n\t    }\n\t\n\t    // if regexp given, rewrite it with current brackets (only if differ from default)\n\t    return x instanceof RegExp ? (\n\t        s === orig ? x :\n\t        new RegExp(x.source.replace(re, function(b) { return r[~~(b === '}')] }), x.global ? 'g' : '')\n\t      ) :\n\t      // else, get specific bracket\n\t      b[x]\n\t  }\n\t})('{ }')\n\t\n\t\n\tvar tmpl = (function() {\n\t\n\t  var cache = {},\n\t      OGLOB = '\"in d?d:' + (window ? 'window).' : 'global).'),\n\t      reVars =\n\t      /(['\"\\/])(?:[^\\\\]*?|\\\\.|.)*?\\1|\\.\\w*|\\w*:|\\b(?:(?:new|typeof|in|instanceof) |(?:this|true|false|null|undefined)\\b|function\\s*\\()|([A-Za-z_$]\\w*)/g\n\t\n\t  // build a template (or get it from cache), render with data\n\t  return function(str, data) {\n\t    return str && (cache[str] || (cache[str] = tmpl(str)))(data)\n\t  }\n\t\n\t\n\t  // create a template instance\n\t\n\t  function tmpl(s, p) {\n\t\n\t    if (s.indexOf(brackets(0)) < 0) {\n\t      // return raw text\n\t      s = s.replace(/\\n|\\r\\n?/g, '\\n')\n\t      return function () { return s }\n\t    }\n\t\n\t    // temporarily convert \\{ and \\} to a non-character\n\t    s = s\n\t      .replace(brackets(/\\\\{/g), '\\uFFF0')\n\t      .replace(brackets(/\\\\}/g), '\\uFFF1')\n\t\n\t    // split string to expression and non-expresion parts\n\t    p = split(s, extract(s, brackets(/{/), brackets(/}/)))\n\t\n\t    // is it a single expression or a template? i.e. {x} or <b>{x}</b>\n\t    s = (p.length === 2 && !p[0]) ?\n\t\n\t      // if expression, evaluate it\n\t      expr(p[1]) :\n\t\n\t      // if template, evaluate all expressions in it\n\t      '[' + p.map(function(s, i) {\n\t\n\t        // is it an expression or a string (every second part is an expression)\n\t        return i % 2 ?\n\t\n\t          // evaluate the expressions\n\t          expr(s, true) :\n\t\n\t          // process string parts of the template:\n\t          '\"' + s\n\t\n\t            // preserve new lines\n\t            .replace(/\\n|\\r\\n?/g, '\\\\n')\n\t\n\t            // escape quotes\n\t            .replace(/\"/g, '\\\\\"') +\n\t\n\t          '\"'\n\t\n\t      }).join(',') + '].join(\"\")'\n\t\n\t    return new Function('d', 'return ' + s\n\t      // bring escaped { and } back\n\t      .replace(/\\uFFF0/g, brackets(0))\n\t      .replace(/\\uFFF1/g, brackets(1)) + ';')\n\t\n\t  }\n\t\n\t\n\t  // parse { ... } expression\n\t\n\t  function expr(s, n) {\n\t    s = s\n\t\n\t      // convert new lines to spaces\n\t      .replace(/\\n|\\r\\n?/g, ' ')\n\t\n\t      // trim whitespace, brackets, strip comments\n\t      .replace(brackets(/^[{ ]+|[ }]+$|\\/\\*.+?\\*\\//g), '')\n\t\n\t    // is it an object literal? i.e. { key : value }\n\t    return /^\\s*[\\w- \"']+ *:/.test(s) ?\n\t\n\t      // if object literal, return trueish keys\n\t      // e.g.: { show: isOpen(), done: item.done } -> \"show done\"\n\t      '[' +\n\t\n\t          // extract key:val pairs, ignoring any nested objects\n\t          extract(s,\n\t\n\t              // name part: name:, \"name\":, 'name':, name :\n\t              /[\"' ]*[\\w- ]+[\"' ]*:/,\n\t\n\t              // expression part: everything upto a comma followed by a name (see above) or end of line\n\t              /,(?=[\"' ]*[\\w- ]+[\"' ]*:)|}|$/\n\t              ).map(function(pair) {\n\t\n\t                // get key, val parts\n\t                return pair.replace(/^[ \"']*(.+?)[ \"']*: *(.+?),? *$/, function(_, k, v) {\n\t\n\t                  // wrap all conditional parts to ignore errors\n\t                  return v.replace(/[^&|=!><]+/g, wrap) + '?\"' + k + '\":\"\",'\n\t\n\t                })\n\t\n\t              }).join('') +\n\t\n\t        '].join(\" \").trim()' :\n\t\n\t      // if js expression, evaluate as javascript\n\t      wrap(s, n)\n\t\n\t  }\n\t\n\t\n\t  // execute js w/o breaking on errors or undefined vars\n\t\n\t  function wrap(s, nonull) {\n\t    s = s.trim()\n\t    return !s ? '' : '(function(v){try{v=' +\n\t\n\t      // prefix vars (name => data.name)\n\t      s.replace(reVars, function(s, _, v) { return v ? '((\"' + v + OGLOB + v + ')' : s }) +\n\t\n\t      // default to empty string for falsy values except zero\n\t      '}catch(e){}return ' + (nonull === true ? '!v&&v!==0?\"\":v' : 'v') + '}).call(d)'\n\t  }\n\t\n\t\n\t  // split string by an array of substrings\n\t\n\t  function split(str, substrings) {\n\t    var parts = []\n\t    substrings.map(function(sub, i) {\n\t\n\t      // push matched expression and part before it\n\t      i = str.indexOf(sub)\n\t      parts.push(str.slice(0, i), sub)\n\t      str = str.slice(i + sub.length)\n\t    })\n\t    if (str) parts.push(str)\n\t\n\t    // push the remaining part\n\t    return parts\n\t  }\n\t\n\t\n\t  // match strings between opening and closing regexp, skipping any inner/nested matches\n\t\n\t  function extract(str, open, close) {\n\t\n\t    var start,\n\t        level = 0,\n\t        matches = [],\n\t        re = new RegExp('(' + open.source + ')|(' + close.source + ')', 'g')\n\t\n\t    str.replace(re, function(_, open, close, pos) {\n\t\n\t      // if outer inner bracket, mark position\n\t      if (!level && open) start = pos\n\t\n\t      // in(de)crease bracket level\n\t      level += open ? 1 : -1\n\t\n\t      // if outer closing bracket, grab the match\n\t      if (!level && close != null) matches.push(str.slice(start, pos + close.length))\n\t\n\t    })\n\t\n\t    return matches\n\t  }\n\t\n\t})()\n\t\n\t/*\n\t  lib/browser/tag/mkdom.js\n\t\n\t  Includes hacks needed for the Internet Explorer version 9 and bellow\n\t\n\t*/\n\t// http://kangax.github.io/compat-table/es5/#ie8\n\t// http://codeplanet.io/dropping-ie8/\n\t\n\tvar mkdom = (function (checkIE) {\n\t\n\t  var rootEls = {\n\t        'tr': 'tbody',\n\t        'th': 'tr',\n\t        'td': 'tr',\n\t        'tbody': 'table',\n\t        'col': 'colgroup'\n\t      },\n\t      GENERIC = 'div'\n\t\n\t  checkIE = checkIE && checkIE < 10\n\t\n\t  // creates any dom element in a div, table, or colgroup container\n\t  function _mkdom(html) {\n\t\n\t    var match = html && html.match(/^\\s*<([-\\w]+)/),\n\t        tagName = match && match[1].toLowerCase(),\n\t        rootTag = rootEls[tagName] || GENERIC,\n\t        el = mkEl(rootTag)\n\t\n\t    el.stub = true\n\t\n\t    if (checkIE && tagName && (match = tagName.match(SPECIAL_TAGS_REGEX)))\n\t      ie9elem(el, html, tagName, !!match[1])\n\t    else\n\t      el.innerHTML = html\n\t\n\t    return el\n\t  }\n\t\n\t  // creates tr, th, td, option, optgroup element for IE8-9\n\t  /* istanbul ignore next */\n\t  function ie9elem(el, html, tagName, select) {\n\t\n\t    var div = mkEl(GENERIC),\n\t        tag = select ? 'select>' : 'table>',\n\t        child\n\t\n\t    div.innerHTML = '<' + tag + html + '</' + tag\n\t\n\t    child = div.getElementsByTagName(tagName)[0]\n\t    if (child)\n\t      el.appendChild(child)\n\t\n\t  }\n\t  // end ie9elem()\n\t\n\t  return _mkdom\n\t\n\t})(IE_VERSION)\n\t\n\t// { key, i in items} -> { key, i, items }\n\tfunction loopKeys(expr) {\n\t  var b0 = brackets(0),\n\t      els = expr.trim().slice(b0.length).match(/^\\s*(\\S+?)\\s*(?:,\\s*(\\S+))?\\s+in\\s+(.+)$/)\n\t  return els ? { key: els[1], pos: els[2], val: b0 + els[3] } : { val: expr }\n\t}\n\t\n\tfunction mkitem(expr, key, val) {\n\t  var item = {}\n\t  item[expr.key] = key\n\t  if (expr.pos) item[expr.pos] = val\n\t  return item\n\t}\n\t\n\t\n\t/* Beware: heavy stuff */\n\tfunction _each(dom, parent, expr) {\n\t\n\t  remAttr(dom, 'each')\n\t\n\t  var tagName = getTagName(dom),\n\t      template = dom.outerHTML,\n\t      hasImpl = !!tagImpl[tagName],\n\t      impl = tagImpl[tagName] || {\n\t        tmpl: template\n\t      },\n\t      root = dom.parentNode,\n\t      placeholder = document.createComment('riot placeholder'),\n\t      tags = [],\n\t      child = getTag(dom),\n\t      checksum\n\t\n\t  root.insertBefore(placeholder, dom)\n\t\n\t  expr = loopKeys(expr)\n\t\n\t  // clean template code\n\t  parent\n\t    .one('premount', function () {\n\t      if (root.stub) root = parent.root\n\t      // remove the original DOM node\n\t      dom.parentNode.removeChild(dom)\n\t    })\n\t    .on('update', function () {\n\t      var items = tmpl(expr.val, parent)\n\t\n\t      // object loop. any changes cause full redraw\n\t      if (!isArray(items)) {\n\t\n\t        checksum = items ? JSON.stringify(items) : ''\n\t\n\t        items = !items ? [] :\n\t          Object.keys(items).map(function (key) {\n\t            return mkitem(expr, key, items[key])\n\t          })\n\t      }\n\t\n\t      var frag = document.createDocumentFragment(),\n\t          i = tags.length,\n\t          j = items.length\n\t\n\t      // unmount leftover items\n\t      while (i > j) {\n\t        tags[--i].unmount()\n\t        tags.splice(i, 1)\n\t      }\n\t\n\t      for (i = 0; i < j; ++i) {\n\t        var _item = !checksum && !!expr.key ? mkitem(expr, items[i], i) : items[i]\n\t\n\t        if (!tags[i]) {\n\t          // mount new\n\t          (tags[i] = new Tag(impl, {\n\t              parent: parent,\n\t              isLoop: true,\n\t              hasImpl: hasImpl,\n\t              root: SPECIAL_TAGS_REGEX.test(tagName) ? root : dom.cloneNode(),\n\t              item: _item\n\t            }, dom.innerHTML)\n\t          ).mount()\n\t\n\t          frag.appendChild(tags[i].root)\n\t        } else\n\t          tags[i].update(_item)\n\t\n\t        tags[i]._item = _item\n\t\n\t      }\n\t\n\t      root.insertBefore(frag, placeholder)\n\t\n\t      if (child) parent.tags[tagName] = tags\n\t\n\t    }).one('updated', function() {\n\t      var keys = Object.keys(parent)// only set new values\n\t      walk(root, function(node) {\n\t        // only set element node and not isLoop\n\t        if (node.nodeType == 1 && !node.isLoop && !node._looped) {\n\t          node._visited = false // reset _visited for loop node\n\t          node._looped = true // avoid set multiple each\n\t          setNamed(node, parent, keys)\n\t        }\n\t      })\n\t    })\n\t\n\t}\n\t\n\t\n\tfunction parseNamedElements(root, tag, childTags) {\n\t\n\t  walk(root, function(dom) {\n\t    if (dom.nodeType == 1) {\n\t      dom.isLoop = dom.isLoop || (dom.parentNode && dom.parentNode.isLoop || dom.getAttribute('each')) ? 1 : 0\n\t\n\t      // custom child tag\n\t      var child = getTag(dom)\n\t\n\t      if (child && !dom.isLoop) {\n\t        childTags.push(initChildTag(child, dom, tag))\n\t      }\n\t\n\t      if (!dom.isLoop)\n\t        setNamed(dom, tag, [])\n\t    }\n\t\n\t  })\n\t\n\t}\n\t\n\tfunction parseExpressions(root, tag, expressions) {\n\t\n\t  function addExpr(dom, val, extra) {\n\t    if (val.indexOf(brackets(0)) >= 0) {\n\t      var expr = { dom: dom, expr: val }\n\t      expressions.push(extend(expr, extra))\n\t    }\n\t  }\n\t\n\t  walk(root, function(dom) {\n\t    var type = dom.nodeType\n\t\n\t    // text node\n\t    if (type == 3 && dom.parentNode.tagName != 'STYLE') addExpr(dom, dom.nodeValue)\n\t    if (type != 1) return\n\t\n\t    /* element */\n\t\n\t    // loop\n\t    var attr = dom.getAttribute('each')\n\t\n\t    if (attr) { _each(dom, tag, attr); return false }\n\t\n\t    // attribute expressions\n\t    each(dom.attributes, function(attr) {\n\t      var name = attr.name,\n\t        bool = name.split('__')[1]\n\t\n\t      addExpr(dom, attr.value, { attr: bool || name, bool: bool })\n\t      if (bool) { remAttr(dom, name); return false }\n\t\n\t    })\n\t\n\t    // skip custom tags\n\t    if (getTag(dom)) return false\n\t\n\t  })\n\t\n\t}\n\tfunction Tag(impl, conf, innerHTML) {\n\t\n\t  var self = riot.observable(this),\n\t      opts = inherit(conf.opts) || {},\n\t      dom = mkdom(impl.tmpl),\n\t      parent = conf.parent,\n\t      isLoop = conf.isLoop,\n\t      hasImpl = conf.hasImpl,\n\t      item = cleanUpData(conf.item),\n\t      expressions = [],\n\t      childTags = [],\n\t      root = conf.root,\n\t      fn = impl.fn,\n\t      tagName = root.tagName.toLowerCase(),\n\t      attr = {},\n\t      propsInSyncWithParent = []\n\t\n\t  if (fn && root._tag) {\n\t    root._tag.unmount(true)\n\t  }\n\t\n\t  // not yet mounted\n\t  this.isMounted = false\n\t  root.isLoop = isLoop\n\t\n\t  // keep a reference to the tag just created\n\t  // so we will be able to mount this tag multiple times\n\t  root._tag = this\n\t\n\t  // create a unique id to this tag\n\t  // it could be handy to use it also to improve the virtual dom rendering speed\n\t  this._id = __uid++\n\t\n\t  extend(this, { parent: parent, root: root, opts: opts, tags: {} }, item)\n\t\n\t  // grab attributes\n\t  each(root.attributes, function(el) {\n\t    var val = el.value\n\t    // remember attributes with expressions only\n\t    if (brackets(/{.*}/).test(val)) attr[el.name] = val\n\t  })\n\t\n\t  if (dom.innerHTML && !/^(select|optgroup|table|tbody|tr|col(?:group)?)$/.test(tagName))\n\t    // replace all the yield tags with the tag inner html\n\t    dom.innerHTML = replaceYield(dom.innerHTML, innerHTML)\n\t\n\t  // options\n\t  function updateOpts() {\n\t    var ctx = hasImpl && isLoop ? self : parent || self\n\t\n\t    // update opts from current DOM attributes\n\t    each(root.attributes, function(el) {\n\t      opts[el.name] = tmpl(el.value, ctx)\n\t    })\n\t    // recover those with expressions\n\t    each(Object.keys(attr), function(name) {\n\t      opts[name] = tmpl(attr[name], ctx)\n\t    })\n\t  }\n\t\n\t  function normalizeData(data) {\n\t    for (var key in item) {\n\t      if (typeof self[key] !== T_UNDEF)\n\t        self[key] = data[key]\n\t    }\n\t  }\n\t\n\t  function inheritFromParent () {\n\t    if (!self.parent || !isLoop) return\n\t    each(Object.keys(self.parent), function(k) {\n\t      // some properties must be always in sync with the parent tag\n\t      var mustSync = !~RESERVED_WORDS_BLACKLIST.indexOf(k) && ~propsInSyncWithParent.indexOf(k)\n\t      if (typeof self[k] === T_UNDEF || mustSync) {\n\t        // track the property to keep in sync\n\t        // so we can keep it updated\n\t        if (!mustSync) propsInSyncWithParent.push(k)\n\t        self[k] = self.parent[k]\n\t      }\n\t    })\n\t  }\n\t\n\t  this.update = function(data) {\n\t    // make sure the data passed will not override\n\t    // the component core methods\n\t    data = cleanUpData(data)\n\t    // inherit properties from the parent\n\t    inheritFromParent()\n\t    // normalize the tag properties in case an item object was initially passed\n\t    if (data && typeof item === T_OBJECT) {\n\t      normalizeData(data)\n\t      item = data\n\t    }\n\t    extend(self, data)\n\t    updateOpts()\n\t    self.trigger('update', data)\n\t    update(expressions, self)\n\t    self.trigger('updated')\n\t  }\n\t\n\t  this.mixin = function() {\n\t    each(arguments, function(mix) {\n\t      mix = typeof mix === T_STRING ? riot.mixin(mix) : mix\n\t      each(Object.keys(mix), function(key) {\n\t        // bind methods to self\n\t        if (key != 'init')\n\t          self[key] = isFunction(mix[key]) ? mix[key].bind(self) : mix[key]\n\t      })\n\t      // init method will be called automatically\n\t      if (mix.init) mix.init.bind(self)()\n\t    })\n\t  }\n\t\n\t  this.mount = function() {\n\t\n\t    updateOpts()\n\t\n\t    // initialiation\n\t    if (fn) fn.call(self, opts)\n\t\n\t    // parse layout after init. fn may calculate args for nested custom tags\n\t    parseExpressions(dom, self, expressions)\n\t\n\t    // mount the child tags\n\t    toggle(true)\n\t\n\t    // update the root adding custom attributes coming from the compiler\n\t    // it fixes also #1087\n\t    if (impl.attrs || hasImpl) {\n\t      walkAttributes(impl.attrs, function (k, v) { root.setAttribute(k, v) })\n\t      parseExpressions(self.root, self, expressions)\n\t    }\n\t\n\t    if (!self.parent || isLoop) self.update(item)\n\t\n\t    // internal use only, fixes #403\n\t    self.trigger('premount')\n\t\n\t    if (isLoop && !hasImpl) {\n\t      // update the root attribute for the looped elements\n\t      self.root = root = dom.firstChild\n\t\n\t    } else {\n\t      while (dom.firstChild) root.appendChild(dom.firstChild)\n\t      if (root.stub) self.root = root = parent.root\n\t    }\n\t    // if it's not a child tag we can trigger its mount event\n\t    if (!self.parent || self.parent.isMounted) {\n\t      self.isMounted = true\n\t      self.trigger('mount')\n\t    }\n\t    // otherwise we need to wait that the parent event gets triggered\n\t    else self.parent.one('mount', function() {\n\t      // avoid to trigger the `mount` event for the tags\n\t      // not visible included in an if statement\n\t      if (!isInStub(self.root)) {\n\t        self.parent.isMounted = self.isMounted = true\n\t        self.trigger('mount')\n\t      }\n\t    })\n\t  }\n\t\n\t\n\t  this.unmount = function(keepRootTag) {\n\t    var el = root,\n\t        p = el.parentNode,\n\t        ptag\n\t\n\t    if (p) {\n\t\n\t      if (parent) {\n\t        ptag = getImmediateCustomParentTag(parent)\n\t        // remove this tag from the parent tags object\n\t        // if there are multiple nested tags with same name..\n\t        // remove this element form the array\n\t        if (isArray(ptag.tags[tagName]))\n\t          each(ptag.tags[tagName], function(tag, i) {\n\t            if (tag._id == self._id)\n\t              ptag.tags[tagName].splice(i, 1)\n\t          })\n\t        else\n\t          // otherwise just delete the tag instance\n\t          ptag.tags[tagName] = undefined\n\t      }\n\t\n\t      else\n\t        while (el.firstChild) el.removeChild(el.firstChild)\n\t\n\t      if (!keepRootTag)\n\t        p.removeChild(el)\n\t      else\n\t        // the riot-tag attribute isn't needed anymore, remove it\n\t        p.removeAttribute('riot-tag')\n\t    }\n\t\n\t\n\t    self.trigger('unmount')\n\t    toggle()\n\t    self.off('*')\n\t    // somehow ie8 does not like `delete root._tag`\n\t    root._tag = null\n\t\n\t  }\n\t\n\t  function toggle(isMount) {\n\t\n\t    // mount/unmount children\n\t    each(childTags, function(child) { child[isMount ? 'mount' : 'unmount']() })\n\t\n\t    // listen/unlisten parent (events flow one way from parent to children)\n\t    if (parent) {\n\t      var evt = isMount ? 'on' : 'off'\n\t\n\t      // the loop tags will be always in sync with the parent automatically\n\t      if (isLoop)\n\t        parent[evt]('unmount', self.unmount)\n\t      else\n\t        parent[evt]('update', self.update)[evt]('unmount', self.unmount)\n\t    }\n\t  }\n\t\n\t  // named elements available for fn\n\t  parseNamedElements(dom, this, childTags)\n\t\n\t\n\t}\n\t\n\tfunction setEventHandler(name, handler, dom, tag) {\n\t\n\t  dom[name] = function(e) {\n\t\n\t    var item = tag._item,\n\t        ptag = tag.parent,\n\t        el\n\t\n\t    if (!item)\n\t      while (ptag && !item) {\n\t        item = ptag._item\n\t        ptag = ptag.parent\n\t      }\n\t\n\t    // cross browser event fix\n\t    e = e || window.event\n\t\n\t    // ignore error on some browsers\n\t    try {\n\t      e.currentTarget = dom\n\t      if (!e.target) e.target = e.srcElement\n\t      if (!e.which) e.which = e.charCode || e.keyCode\n\t    } catch (ignored) { /**/ }\n\t\n\t    e.item = item\n\t\n\t    // prevent default behaviour (by default)\n\t    if (handler.call(tag, e) !== true && !/radio|check/.test(dom.type)) {\n\t      if (e.preventDefault) e.preventDefault()\n\t      e.returnValue = false\n\t    }\n\t\n\t    if (!e.preventUpdate) {\n\t      el = item ? getImmediateCustomParentTag(ptag) : tag\n\t      el.update()\n\t    }\n\t\n\t  }\n\t\n\t}\n\t\n\t// used by if- attribute\n\tfunction insertTo(root, node, before) {\n\t  if (root) {\n\t    root.insertBefore(before, node)\n\t    root.removeChild(node)\n\t  }\n\t}\n\t\n\tfunction update(expressions, tag) {\n\t\n\t  each(expressions, function(expr, i) {\n\t\n\t    var dom = expr.dom,\n\t        attrName = expr.attr,\n\t        value = tmpl(expr.expr, tag),\n\t        parent = expr.dom.parentNode\n\t\n\t    if (expr.bool)\n\t      value = value ? attrName : false\n\t    else if (value == null)\n\t      value = ''\n\t\n\t    // leave out riot- prefixes from strings inside textarea\n\t    // fix #815: any value -> string\n\t    if (parent && parent.tagName == 'TEXTAREA') value = ('' + value).replace(/riot-/g, '')\n\t\n\t    // no change\n\t    if (expr.value === value) return\n\t    expr.value = value\n\t\n\t    // text node\n\t    if (!attrName) {\n\t      dom.nodeValue = '' + value    // #815 related\n\t      return\n\t    }\n\t\n\t    // remove original attribute\n\t    remAttr(dom, attrName)\n\t    // event handler\n\t    if (isFunction(value)) {\n\t      setEventHandler(attrName, value, dom, tag)\n\t\n\t    // if- conditional\n\t    } else if (attrName == 'if') {\n\t      var stub = expr.stub,\n\t          add = function() { insertTo(stub.parentNode, stub, dom) },\n\t          remove = function() { insertTo(dom.parentNode, dom, stub) }\n\t\n\t      // add to DOM\n\t      if (value) {\n\t        if (stub) {\n\t          add()\n\t          dom.inStub = false\n\t          // avoid to trigger the mount event if the tags is not visible yet\n\t          // maybe we can optimize this avoiding to mount the tag at all\n\t          if (!isInStub(dom)) {\n\t            walk(dom, function(el) {\n\t              if (el._tag && !el._tag.isMounted) el._tag.isMounted = !!el._tag.trigger('mount')\n\t            })\n\t          }\n\t        }\n\t      // remove from DOM\n\t      } else {\n\t        stub = expr.stub = stub || document.createTextNode('')\n\t        // if the parentNode is defined we can easily replace the tag\n\t        if (dom.parentNode)\n\t          remove()\n\t        else\n\t        // otherwise we need to wait the updated event\n\t          (tag.parent || tag).one('updated', remove)\n\t\n\t        dom.inStub = true\n\t      }\n\t    // show / hide\n\t    } else if (/^(show|hide)$/.test(attrName)) {\n\t      if (attrName == 'hide') value = !value\n\t      dom.style.display = value ? '' : 'none'\n\t\n\t    // field value\n\t    } else if (attrName == 'value') {\n\t      dom.value = value\n\t\n\t    // <img src=\"{ expr }\">\n\t    } else if (startsWith(attrName, RIOT_PREFIX) && attrName != RIOT_TAG) {\n\t      if (value)\n\t        dom.setAttribute(attrName.slice(RIOT_PREFIX.length), value)\n\t\n\t    } else {\n\t      if (expr.bool) {\n\t        dom[attrName] = value\n\t        if (!value) return\n\t      }\n\t\n\t      if (typeof value !== T_OBJECT) dom.setAttribute(attrName, value)\n\t\n\t    }\n\t\n\t  })\n\t\n\t}\n\tfunction each(els, fn) {\n\t  for (var i = 0, len = (els || []).length, el; i < len; i++) {\n\t    el = els[i]\n\t    // return false -> remove current item during loop\n\t    if (el != null && fn(el, i) === false) i--\n\t  }\n\t  return els\n\t}\n\t\n\tfunction isFunction(v) {\n\t  return typeof v === T_FUNCTION || false   // avoid IE problems\n\t}\n\t\n\tfunction remAttr(dom, name) {\n\t  dom.removeAttribute(name)\n\t}\n\t\n\tfunction getTag(dom) {\n\t  return dom.tagName && tagImpl[dom.getAttribute(RIOT_TAG) || dom.tagName.toLowerCase()]\n\t}\n\t\n\tfunction initChildTag(child, dom, parent) {\n\t  var tag = new Tag(child, { root: dom, parent: parent }, dom.innerHTML),\n\t      tagName = getTagName(dom),\n\t      ptag = getImmediateCustomParentTag(parent),\n\t      cachedTag\n\t\n\t  // fix for the parent attribute in the looped elements\n\t  tag.parent = ptag\n\t\n\t  cachedTag = ptag.tags[tagName]\n\t\n\t  // if there are multiple children tags having the same name\n\t  if (cachedTag) {\n\t    // if the parent tags property is not yet an array\n\t    // create it adding the first cached tag\n\t    if (!isArray(cachedTag))\n\t      ptag.tags[tagName] = [cachedTag]\n\t    // add the new nested tag to the array\n\t    if (!~ptag.tags[tagName].indexOf(tag))\n\t      ptag.tags[tagName].push(tag)\n\t  } else {\n\t    ptag.tags[tagName] = tag\n\t  }\n\t\n\t  // empty the child node once we got its template\n\t  // to avoid that its children get compiled multiple times\n\t  dom.innerHTML = ''\n\t\n\t  return tag\n\t}\n\t\n\tfunction getImmediateCustomParentTag(tag) {\n\t  var ptag = tag\n\t  while (!getTag(ptag.root)) {\n\t    if (!ptag.parent) break\n\t    ptag = ptag.parent\n\t  }\n\t  return ptag\n\t}\n\t\n\tfunction getTagName(dom) {\n\t  var child = getTag(dom),\n\t    namedTag = dom.getAttribute('name'),\n\t    tagName = namedTag && namedTag.indexOf(brackets(0)) < 0 ? namedTag : child ? child.name : dom.tagName.toLowerCase()\n\t\n\t  return tagName\n\t}\n\t\n\tfunction extend(src) {\n\t  var obj, args = arguments\n\t  for (var i = 1; i < args.length; ++i) {\n\t    if ((obj = args[i])) {\n\t      for (var key in obj) {      // eslint-disable-line guard-for-in\n\t        src[key] = obj[key]\n\t      }\n\t    }\n\t  }\n\t  return src\n\t}\n\t\n\t// with this function we avoid that the current Tag methods get overridden\n\tfunction cleanUpData(data) {\n\t  if (!(data instanceof Tag) && !(data && typeof data.trigger == T_FUNCTION)) return data\n\t\n\t  var o = {}\n\t  for (var key in data) {\n\t    if (!~RESERVED_WORDS_BLACKLIST.indexOf(key))\n\t      o[key] = data[key]\n\t  }\n\t  return o\n\t}\n\t\n\tfunction walk(dom, fn) {\n\t  if (dom) {\n\t    if (fn(dom) === false) return\n\t    else {\n\t      dom = dom.firstChild\n\t\n\t      while (dom) {\n\t        walk(dom, fn)\n\t        dom = dom.nextSibling\n\t      }\n\t    }\n\t  }\n\t}\n\t\n\t// minimize risk: only zero or one _space_ between attr & value\n\tfunction walkAttributes(html, fn) {\n\t  var m,\n\t      re = /([-\\w]+) ?= ?(?:\"([^\"]*)|'([^']*)|({[^}]*}))/g\n\t\n\t  while ((m = re.exec(html))) {\n\t    fn(m[1].toLowerCase(), m[2] || m[3] || m[4])\n\t  }\n\t}\n\t\n\tfunction isInStub(dom) {\n\t  while (dom) {\n\t    if (dom.inStub) return true\n\t    dom = dom.parentNode\n\t  }\n\t  return false\n\t}\n\t\n\tfunction mkEl(name) {\n\t  return document.createElement(name)\n\t}\n\t\n\tfunction replaceYield(tmpl, innerHTML) {\n\t  return tmpl.replace(/<(yield)\\/?>(<\\/\\1>)?/gi, innerHTML || '')\n\t}\n\t\n\tfunction $$(selector, ctx) {\n\t  return (ctx || document).querySelectorAll(selector)\n\t}\n\t\n\tfunction $(selector, ctx) {\n\t  return (ctx || document).querySelector(selector)\n\t}\n\t\n\tfunction inherit(parent) {\n\t  function Child() {}\n\t  Child.prototype = parent\n\t  return new Child()\n\t}\n\t\n\tfunction setNamed(dom, parent, keys) {\n\t  if (dom._visited) return\n\t  var p,\n\t      v = dom.getAttribute('id') || dom.getAttribute('name')\n\t\n\t  if (v) {\n\t    if (keys.indexOf(v) < 0) {\n\t      p = parent[v]\n\t      if (!p)\n\t        parent[v] = dom\n\t      else if (isArray(p))\n\t        p.push(dom)\n\t      else\n\t        parent[v] = [p, dom]\n\t    }\n\t    dom._visited = true\n\t  }\n\t}\n\t\n\t// faster String startsWith alternative\n\tfunction startsWith(src, str) {\n\t  return src.slice(0, str.length) === str\n\t}\n\t\n\t/*\n\t Virtual dom is an array of custom tags on the document.\n\t Updates and unmounts propagate downwards from parent to children.\n\t*/\n\t\n\tvar virtualDom = [],\n\t    tagImpl = {},\n\t    styleNode\n\t\n\tfunction injectStyle(css) {\n\t\n\t  if (riot.render) return // skip injection on the server\n\t\n\t  if (!styleNode) {\n\t    styleNode = mkEl('style')\n\t    styleNode.setAttribute('type', 'text/css')\n\t  }\n\t\n\t  var head = document.head || document.getElementsByTagName('head')[0]\n\t\n\t  if (styleNode.styleSheet)\n\t    styleNode.styleSheet.cssText += css\n\t  else\n\t    styleNode.innerHTML += css\n\t\n\t  if (!styleNode._rendered)\n\t    if (styleNode.styleSheet) {\n\t      document.body.appendChild(styleNode)\n\t    } else {\n\t      var rs = $('style[type=riot]')\n\t      if (rs) {\n\t        rs.parentNode.insertBefore(styleNode, rs)\n\t        rs.parentNode.removeChild(rs)\n\t      } else head.appendChild(styleNode)\n\t\n\t    }\n\t\n\t  styleNode._rendered = true\n\t\n\t}\n\t\n\tfunction mountTo(root, tagName, opts) {\n\t  var tag = tagImpl[tagName],\n\t      // cache the inner HTML to fix #855\n\t      innerHTML = root._innerHTML = root._innerHTML || root.innerHTML\n\t\n\t  // clear the inner html\n\t  root.innerHTML = ''\n\t\n\t  if (tag && root) tag = new Tag(tag, { root: root, opts: opts }, innerHTML)\n\t\n\t  if (tag && tag.mount) {\n\t    tag.mount()\n\t    virtualDom.push(tag)\n\t    return tag.on('unmount', function() {\n\t      virtualDom.splice(virtualDom.indexOf(tag), 1)\n\t    })\n\t  }\n\t\n\t}\n\t\n\triot.tag = function(name, html, css, attrs, fn) {\n\t  if (isFunction(attrs)) {\n\t    fn = attrs\n\t    if (/^[\\w\\-]+\\s?=/.test(css)) {\n\t      attrs = css\n\t      css = ''\n\t    } else attrs = ''\n\t  }\n\t  if (css) {\n\t    if (isFunction(css)) fn = css\n\t    else injectStyle(css)\n\t  }\n\t  tagImpl[name] = { name: name, tmpl: html, attrs: attrs, fn: fn }\n\t  return name\n\t}\n\t\n\triot.mount = function(selector, tagName, opts) {\n\t\n\t  var els,\n\t      allTags,\n\t      tags = []\n\t\n\t  // helper functions\n\t\n\t  function addRiotTags(arr) {\n\t    var list = ''\n\t    each(arr, function (e) {\n\t      list += ', *[' + RIOT_TAG + '=\"' + e.trim() + '\"]'\n\t    })\n\t    return list\n\t  }\n\t\n\t  function selectAllTags() {\n\t    var keys = Object.keys(tagImpl)\n\t    return keys + addRiotTags(keys)\n\t  }\n\t\n\t  function pushTags(root) {\n\t    var last\n\t    if (root.tagName) {\n\t      if (tagName && (!(last = root.getAttribute(RIOT_TAG)) || last != tagName))\n\t        root.setAttribute(RIOT_TAG, tagName)\n\t\n\t      var tag = mountTo(root,\n\t        tagName || root.getAttribute(RIOT_TAG) || root.tagName.toLowerCase(), opts)\n\t\n\t      if (tag) tags.push(tag)\n\t    }\n\t    else if (root.length) {\n\t      each(root, pushTags)   // assume nodeList\n\t    }\n\t  }\n\t\n\t  // ----- mount code -----\n\t\n\t  if (typeof tagName === T_OBJECT) {\n\t    opts = tagName\n\t    tagName = 0\n\t  }\n\t\n\t  // crawl the DOM to find the tag\n\t  if (typeof selector === T_STRING) {\n\t    if (selector === '*')\n\t      // select all the tags registered\n\t      // and also the tags found with the riot-tag attribute set\n\t      selector = allTags = selectAllTags()\n\t    else\n\t      // or just the ones named like the selector\n\t      selector += addRiotTags(selector.split(','))\n\t\n\t    els = $$(selector)\n\t  }\n\t  else\n\t    // probably you have passed already a tag or a NodeList\n\t    els = selector\n\t\n\t  // select all the registered and mount them inside their root elements\n\t  if (tagName === '*') {\n\t    // get all custom tags\n\t    tagName = allTags || selectAllTags()\n\t    // if the root els it's just a single tag\n\t    if (els.tagName)\n\t      els = $$(tagName, els)\n\t    else {\n\t      // select all the children for all the different root elements\n\t      var nodeList = []\n\t      each(els, function (_el) {\n\t        nodeList.push($$(tagName, _el))\n\t      })\n\t      els = nodeList\n\t    }\n\t    // get rid of the tagName\n\t    tagName = 0\n\t  }\n\t\n\t  if (els.tagName)\n\t    pushTags(els)\n\t  else\n\t    each(els, pushTags)\n\t\n\t  return tags\n\t}\n\t\n\t// update everything\n\triot.update = function() {\n\t  return each(virtualDom, function(tag) {\n\t    tag.update()\n\t  })\n\t}\n\t\n\t// @deprecated\n\triot.mountTo = riot.mount\n\t\n\t  // share methods for other riot parts, e.g. compiler\n\t  riot.util = { brackets: brackets, tmpl: tmpl }\n\t\n\t  // support CommonJS, AMD & browser\n\t  /* istanbul ignore next */\n\t  if (typeof exports === T_OBJECT)\n\t    module.exports = riot\n\t  else if (true)\n\t    !(__WEBPACK_AMD_DEFINE_RESULT__ = function() { return (window.riot = riot) }.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\n\t  else\n\t    window.riot = riot\n\t\n\t})(typeof window != 'undefined' ? window : void 0);\n\n\n/***/ },\n/* 2 */,\n/* 3 */\n/*!*********************************!*\\\n  !*** ./~/regeneratorRuntime.js ***!\n  \\*********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global, process) {/**\n\t * Copyright (c) 2014, Facebook, Inc.\n\t * All rights reserved.\n\t *\n\t * This source code is licensed under the BSD-style license found in the\n\t * https://raw.github.com/facebook/regenerator/master/LICENSE file. An\n\t * additional grant of patent rights can be found in the PATENTS file in\n\t * the same directory.\n\t */\n\t\n\t!(function(global) {\n\t  \"use strict\";\n\t\n\t  var hasOwn = Object.prototype.hasOwnProperty;\n\t  var undefined; // More compressible than void 0.\n\t  var iteratorSymbol =\n\t    typeof Symbol === \"function\" && Symbol.iterator || \"@@iterator\";\n\t\n\t  var inModule = typeof module === \"object\";\n\t  var runtime = global.regeneratorRuntime;\n\t  if (runtime) {\n\t    if (inModule) {\n\t      // If regeneratorRuntime is defined globally and we're in a module,\n\t      // make the exports object identical to regeneratorRuntime.\n\t      module.exports = runtime;\n\t    }\n\t    // Don't bother evaluating the rest of this file if the runtime was\n\t    // already defined globally.\n\t    return;\n\t  }\n\t\n\t  // Define the runtime globally (as expected by generated code) as either\n\t  // module.exports (if we're in a module) or a new, empty object.\n\t  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\t\n\t  function wrap(innerFn, outerFn, self, tryLocsList) {\n\t    // If outerFn provided, then outerFn.prototype instanceof Generator.\n\t    var generator = Object.create((outerFn || Generator).prototype);\n\t\n\t    generator._invoke = makeInvokeMethod(\n\t      innerFn, self || null,\n\t      new Context(tryLocsList || [])\n\t    );\n\t\n\t    return generator;\n\t  }\n\t  runtime.wrap = wrap;\n\t\n\t  // Try/catch helper to minimize deoptimizations. Returns a completion\n\t  // record like context.tryEntries[i].completion. This interface could\n\t  // have been (and was previously) designed to take a closure to be\n\t  // invoked without arguments, but in all the cases we care about we\n\t  // already have an existing method we want to call, so there's no need\n\t  // to create a new function object. We can even get away with assuming\n\t  // the method takes exactly one argument, since that happens to be true\n\t  // in every case, so we don't have to touch the arguments object. The\n\t  // only additional allocation required is the completion record, which\n\t  // has a stable shape and so hopefully should be cheap to allocate.\n\t  function tryCatch(fn, obj, arg) {\n\t    try {\n\t      return { type: \"normal\", arg: fn.call(obj, arg) };\n\t    } catch (err) {\n\t      return { type: \"throw\", arg: err };\n\t    }\n\t  }\n\t\n\t  var GenStateSuspendedStart = \"suspendedStart\";\n\t  var GenStateSuspendedYield = \"suspendedYield\";\n\t  var GenStateExecuting = \"executing\";\n\t  var GenStateCompleted = \"completed\";\n\t\n\t  // Returning this object from the innerFn has the same effect as\n\t  // breaking out of the dispatch switch statement.\n\t  var ContinueSentinel = {};\n\t\n\t  // Dummy constructor functions that we use as the .constructor and\n\t  // .constructor.prototype properties for functions that return Generator\n\t  // objects. For full spec compliance, you may wish to configure your\n\t  // minifier not to mangle the names of these two functions.\n\t  function Generator() {}\n\t  function GeneratorFunction() {}\n\t  function GeneratorFunctionPrototype() {}\n\t\n\t  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype;\n\t  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n\t  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n\t  GeneratorFunction.displayName = \"GeneratorFunction\";\n\t\n\t  // Helper for defining the .next, .throw, and .return methods of the\n\t  // Iterator interface in terms of a single ._invoke method.\n\t  function defineIteratorMethods(prototype) {\n\t    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n\t      prototype[method] = function(arg) {\n\t        return this._invoke(method, arg);\n\t      };\n\t    });\n\t  }\n\t\n\t  runtime.isGeneratorFunction = function(genFun) {\n\t    var ctor = typeof genFun === \"function\" && genFun.constructor;\n\t    return ctor\n\t      ? ctor === GeneratorFunction ||\n\t        // For the native GeneratorFunction constructor, the best we can\n\t        // do is to check its .name property.\n\t        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n\t      : false;\n\t  };\n\t\n\t  runtime.mark = function(genFun) {\n\t    genFun.__proto__ = GeneratorFunctionPrototype;\n\t    genFun.prototype = Object.create(Gp);\n\t    return genFun;\n\t  };\n\t\n\t  // Within the body of any async function, `await x` is transformed to\n\t  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n\t  // `value instanceof AwaitArgument` to determine if the yielded value is\n\t  // meant to be awaited. Some may consider the name of this method too\n\t  // cutesy, but they are curmudgeons.\n\t  runtime.awrap = function(arg) {\n\t    return new AwaitArgument(arg);\n\t  };\n\t\n\t  function AwaitArgument(arg) {\n\t    this.arg = arg;\n\t  }\n\t\n\t  function AsyncIterator(generator) {\n\t    // This invoke function is written in a style that assumes some\n\t    // calling function (or Promise) will handle exceptions.\n\t    function invoke(method, arg) {\n\t      var result = generator[method](arg);\n\t      var value = result.value;\n\t      return value instanceof AwaitArgument\n\t        ? Promise.resolve(value.arg).then(invokeNext, invokeThrow)\n\t        : Promise.resolve(value).then(function(unwrapped) {\n\t            // When a yielded Promise is resolved, its final value becomes\n\t            // the .value of the Promise<{value,done}> result for the\n\t            // current iteration. If the Promise is rejected, however, the\n\t            // result for this iteration will be rejected with the same\n\t            // reason. Note that rejections of yielded Promises are not\n\t            // thrown back into the generator function, as is the case\n\t            // when an awaited Promise is rejected. This difference in\n\t            // behavior between yield and await is important, because it\n\t            // allows the consumer to decide what to do with the yielded\n\t            // rejection (swallow it and continue, manually .throw it back\n\t            // into the generator, abandon iteration, whatever). With\n\t            // await, by contrast, there is no opportunity to examine the\n\t            // rejection reason outside the generator function, so the\n\t            // only option is to throw it from the await expression, and\n\t            // let the generator function handle the exception.\n\t            result.value = unwrapped;\n\t            return result;\n\t          });\n\t    }\n\t\n\t    if (typeof process === \"object\" && process.domain) {\n\t      invoke = process.domain.bind(invoke);\n\t    }\n\t\n\t    var invokeNext = invoke.bind(generator, \"next\");\n\t    var invokeThrow = invoke.bind(generator, \"throw\");\n\t    var invokeReturn = invoke.bind(generator, \"return\");\n\t    var previousPromise;\n\t\n\t    function enqueue(method, arg) {\n\t      var enqueueResult =\n\t        // If enqueue has been called before, then we want to wait until\n\t        // all previous Promises have been resolved before calling invoke,\n\t        // so that results are always delivered in the correct order. If\n\t        // enqueue has not been called before, then it is important to\n\t        // call invoke immediately, without waiting on a callback to fire,\n\t        // so that the async generator function has the opportunity to do\n\t        // any necessary setup in a predictable way. This predictability\n\t        // is why the Promise constructor synchronously invokes its\n\t        // executor callback, and why async functions synchronously\n\t        // execute code before the first await. Since we implement simple\n\t        // async functions in terms of async generators, it is especially\n\t        // important to get this right, even though it requires care.\n\t        previousPromise ? previousPromise.then(function() {\n\t          return invoke(method, arg);\n\t        }) : new Promise(function(resolve) {\n\t          resolve(invoke(method, arg));\n\t        });\n\t\n\t      // Avoid propagating enqueueResult failures to Promises returned by\n\t      // later invocations of the iterator.\n\t      previousPromise = enqueueResult[\"catch\"](function(ignored){});\n\t\n\t      return enqueueResult;\n\t    }\n\t\n\t    // Define the unified helper method that is used to implement .next,\n\t    // .throw, and .return (see defineIteratorMethods).\n\t    this._invoke = enqueue;\n\t  }\n\t\n\t  defineIteratorMethods(AsyncIterator.prototype);\n\t\n\t  // Note that simple async functions are implemented on top of\n\t  // AsyncIterator objects; they just return a Promise for the value of\n\t  // the final result produced by the iterator.\n\t  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n\t    var iter = new AsyncIterator(\n\t      wrap(innerFn, outerFn, self, tryLocsList)\n\t    );\n\t\n\t    return runtime.isGeneratorFunction(outerFn)\n\t      ? iter // If outerFn is a generator, return the full iterator.\n\t      : iter.next().then(function(result) {\n\t          return result.done ? result.value : iter.next();\n\t        });\n\t  };\n\t\n\t  function makeInvokeMethod(innerFn, self, context) {\n\t    var state = GenStateSuspendedStart;\n\t\n\t    return function invoke(method, arg) {\n\t      if (state === GenStateExecuting) {\n\t        throw new Error(\"Generator is already running\");\n\t      }\n\t\n\t      if (state === GenStateCompleted) {\n\t        if (method === \"throw\") {\n\t          throw arg;\n\t        }\n\t\n\t        // Be forgiving, per 25.3.3.3.3 of the spec:\n\t        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n\t        return doneResult();\n\t      }\n\t\n\t      while (true) {\n\t        var delegate = context.delegate;\n\t        if (delegate) {\n\t          if (method === \"return\" ||\n\t              (method === \"throw\" && delegate.iterator[method] === undefined)) {\n\t            // A return or throw (when the delegate iterator has no throw\n\t            // method) always terminates the yield* loop.\n\t            context.delegate = null;\n\t\n\t            // If the delegate iterator has a return method, give it a\n\t            // chance to clean up.\n\t            var returnMethod = delegate.iterator[\"return\"];\n\t            if (returnMethod) {\n\t              var record = tryCatch(returnMethod, delegate.iterator, arg);\n\t              if (record.type === \"throw\") {\n\t                // If the return method threw an exception, let that\n\t                // exception prevail over the original return or throw.\n\t                method = \"throw\";\n\t                arg = record.arg;\n\t                continue;\n\t              }\n\t            }\n\t\n\t            if (method === \"return\") {\n\t              // Continue with the outer return, now that the delegate\n\t              // iterator has been terminated.\n\t              continue;\n\t            }\n\t          }\n\t\n\t          var record = tryCatch(\n\t            delegate.iterator[method],\n\t            delegate.iterator,\n\t            arg\n\t          );\n\t\n\t          if (record.type === \"throw\") {\n\t            context.delegate = null;\n\t\n\t            // Like returning generator.throw(uncaught), but without the\n\t            // overhead of an extra function call.\n\t            method = \"throw\";\n\t            arg = record.arg;\n\t            continue;\n\t          }\n\t\n\t          // Delegate generator ran and handled its own exceptions so\n\t          // regardless of what the method was, we continue as if it is\n\t          // \"next\" with an undefined arg.\n\t          method = \"next\";\n\t          arg = undefined;\n\t\n\t          var info = record.arg;\n\t          if (info.done) {\n\t            context[delegate.resultName] = info.value;\n\t            context.next = delegate.nextLoc;\n\t          } else {\n\t            state = GenStateSuspendedYield;\n\t            return info;\n\t          }\n\t\n\t          context.delegate = null;\n\t        }\n\t\n\t        if (method === \"next\") {\n\t          if (state === GenStateSuspendedYield) {\n\t            context.sent = arg;\n\t          } else {\n\t            context.sent = undefined;\n\t          }\n\t\n\t        } else if (method === \"throw\") {\n\t          if (state === GenStateSuspendedStart) {\n\t            state = GenStateCompleted;\n\t            throw arg;\n\t          }\n\t\n\t          if (context.dispatchException(arg)) {\n\t            // If the dispatched exception was caught by a catch block,\n\t            // then let that catch block handle the exception normally.\n\t            method = \"next\";\n\t            arg = undefined;\n\t          }\n\t\n\t        } else if (method === \"return\") {\n\t          context.abrupt(\"return\", arg);\n\t        }\n\t\n\t        state = GenStateExecuting;\n\t\n\t        var record = tryCatch(innerFn, self, context);\n\t        if (record.type === \"normal\") {\n\t          // If an exception is thrown from innerFn, we leave state ===\n\t          // GenStateExecuting and loop back for another invocation.\n\t          state = context.done\n\t            ? GenStateCompleted\n\t            : GenStateSuspendedYield;\n\t\n\t          var info = {\n\t            value: record.arg,\n\t            done: context.done\n\t          };\n\t\n\t          if (record.arg === ContinueSentinel) {\n\t            if (context.delegate && method === \"next\") {\n\t              // Deliberately forget the last sent value so that we don't\n\t              // accidentally pass it on to the delegate.\n\t              arg = undefined;\n\t            }\n\t          } else {\n\t            return info;\n\t          }\n\t\n\t        } else if (record.type === \"throw\") {\n\t          state = GenStateCompleted;\n\t          // Dispatch the exception by looping back around to the\n\t          // context.dispatchException(arg) call above.\n\t          method = \"throw\";\n\t          arg = record.arg;\n\t        }\n\t      }\n\t    };\n\t  }\n\t\n\t  // Define Generator.prototype.{next,throw,return} in terms of the\n\t  // unified ._invoke helper method.\n\t  defineIteratorMethods(Gp);\n\t\n\t  Gp[iteratorSymbol] = function() {\n\t    return this;\n\t  };\n\t\n\t  Gp.toString = function() {\n\t    return \"[object Generator]\";\n\t  };\n\t\n\t  function pushTryEntry(locs) {\n\t    var entry = { tryLoc: locs[0] };\n\t\n\t    if (1 in locs) {\n\t      entry.catchLoc = locs[1];\n\t    }\n\t\n\t    if (2 in locs) {\n\t      entry.finallyLoc = locs[2];\n\t      entry.afterLoc = locs[3];\n\t    }\n\t\n\t    this.tryEntries.push(entry);\n\t  }\n\t\n\t  function resetTryEntry(entry) {\n\t    var record = entry.completion || {};\n\t    record.type = \"normal\";\n\t    delete record.arg;\n\t    entry.completion = record;\n\t  }\n\t\n\t  function Context(tryLocsList) {\n\t    // The root entry object (effectively a try statement without a catch\n\t    // or a finally block) gives us a place to store values thrown from\n\t    // locations where there is no enclosing try statement.\n\t    this.tryEntries = [{ tryLoc: \"root\" }];\n\t    tryLocsList.forEach(pushTryEntry, this);\n\t    this.reset(true);\n\t  }\n\t\n\t  runtime.keys = function(object) {\n\t    var keys = [];\n\t    for (var key in object) {\n\t      keys.push(key);\n\t    }\n\t    keys.reverse();\n\t\n\t    // Rather than returning an object with a next method, we keep\n\t    // things simple and return the next function itself.\n\t    return function next() {\n\t      while (keys.length) {\n\t        var key = keys.pop();\n\t        if (key in object) {\n\t          next.value = key;\n\t          next.done = false;\n\t          return next;\n\t        }\n\t      }\n\t\n\t      // To avoid creating an additional object, we just hang the .value\n\t      // and .done properties off the next function object itself. This\n\t      // also ensures that the minifier will not anonymize the function.\n\t      next.done = true;\n\t      return next;\n\t    };\n\t  };\n\t\n\t  function values(iterable) {\n\t    if (iterable) {\n\t      var iteratorMethod = iterable[iteratorSymbol];\n\t      if (iteratorMethod) {\n\t        return iteratorMethod.call(iterable);\n\t      }\n\t\n\t      if (typeof iterable.next === \"function\") {\n\t        return iterable;\n\t      }\n\t\n\t      if (!isNaN(iterable.length)) {\n\t        var i = -1, next = function next() {\n\t          while (++i < iterable.length) {\n\t            if (hasOwn.call(iterable, i)) {\n\t              next.value = iterable[i];\n\t              next.done = false;\n\t              return next;\n\t            }\n\t          }\n\t\n\t          next.value = undefined;\n\t          next.done = true;\n\t\n\t          return next;\n\t        };\n\t\n\t        return next.next = next;\n\t      }\n\t    }\n\t\n\t    // Return an iterator with no values.\n\t    return { next: doneResult };\n\t  }\n\t  runtime.values = values;\n\t\n\t  function doneResult() {\n\t    return { value: undefined, done: true };\n\t  }\n\t\n\t  Context.prototype = {\n\t    constructor: Context,\n\t\n\t    reset: function(skipTempReset) {\n\t      this.prev = 0;\n\t      this.next = 0;\n\t      this.sent = undefined;\n\t      this.done = false;\n\t      this.delegate = null;\n\t\n\t      this.tryEntries.forEach(resetTryEntry);\n\t\n\t      if (!skipTempReset) {\n\t        for (var name in this) {\n\t          // Not sure about the optimal order of these conditions:\n\t          if (name.charAt(0) === \"t\" &&\n\t              hasOwn.call(this, name) &&\n\t              !isNaN(+name.slice(1))) {\n\t            this[name] = undefined;\n\t          }\n\t        }\n\t      }\n\t    },\n\t\n\t    stop: function() {\n\t      this.done = true;\n\t\n\t      var rootEntry = this.tryEntries[0];\n\t      var rootRecord = rootEntry.completion;\n\t      if (rootRecord.type === \"throw\") {\n\t        throw rootRecord.arg;\n\t      }\n\t\n\t      return this.rval;\n\t    },\n\t\n\t    dispatchException: function(exception) {\n\t      if (this.done) {\n\t        throw exception;\n\t      }\n\t\n\t      var context = this;\n\t      function handle(loc, caught) {\n\t        record.type = \"throw\";\n\t        record.arg = exception;\n\t        context.next = loc;\n\t        return !!caught;\n\t      }\n\t\n\t      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n\t        var entry = this.tryEntries[i];\n\t        var record = entry.completion;\n\t\n\t        if (entry.tryLoc === \"root\") {\n\t          // Exception thrown outside of any try block that could handle\n\t          // it, so set the completion value of the entire function to\n\t          // throw the exception.\n\t          return handle(\"end\");\n\t        }\n\t\n\t        if (entry.tryLoc <= this.prev) {\n\t          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n\t          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\t\n\t          if (hasCatch && hasFinally) {\n\t            if (this.prev < entry.catchLoc) {\n\t              return handle(entry.catchLoc, true);\n\t            } else if (this.prev < entry.finallyLoc) {\n\t              return handle(entry.finallyLoc);\n\t            }\n\t\n\t          } else if (hasCatch) {\n\t            if (this.prev < entry.catchLoc) {\n\t              return handle(entry.catchLoc, true);\n\t            }\n\t\n\t          } else if (hasFinally) {\n\t            if (this.prev < entry.finallyLoc) {\n\t              return handle(entry.finallyLoc);\n\t            }\n\t\n\t          } else {\n\t            throw new Error(\"try statement without catch or finally\");\n\t          }\n\t        }\n\t      }\n\t    },\n\t\n\t    abrupt: function(type, arg) {\n\t      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n\t        var entry = this.tryEntries[i];\n\t        if (entry.tryLoc <= this.prev &&\n\t            hasOwn.call(entry, \"finallyLoc\") &&\n\t            this.prev < entry.finallyLoc) {\n\t          var finallyEntry = entry;\n\t          break;\n\t        }\n\t      }\n\t\n\t      if (finallyEntry &&\n\t          (type === \"break\" ||\n\t           type === \"continue\") &&\n\t          finallyEntry.tryLoc <= arg &&\n\t          arg <= finallyEntry.finallyLoc) {\n\t        // Ignore the finally entry if control is not jumping to a\n\t        // location outside the try/catch block.\n\t        finallyEntry = null;\n\t      }\n\t\n\t      var record = finallyEntry ? finallyEntry.completion : {};\n\t      record.type = type;\n\t      record.arg = arg;\n\t\n\t      if (finallyEntry) {\n\t        this.next = finallyEntry.finallyLoc;\n\t      } else {\n\t        this.complete(record);\n\t      }\n\t\n\t      return ContinueSentinel;\n\t    },\n\t\n\t    complete: function(record, afterLoc) {\n\t      if (record.type === \"throw\") {\n\t        throw record.arg;\n\t      }\n\t\n\t      if (record.type === \"break\" ||\n\t          record.type === \"continue\") {\n\t        this.next = record.arg;\n\t      } else if (record.type === \"return\") {\n\t        this.rval = record.arg;\n\t        this.next = \"end\";\n\t      } else if (record.type === \"normal\" && afterLoc) {\n\t        this.next = afterLoc;\n\t      }\n\t    },\n\t\n\t    finish: function(finallyLoc) {\n\t      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n\t        var entry = this.tryEntries[i];\n\t        if (entry.finallyLoc === finallyLoc) {\n\t          this.complete(entry.completion, entry.afterLoc);\n\t          resetTryEntry(entry);\n\t          return ContinueSentinel;\n\t        }\n\t      }\n\t    },\n\t\n\t    \"catch\": function(tryLoc) {\n\t      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n\t        var entry = this.tryEntries[i];\n\t        if (entry.tryLoc === tryLoc) {\n\t          var record = entry.completion;\n\t          if (record.type === \"throw\") {\n\t            var thrown = record.arg;\n\t            resetTryEntry(entry);\n\t          }\n\t          return thrown;\n\t        }\n\t      }\n\t\n\t      // The context.catch method must only be called with a location\n\t      // argument that corresponds to a known catch block.\n\t      throw new Error(\"illegal catch attempt\");\n\t    },\n\t\n\t    delegateYield: function(iterable, resultName, nextLoc) {\n\t      this.delegate = {\n\t        iterator: values(iterable),\n\t        resultName: resultName,\n\t        nextLoc: nextLoc\n\t      };\n\t\n\t      return ContinueSentinel;\n\t    }\n\t  };\n\t})(\n\t  // Among the various tricks for obtaining a reference to the global\n\t  // object, this seems to be the most reliable technique that does not\n\t  // use indirect eval (which violates Content Security Policy).\n\t  typeof global === \"object\" ? global :\n\t  typeof window === \"object\" ? window :\n\t  typeof self === \"object\" ? self : this\n\t);\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }()), __webpack_require__(/*! (webpack)/~/node-libs-browser/~/process/browser.js */ 106)))\n\n/***/ },\n/* 4 */,\n/* 5 */,\n/* 6 */\n/*!********************************!*\\\n  !*** ./~/core-js/modules/$.js ***!\n  \\********************************/\n/***/ function(module, exports) {\n\n\tvar $Object = Object;\n\tmodule.exports = {\n\t  create:     $Object.create,\n\t  getProto:   $Object.getPrototypeOf,\n\t  isEnum:     {}.propertyIsEnumerable,\n\t  getDesc:    $Object.getOwnPropertyDescriptor,\n\t  setDesc:    $Object.defineProperty,\n\t  setDescs:   $Object.defineProperties,\n\t  getKeys:    $Object.keys,\n\t  getNames:   $Object.getOwnPropertyNames,\n\t  getSymbols: $Object.getOwnPropertySymbols,\n\t  each:       [].forEach\n\t};\n\n/***/ },\n/* 7 */,\n/* 8 */,\n/* 9 */\n/*!*************************************!*\\\n  !*** ./~/core-js/modules/$.hide.js ***!\n  \\*************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar $          = __webpack_require__(/*! ./$ */ 6)\n\t  , createDesc = __webpack_require__(/*! ./$.property-desc */ 17);\n\tmodule.exports = __webpack_require__(/*! ./$.support-desc */ 33) ? function(object, key, value){\n\t  return $.setDesc(object, key, createDesc(1, value));\n\t} : function(object, key, value){\n\t  object[key] = value;\n\t  return object;\n\t};\n\n/***/ },\n/* 10 */,\n/* 11 */\n/*!***************************************!*\\\n  !*** ./~/core-js/modules/$.global.js ***!\n  \\***************************************/\n/***/ function(module, exports) {\n\n\t// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n\tvar UNDEFINED = 'undefined';\n\tvar global = module.exports = typeof window != UNDEFINED && window.Math == Math\n\t  ? window : typeof self != UNDEFINED && self.Math == Math ? self : Function('return this')();\n\tif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n\n/***/ },\n/* 12 */\n/*!************************************!*\\\n  !*** ./~/core-js/modules/$.wks.js ***!\n  \\************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar store  = __webpack_require__(/*! ./$.shared */ 32)('wks')\n\t  , Symbol = __webpack_require__(/*! ./$.global */ 11).Symbol;\n\tmodule.exports = function(name){\n\t  return store[name] || (store[name] =\n\t    Symbol && Symbol[name] || (Symbol || __webpack_require__(/*! ./$.uid */ 20))('Symbol.' + name));\n\t};\n\n/***/ },\n/* 13 */,\n/* 14 */\n/*!*************************************!*\\\n  !*** ./~/core-js/modules/$.core.js ***!\n  \\*************************************/\n/***/ function(module, exports) {\n\n\tvar core = module.exports = {};\n\tif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\n/***/ },\n/* 15 */\n/*!*******************************************!*\\\n  !*** ./~/core-js/modules/$.to-iobject.js ***!\n  \\*******************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t// to indexed object, toObject with fallback for non-array-like ES3 strings\r\n\tvar IObject = __webpack_require__(/*! ./$.iobject */ 51)\r\n\t  , defined = __webpack_require__(/*! ./$.defined */ 48);\r\n\tmodule.exports = function(it){\r\n\t  return IObject(defined(it));\r\n\t};\n\n/***/ },\n/* 16 */\n/*!************************************!*\\\n  !*** ./~/core-js/modules/$.has.js ***!\n  \\************************************/\n/***/ function(module, exports) {\n\n\tvar hasOwnProperty = {}.hasOwnProperty;\n\tmodule.exports = function(it, key){\n\t  return hasOwnProperty.call(it, key);\n\t};\n\n/***/ },\n/* 17 */\n/*!**********************************************!*\\\n  !*** ./~/core-js/modules/$.property-desc.js ***!\n  \\**********************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = function(bitmap, value){\n\t  return {\n\t    enumerable  : !(bitmap & 1),\n\t    configurable: !(bitmap & 2),\n\t    writable    : !(bitmap & 4),\n\t    value       : value\n\t  };\n\t};\n\n/***/ },\n/* 18 */\n/*!**************************************!*\\\n  !*** ./~/core-js/modules/$.redef.js ***!\n  \\**************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t// add fake Function#toString\n\t// for correct work wrapped methods / constructors with methods like LoDash isNative\n\tvar global    = __webpack_require__(/*! ./$.global */ 11)\n\t  , hide      = __webpack_require__(/*! ./$.hide */ 9)\n\t  , SRC       = __webpack_require__(/*! ./$.uid */ 20)('src')\n\t  , TO_STRING = 'toString'\n\t  , $toString = Function[TO_STRING]\n\t  , TPL       = ('' + $toString).split(TO_STRING);\n\t\n\t__webpack_require__(/*! ./$.core */ 14).inspectSource = function(it){\n\t  return $toString.call(it);\n\t};\n\t\n\t(module.exports = function(O, key, val, safe){\n\t  if(typeof val == 'function'){\n\t    hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n\t    if(!('name' in val))val.name = key;\n\t  }\n\t  if(O === global){\n\t    O[key] = val;\n\t  } else {\n\t    if(!safe)delete O[key];\n\t    hide(O, key, val);\n\t  }\n\t})(Function.prototype, TO_STRING, function toString(){\n\t  return typeof this == 'function' && this[SRC] || $toString.call(this);\n\t});\n\n/***/ },\n/* 19 */\n/*!************************************!*\\\n  !*** ./~/core-js/modules/$.tag.js ***!\n  \\************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar has  = __webpack_require__(/*! ./$.has */ 16)\n\t  , hide = __webpack_require__(/*! ./$.hide */ 9)\n\t  , TAG  = __webpack_require__(/*! ./$.wks */ 12)('toStringTag');\n\t\n\tmodule.exports = function(it, tag, stat){\n\t  if(it && !has(it = stat ? it : it.prototype, TAG))hide(it, TAG, tag);\n\t};\n\n/***/ },\n/* 20 */\n/*!************************************!*\\\n  !*** ./~/core-js/modules/$.uid.js ***!\n  \\************************************/\n/***/ function(module, exports) {\n\n\tvar id = 0\n\t  , px = Math.random();\n\tmodule.exports = function(key){\n\t  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n\t};\n\n/***/ },\n/* 21 */\n/*!***************************************!*\\\n  !*** ./~/leaflet/dist/leaflet-src.js ***!\n  \\***************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*\n\t Leaflet, a JavaScript library for mobile-friendly interactive maps. http://leafletjs.com\n\t (c) 2010-2013, Vladimir Agafonkin\n\t (c) 2010-2011, CloudMade\n\t*/'use strict';(function(window,document,undefined){var oldL=window.L,L={};L.version = '0.7.5'; // define Leaflet for Node module pattern loaders, including Browserify\n\tif(typeof module === 'object' && typeof module.exports === 'object'){module.exports = L; // define Leaflet as an AMD module\n\t}else if(true){!(__WEBPACK_AMD_DEFINE_FACTORY__ = (L), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));} // define Leaflet as a global L variable, saving the original L to restore later if needed\n\tL.noConflict = function(){window.L = oldL;return this;};window.L = L; /*\r\n\t * L.Util contains various utility functions used throughout Leaflet code.\r\n\t */L.Util = {extend:function extend(dest){ // (Object[, Object, ...]) ->\n\tvar sources=Array.prototype.slice.call(arguments,1),i,j,len,src;for(j = 0,len = sources.length;j < len;j++) {src = sources[j] || {};for(i in src) {if(src.hasOwnProperty(i)){dest[i] = src[i];}}}return dest;},bind:function bind(fn,obj){ // (Function, Object) -> Function\n\tvar args=arguments.length > 2?Array.prototype.slice.call(arguments,2):null;return function(){return fn.apply(obj,args || arguments);};},stamp:(function(){var lastId=0,key='_leaflet_id';return function(obj){obj[key] = obj[key] || ++lastId;return obj[key];};})(),invokeEach:function invokeEach(obj,method,context){var i,args;if(typeof obj === 'object'){args = Array.prototype.slice.call(arguments,3);for(i in obj) {method.apply(context,[i,obj[i]].concat(args));}return true;}return false;},limitExecByInterval:function limitExecByInterval(fn,time,context){var lock,execOnUnlock;return function wrapperFn(){var args=arguments;if(lock){execOnUnlock = true;return;}lock = true;setTimeout(function(){lock = false;if(execOnUnlock){wrapperFn.apply(context,args);execOnUnlock = false;}},time);fn.apply(context,args);};},falseFn:function falseFn(){return false;},formatNum:function formatNum(num,digits){var pow=Math.pow(10,digits || 5);return Math.round(num * pow) / pow;},trim:function trim(str){return str.trim?str.trim():str.replace(/^\\s+|\\s+$/g,'');},splitWords:function splitWords(str){return L.Util.trim(str).split(/\\s+/);},setOptions:function setOptions(obj,options){obj.options = L.extend({},obj.options,options);return obj.options;},getParamString:function getParamString(obj,existingUrl,uppercase){var params=[];for(var i in obj) {params.push(encodeURIComponent(uppercase?i.toUpperCase():i) + '=' + encodeURIComponent(obj[i]));}return (!existingUrl || existingUrl.indexOf('?') === -1?'?':'&') + params.join('&');},template:function template(str,data){return str.replace(/\\{ *([\\w_]+) *\\}/g,function(str,key){var value=data[key];if(value === undefined){throw new Error('No value provided for variable ' + str);}else if(typeof value === 'function'){value = value(data);}return value;});},isArray:Array.isArray || function(obj){return Object.prototype.toString.call(obj) === '[object Array]';},emptyImageUrl:'data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs='};(function(){ // inspired by http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n\tfunction getPrefixed(name){var i,fn,prefixes=['webkit','moz','o','ms'];for(i = 0;i < prefixes.length && !fn;i++) {fn = window[prefixes[i] + name];}return fn;}var lastTime=0;function timeoutDefer(fn){var time=+new Date(),timeToCall=Math.max(0,16 - (time - lastTime));lastTime = time + timeToCall;return window.setTimeout(fn,timeToCall);}var requestFn=window.requestAnimationFrame || getPrefixed('RequestAnimationFrame') || timeoutDefer;var cancelFn=window.cancelAnimationFrame || getPrefixed('CancelAnimationFrame') || getPrefixed('CancelRequestAnimationFrame') || function(id){window.clearTimeout(id);};L.Util.requestAnimFrame = function(fn,context,immediate,element){fn = L.bind(fn,context);if(immediate && requestFn === timeoutDefer){fn();}else {return requestFn.call(window,fn,element);}};L.Util.cancelAnimFrame = function(id){if(id){cancelFn.call(window,id);}};})(); // shortcuts for most used utility functions\n\tL.extend = L.Util.extend;L.bind = L.Util.bind;L.stamp = L.Util.stamp;L.setOptions = L.Util.setOptions; /*\r\n\t * L.Class powers the OOP facilities of the library.\r\n\t * Thanks to John Resig and Dean Edwards for inspiration!\r\n\t */L.Class = function(){};L.Class.extend = function(props){ // extended class with the new prototype\n\tvar NewClass=function NewClass(){ // call the constructor\n\tif(this.initialize){this.initialize.apply(this,arguments);} // call all constructor hooks\n\tif(this._initHooks){this.callInitHooks();}}; // instantiate class without calling constructor\n\tvar F=function F(){};F.prototype = this.prototype;var proto=new F();proto.constructor = NewClass;NewClass.prototype = proto; //inherit parent's statics\n\tfor(var i in this) {if(this.hasOwnProperty(i) && i !== 'prototype'){NewClass[i] = this[i];}} // mix static properties into the class\n\tif(props.statics){L.extend(NewClass,props.statics);delete props.statics;} // mix includes into the prototype\n\tif(props.includes){L.Util.extend.apply(null,[proto].concat(props.includes));delete props.includes;} // merge options\n\tif(props.options && proto.options){props.options = L.extend({},proto.options,props.options);} // mix given properties into the prototype\n\tL.extend(proto,props);proto._initHooks = [];var parent=this; // jshint camelcase: false\n\tNewClass.__super__ = parent.prototype; // add method for calling all hooks\n\tproto.callInitHooks = function(){if(this._initHooksCalled){return;}if(parent.prototype.callInitHooks){parent.prototype.callInitHooks.call(this);}this._initHooksCalled = true;for(var i=0,len=proto._initHooks.length;i < len;i++) {proto._initHooks[i].call(this);}};return NewClass;}; // method for adding properties to prototype\n\tL.Class.include = function(props){L.extend(this.prototype,props);}; // merge new default options to the Class\n\tL.Class.mergeOptions = function(options){L.extend(this.prototype.options,options);}; // add a constructor hook\n\tL.Class.addInitHook = function(fn){ // (Function) || (String, args...)\n\tvar args=Array.prototype.slice.call(arguments,1);var init=typeof fn === 'function'?fn:function(){this[fn].apply(this,args);};this.prototype._initHooks = this.prototype._initHooks || [];this.prototype._initHooks.push(init);}; /*\r\n\t * L.Mixin.Events is used to add custom events functionality to Leaflet classes.\r\n\t */var eventsKey='_leaflet_events';L.Mixin = {};L.Mixin.Events = {addEventListener:function addEventListener(types,fn,context){ // (String, Function[, Object]) or (Object[, Object])\n\t// types can be a map of types/handlers\n\tif(L.Util.invokeEach(types,this.addEventListener,this,fn,context)){return this;}var events=this[eventsKey] = this[eventsKey] || {},contextId=context && context !== this && L.stamp(context),i,len,event,type,indexKey,indexLenKey,typeIndex; // types can be a string of space-separated words\n\ttypes = L.Util.splitWords(types);for(i = 0,len = types.length;i < len;i++) {event = {action:fn,context:context || this};type = types[i];if(contextId){ // store listeners of a particular context in a separate hash (if it has an id)\n\t// gives a major performance boost when removing thousands of map layers\n\tindexKey = type + '_idx';indexLenKey = indexKey + '_len';typeIndex = events[indexKey] = events[indexKey] || {};if(!typeIndex[contextId]){typeIndex[contextId] = []; // keep track of the number of keys in the index to quickly check if it's empty\n\tevents[indexLenKey] = (events[indexLenKey] || 0) + 1;}typeIndex[contextId].push(event);}else {events[type] = events[type] || [];events[type].push(event);}}return this;},hasEventListeners:function hasEventListeners(type){ // (String) -> Boolean\n\tvar events=this[eventsKey];return !!events && (type in events && events[type].length > 0 || type + '_idx' in events && events[type + '_idx_len'] > 0);},removeEventListener:function removeEventListener(types,fn,context){ // ([String, Function, Object]) or (Object[, Object])\n\tif(!this[eventsKey]){return this;}if(!types){return this.clearAllEventListeners();}if(L.Util.invokeEach(types,this.removeEventListener,this,fn,context)){return this;}var events=this[eventsKey],contextId=context && context !== this && L.stamp(context),i,len,type,listeners,j,indexKey,indexLenKey,typeIndex,removed;types = L.Util.splitWords(types);for(i = 0,len = types.length;i < len;i++) {type = types[i];indexKey = type + '_idx';indexLenKey = indexKey + '_len';typeIndex = events[indexKey];if(!fn){ // clear all listeners for a type if function isn't specified\n\tdelete events[type];delete events[indexKey];delete events[indexLenKey];}else {listeners = contextId && typeIndex?typeIndex[contextId]:events[type];if(listeners){for(j = listeners.length - 1;j >= 0;j--) {if(listeners[j].action === fn && (!context || listeners[j].context === context)){removed = listeners.splice(j,1); // set the old action to a no-op, because it is possible\n\t// that the listener is being iterated over as part of a dispatch\n\tremoved[0].action = L.Util.falseFn;}}if(context && typeIndex && listeners.length === 0){delete typeIndex[contextId];events[indexLenKey]--;}}}}return this;},clearAllEventListeners:function clearAllEventListeners(){delete this[eventsKey];return this;},fireEvent:function fireEvent(type,data){ // (String[, Object])\n\tif(!this.hasEventListeners(type)){return this;}var event=L.Util.extend({},data,{type:type,target:this});var events=this[eventsKey],listeners,i,len,typeIndex,contextId;if(events[type]){ // make sure adding/removing listeners inside other listeners won't cause infinite loop\n\tlisteners = events[type].slice();for(i = 0,len = listeners.length;i < len;i++) {listeners[i].action.call(listeners[i].context,event);}} // fire event for the context-indexed listeners as well\n\ttypeIndex = events[type + '_idx'];for(contextId in typeIndex) {listeners = typeIndex[contextId].slice();if(listeners){for(i = 0,len = listeners.length;i < len;i++) {listeners[i].action.call(listeners[i].context,event);}}}return this;},addOneTimeEventListener:function addOneTimeEventListener(types,fn,context){if(L.Util.invokeEach(types,this.addOneTimeEventListener,this,fn,context)){return this;}var handler=L.bind(function(){this.removeEventListener(types,fn,context).removeEventListener(types,handler,context);},this);return this.addEventListener(types,fn,context).addEventListener(types,handler,context);}};L.Mixin.Events.on = L.Mixin.Events.addEventListener;L.Mixin.Events.off = L.Mixin.Events.removeEventListener;L.Mixin.Events.once = L.Mixin.Events.addOneTimeEventListener;L.Mixin.Events.fire = L.Mixin.Events.fireEvent; /*\r\n\t * L.Browser handles different browser and feature detections for internal Leaflet use.\r\n\t */(function(){var ie=('ActiveXObject' in window),ielt9=ie && !document.addEventListener, // terrible browser detection to work around Safari / iOS / Android browser bugs\n\tua=navigator.userAgent.toLowerCase(),webkit=ua.indexOf('webkit') !== -1,chrome=ua.indexOf('chrome') !== -1,phantomjs=ua.indexOf('phantom') !== -1,android=ua.indexOf('android') !== -1,android23=ua.search('android [23]') !== -1,gecko=ua.indexOf('gecko') !== -1,mobile=typeof orientation !== undefined + '',msPointer=!window.PointerEvent && window.MSPointerEvent,pointer=window.PointerEvent && window.navigator.pointerEnabled && window.navigator.maxTouchPoints || msPointer,retina='devicePixelRatio' in window && window.devicePixelRatio > 1 || 'matchMedia' in window && window.matchMedia('(min-resolution:144dpi)') && window.matchMedia('(min-resolution:144dpi)').matches,doc=document.documentElement,ie3d=ie && 'transition' in doc.style,webkit3d='WebKitCSSMatrix' in window && 'm11' in new window.WebKitCSSMatrix() && !android23,gecko3d=('MozPerspective' in doc.style),opera3d=('OTransition' in doc.style),any3d=!window.L_DISABLE_3D && (ie3d || webkit3d || gecko3d || opera3d) && !phantomjs;var touch=!window.L_NO_TOUCH && !phantomjs && (pointer || 'ontouchstart' in window || window.DocumentTouch && document instanceof window.DocumentTouch);L.Browser = {ie:ie,ielt9:ielt9,webkit:webkit,gecko:gecko && !webkit && !window.opera && !ie,android:android,android23:android23,chrome:chrome,ie3d:ie3d,webkit3d:webkit3d,gecko3d:gecko3d,opera3d:opera3d,any3d:any3d,mobile:mobile,mobileWebkit:mobile && webkit,mobileWebkit3d:mobile && webkit3d,mobileOpera:mobile && window.opera,touch:touch,msPointer:msPointer,pointer:pointer,retina:retina};})(); /*\r\n\t * L.Point represents a point with x and y coordinates.\r\n\t */L.Point = function( /*Number*/x, /*Number*/y, /*Boolean*/round){this.x = round?Math.round(x):x;this.y = round?Math.round(y):y;};L.Point.prototype = {clone:function clone(){return new L.Point(this.x,this.y);}, // non-destructive, returns a new point\n\tadd:function add(point){return this.clone()._add(L.point(point));}, // destructive, used directly for performance in situations where it's safe to modify existing point\n\t_add:function _add(point){this.x += point.x;this.y += point.y;return this;},subtract:function subtract(point){return this.clone()._subtract(L.point(point));},_subtract:function _subtract(point){this.x -= point.x;this.y -= point.y;return this;},divideBy:function divideBy(num){return this.clone()._divideBy(num);},_divideBy:function _divideBy(num){this.x /= num;this.y /= num;return this;},multiplyBy:function multiplyBy(num){return this.clone()._multiplyBy(num);},_multiplyBy:function _multiplyBy(num){this.x *= num;this.y *= num;return this;},round:function round(){return this.clone()._round();},_round:function _round(){this.x = Math.round(this.x);this.y = Math.round(this.y);return this;},floor:function floor(){return this.clone()._floor();},_floor:function _floor(){this.x = Math.floor(this.x);this.y = Math.floor(this.y);return this;},distanceTo:function distanceTo(point){point = L.point(point);var x=point.x - this.x,y=point.y - this.y;return Math.sqrt(x * x + y * y);},equals:function equals(point){point = L.point(point);return point.x === this.x && point.y === this.y;},contains:function contains(point){point = L.point(point);return Math.abs(point.x) <= Math.abs(this.x) && Math.abs(point.y) <= Math.abs(this.y);},toString:function toString(){return 'Point(' + L.Util.formatNum(this.x) + ', ' + L.Util.formatNum(this.y) + ')';}};L.point = function(x,y,round){if(x instanceof L.Point){return x;}if(L.Util.isArray(x)){return new L.Point(x[0],x[1]);}if(x === undefined || x === null){return x;}return new L.Point(x,y,round);}; /*\r\n\t * L.Bounds represents a rectangular area on the screen in pixel coordinates.\r\n\t */L.Bounds = function(a,b){ //(Point, Point) or Point[]\n\tif(!a){return;}var points=b?[a,b]:a;for(var i=0,len=points.length;i < len;i++) {this.extend(points[i]);}};L.Bounds.prototype = { // extend the bounds to contain the given point\n\textend:function extend(point){ // (Point)\n\tpoint = L.point(point);if(!this.min && !this.max){this.min = point.clone();this.max = point.clone();}else {this.min.x = Math.min(point.x,this.min.x);this.max.x = Math.max(point.x,this.max.x);this.min.y = Math.min(point.y,this.min.y);this.max.y = Math.max(point.y,this.max.y);}return this;},getCenter:function getCenter(round){ // (Boolean) -> Point\n\treturn new L.Point((this.min.x + this.max.x) / 2,(this.min.y + this.max.y) / 2,round);},getBottomLeft:function getBottomLeft(){ // -> Point\n\treturn new L.Point(this.min.x,this.max.y);},getTopRight:function getTopRight(){ // -> Point\n\treturn new L.Point(this.max.x,this.min.y);},getSize:function getSize(){return this.max.subtract(this.min);},contains:function contains(obj){ // (Bounds) or (Point) -> Boolean\n\tvar min,max;if(typeof obj[0] === 'number' || obj instanceof L.Point){obj = L.point(obj);}else {obj = L.bounds(obj);}if(obj instanceof L.Bounds){min = obj.min;max = obj.max;}else {min = max = obj;}return min.x >= this.min.x && max.x <= this.max.x && min.y >= this.min.y && max.y <= this.max.y;},intersects:function intersects(bounds){ // (Bounds) -> Boolean\n\tbounds = L.bounds(bounds);var min=this.min,max=this.max,min2=bounds.min,max2=bounds.max,xIntersects=max2.x >= min.x && min2.x <= max.x,yIntersects=max2.y >= min.y && min2.y <= max.y;return xIntersects && yIntersects;},isValid:function isValid(){return !!(this.min && this.max);}};L.bounds = function(a,b){ // (Bounds) or (Point, Point) or (Point[])\n\tif(!a || a instanceof L.Bounds){return a;}return new L.Bounds(a,b);}; /*\r\n\t * L.Transformation is an utility class to perform simple point transformations through a 2d-matrix.\r\n\t */L.Transformation = function(a,b,c,d){this._a = a;this._b = b;this._c = c;this._d = d;};L.Transformation.prototype = {transform:function transform(point,scale){ // (Point, Number) -> Point\n\treturn this._transform(point.clone(),scale);}, // destructive transform (faster)\n\t_transform:function _transform(point,scale){scale = scale || 1;point.x = scale * (this._a * point.x + this._b);point.y = scale * (this._c * point.y + this._d);return point;},untransform:function untransform(point,scale){scale = scale || 1;return new L.Point((point.x / scale - this._b) / this._a,(point.y / scale - this._d) / this._c);}}; /*\r\n\t * L.DomUtil contains various utility functions for working with DOM.\r\n\t */L.DomUtil = {get:function get(id){return typeof id === 'string'?document.getElementById(id):id;},getStyle:function getStyle(el,style){var value=el.style[style];if(!value && el.currentStyle){value = el.currentStyle[style];}if((!value || value === 'auto') && document.defaultView){var css=document.defaultView.getComputedStyle(el,null);value = css?css[style]:null;}return value === 'auto'?null:value;},getViewportOffset:function getViewportOffset(element){var top=0,left=0,el=element,docBody=document.body,docEl=document.documentElement,pos;do {top += el.offsetTop || 0;left += el.offsetLeft || 0; //add borders\n\ttop += parseInt(L.DomUtil.getStyle(el,'borderTopWidth'),10) || 0;left += parseInt(L.DomUtil.getStyle(el,'borderLeftWidth'),10) || 0;pos = L.DomUtil.getStyle(el,'position');if(el.offsetParent === docBody && pos === 'absolute'){break;}if(pos === 'fixed'){top += docBody.scrollTop || docEl.scrollTop || 0;left += docBody.scrollLeft || docEl.scrollLeft || 0;break;}if(pos === 'relative' && !el.offsetLeft){var width=L.DomUtil.getStyle(el,'width'),maxWidth=L.DomUtil.getStyle(el,'max-width'),r=el.getBoundingClientRect();if(width !== 'none' || maxWidth !== 'none'){left += r.left + el.clientLeft;} //calculate full y offset since we're breaking out of the loop\n\ttop += r.top + (docBody.scrollTop || docEl.scrollTop || 0);break;}el = el.offsetParent;}while(el);el = element;do {if(el === docBody){break;}top -= el.scrollTop || 0;left -= el.scrollLeft || 0;el = el.parentNode;}while(el);return new L.Point(left,top);},documentIsLtr:function documentIsLtr(){if(!L.DomUtil._docIsLtrCached){L.DomUtil._docIsLtrCached = true;L.DomUtil._docIsLtr = L.DomUtil.getStyle(document.body,'direction') === 'ltr';}return L.DomUtil._docIsLtr;},create:function create(tagName,className,container){var el=document.createElement(tagName);el.className = className;if(container){container.appendChild(el);}return el;},hasClass:function hasClass(el,name){if(el.classList !== undefined){return el.classList.contains(name);}var className=L.DomUtil._getClass(el);return className.length > 0 && new RegExp('(^|\\\\s)' + name + '(\\\\s|$)').test(className);},addClass:function addClass(el,name){if(el.classList !== undefined){var classes=L.Util.splitWords(name);for(var i=0,len=classes.length;i < len;i++) {el.classList.add(classes[i]);}}else if(!L.DomUtil.hasClass(el,name)){var className=L.DomUtil._getClass(el);L.DomUtil._setClass(el,(className?className + ' ':'') + name);}},removeClass:function removeClass(el,name){if(el.classList !== undefined){el.classList.remove(name);}else {L.DomUtil._setClass(el,L.Util.trim((' ' + L.DomUtil._getClass(el) + ' ').replace(' ' + name + ' ',' ')));}},_setClass:function _setClass(el,name){if(el.className.baseVal === undefined){el.className = name;}else { // in case of SVG element\n\tel.className.baseVal = name;}},_getClass:function _getClass(el){return el.className.baseVal === undefined?el.className:el.className.baseVal;},setOpacity:function setOpacity(el,value){if('opacity' in el.style){el.style.opacity = value;}else if('filter' in el.style){var filter=false,filterName='DXImageTransform.Microsoft.Alpha'; // filters collection throws an error if we try to retrieve a filter that doesn't exist\n\ttry{filter = el.filters.item(filterName);}catch(e) { // don't set opacity to 1 if we haven't already set an opacity,\n\t// it isn't needed and breaks transparent pngs.\n\tif(value === 1){return;}}value = Math.round(value * 100);if(filter){filter.Enabled = value !== 100;filter.Opacity = value;}else {el.style.filter += ' progid:' + filterName + '(opacity=' + value + ')';}}},testProp:function testProp(props){var style=document.documentElement.style;for(var i=0;i < props.length;i++) {if(props[i] in style){return props[i];}}return false;},getTranslateString:function getTranslateString(point){ // on WebKit browsers (Chrome/Safari/iOS Safari/Android) using translate3d instead of translate\n\t// makes animation smoother as it ensures HW accel is used. Firefox 13 doesn't care\n\t// (same speed either way), Opera 12 doesn't support translate3d\n\tvar is3d=L.Browser.webkit3d,open='translate' + (is3d?'3d':'') + '(',close=(is3d?',0':'') + ')';return open + point.x + 'px,' + point.y + 'px' + close;},getScaleString:function getScaleString(scale,origin){var preTranslateStr=L.DomUtil.getTranslateString(origin.add(origin.multiplyBy(-1 * scale))),scaleStr=' scale(' + scale + ') ';return preTranslateStr + scaleStr;},setPosition:function setPosition(el,point,disable3D){ // (HTMLElement, Point[, Boolean])\n\t// jshint camelcase: false\n\tel._leaflet_pos = point;if(!disable3D && L.Browser.any3d){el.style[L.DomUtil.TRANSFORM] = L.DomUtil.getTranslateString(point);}else {el.style.left = point.x + 'px';el.style.top = point.y + 'px';}},getPosition:function getPosition(el){ // this method is only used for elements previously positioned using setPosition,\n\t// so it's safe to cache the position for performance\n\t// jshint camelcase: false\n\treturn el._leaflet_pos;}}; // prefix style property names\n\tL.DomUtil.TRANSFORM = L.DomUtil.testProp(['transform','WebkitTransform','OTransform','MozTransform','msTransform']); // webkitTransition comes first because some browser versions that drop vendor prefix don't do\n\t// the same for the transitionend event, in particular the Android 4.1 stock browser\n\tL.DomUtil.TRANSITION = L.DomUtil.testProp(['webkitTransition','transition','OTransition','MozTransition','msTransition']);L.DomUtil.TRANSITION_END = L.DomUtil.TRANSITION === 'webkitTransition' || L.DomUtil.TRANSITION === 'OTransition'?L.DomUtil.TRANSITION + 'End':'transitionend';(function(){if('onselectstart' in document){L.extend(L.DomUtil,{disableTextSelection:function disableTextSelection(){L.DomEvent.on(window,'selectstart',L.DomEvent.preventDefault);},enableTextSelection:function enableTextSelection(){L.DomEvent.off(window,'selectstart',L.DomEvent.preventDefault);}});}else {var userSelectProperty=L.DomUtil.testProp(['userSelect','WebkitUserSelect','OUserSelect','MozUserSelect','msUserSelect']);L.extend(L.DomUtil,{disableTextSelection:function disableTextSelection(){if(userSelectProperty){var style=document.documentElement.style;this._userSelect = style[userSelectProperty];style[userSelectProperty] = 'none';}},enableTextSelection:function enableTextSelection(){if(userSelectProperty){document.documentElement.style[userSelectProperty] = this._userSelect;delete this._userSelect;}}});}L.extend(L.DomUtil,{disableImageDrag:function disableImageDrag(){L.DomEvent.on(window,'dragstart',L.DomEvent.preventDefault);},enableImageDrag:function enableImageDrag(){L.DomEvent.off(window,'dragstart',L.DomEvent.preventDefault);}});})(); /*\r\n\t * L.LatLng represents a geographical point with latitude and longitude coordinates.\r\n\t */L.LatLng = function(lat,lng,alt){ // (Number, Number, Number)\n\tlat = parseFloat(lat);lng = parseFloat(lng);if(isNaN(lat) || isNaN(lng)){throw new Error('Invalid LatLng object: (' + lat + ', ' + lng + ')');}this.lat = lat;this.lng = lng;if(alt !== undefined){this.alt = parseFloat(alt);}};L.extend(L.LatLng,{DEG_TO_RAD:Math.PI / 180,RAD_TO_DEG:180 / Math.PI,MAX_MARGIN:1.0E-9 // max margin of error for the \"equals\" check\n\t});L.LatLng.prototype = {equals:function equals(obj){ // (LatLng) -> Boolean\n\tif(!obj){return false;}obj = L.latLng(obj);var margin=Math.max(Math.abs(this.lat - obj.lat),Math.abs(this.lng - obj.lng));return margin <= L.LatLng.MAX_MARGIN;},toString:function toString(precision){ // (Number) -> String\n\treturn 'LatLng(' + L.Util.formatNum(this.lat,precision) + ', ' + L.Util.formatNum(this.lng,precision) + ')';}, // Haversine distance formula, see http://en.wikipedia.org/wiki/Haversine_formula\n\t// TODO move to projection code, LatLng shouldn't know about Earth\n\tdistanceTo:function distanceTo(other){ // (LatLng) -> Number\n\tother = L.latLng(other);var R=6378137, // earth radius in meters\n\td2r=L.LatLng.DEG_TO_RAD,dLat=(other.lat - this.lat) * d2r,dLon=(other.lng - this.lng) * d2r,lat1=this.lat * d2r,lat2=other.lat * d2r,sin1=Math.sin(dLat / 2),sin2=Math.sin(dLon / 2);var a=sin1 * sin1 + sin2 * sin2 * Math.cos(lat1) * Math.cos(lat2);return R * 2 * Math.atan2(Math.sqrt(a),Math.sqrt(1 - a));},wrap:function wrap(a,b){ // (Number, Number) -> LatLng\n\tvar lng=this.lng;a = a || -180;b = b || 180;lng = (lng + b) % (b - a) + (lng < a || lng === b?b:a);return new L.LatLng(this.lat,lng);}};L.latLng = function(a,b){ // (LatLng) or ([Number, Number]) or (Number, Number)\n\tif(a instanceof L.LatLng){return a;}if(L.Util.isArray(a)){if(typeof a[0] === 'number' || typeof a[0] === 'string'){return new L.LatLng(a[0],a[1],a[2]);}else {return null;}}if(a === undefined || a === null){return a;}if(typeof a === 'object' && 'lat' in a){return new L.LatLng(a.lat,'lng' in a?a.lng:a.lon);}if(b === undefined){return null;}return new L.LatLng(a,b);}; /*\r\n\t * L.LatLngBounds represents a rectangular area on the map in geographical coordinates.\r\n\t */L.LatLngBounds = function(southWest,northEast){ // (LatLng, LatLng) or (LatLng[])\n\tif(!southWest){return;}var latlngs=northEast?[southWest,northEast]:southWest;for(var i=0,len=latlngs.length;i < len;i++) {this.extend(latlngs[i]);}};L.LatLngBounds.prototype = { // extend the bounds to contain the given point or bounds\n\textend:function extend(obj){ // (LatLng) or (LatLngBounds)\n\tif(!obj){return this;}var latLng=L.latLng(obj);if(latLng !== null){obj = latLng;}else {obj = L.latLngBounds(obj);}if(obj instanceof L.LatLng){if(!this._southWest && !this._northEast){this._southWest = new L.LatLng(obj.lat,obj.lng);this._northEast = new L.LatLng(obj.lat,obj.lng);}else {this._southWest.lat = Math.min(obj.lat,this._southWest.lat);this._southWest.lng = Math.min(obj.lng,this._southWest.lng);this._northEast.lat = Math.max(obj.lat,this._northEast.lat);this._northEast.lng = Math.max(obj.lng,this._northEast.lng);}}else if(obj instanceof L.LatLngBounds){this.extend(obj._southWest);this.extend(obj._northEast);}return this;}, // extend the bounds by a percentage\n\tpad:function pad(bufferRatio){ // (Number) -> LatLngBounds\n\tvar sw=this._southWest,ne=this._northEast,heightBuffer=Math.abs(sw.lat - ne.lat) * bufferRatio,widthBuffer=Math.abs(sw.lng - ne.lng) * bufferRatio;return new L.LatLngBounds(new L.LatLng(sw.lat - heightBuffer,sw.lng - widthBuffer),new L.LatLng(ne.lat + heightBuffer,ne.lng + widthBuffer));},getCenter:function getCenter(){ // -> LatLng\n\treturn new L.LatLng((this._southWest.lat + this._northEast.lat) / 2,(this._southWest.lng + this._northEast.lng) / 2);},getSouthWest:function getSouthWest(){return this._southWest;},getNorthEast:function getNorthEast(){return this._northEast;},getNorthWest:function getNorthWest(){return new L.LatLng(this.getNorth(),this.getWest());},getSouthEast:function getSouthEast(){return new L.LatLng(this.getSouth(),this.getEast());},getWest:function getWest(){return this._southWest.lng;},getSouth:function getSouth(){return this._southWest.lat;},getEast:function getEast(){return this._northEast.lng;},getNorth:function getNorth(){return this._northEast.lat;},contains:function contains(obj){ // (LatLngBounds) or (LatLng) -> Boolean\n\tif(typeof obj[0] === 'number' || obj instanceof L.LatLng){obj = L.latLng(obj);}else {obj = L.latLngBounds(obj);}var sw=this._southWest,ne=this._northEast,sw2,ne2;if(obj instanceof L.LatLngBounds){sw2 = obj.getSouthWest();ne2 = obj.getNorthEast();}else {sw2 = ne2 = obj;}return sw2.lat >= sw.lat && ne2.lat <= ne.lat && sw2.lng >= sw.lng && ne2.lng <= ne.lng;},intersects:function intersects(bounds){ // (LatLngBounds)\n\tbounds = L.latLngBounds(bounds);var sw=this._southWest,ne=this._northEast,sw2=bounds.getSouthWest(),ne2=bounds.getNorthEast(),latIntersects=ne2.lat >= sw.lat && sw2.lat <= ne.lat,lngIntersects=ne2.lng >= sw.lng && sw2.lng <= ne.lng;return latIntersects && lngIntersects;},toBBoxString:function toBBoxString(){return [this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(',');},equals:function equals(bounds){ // (LatLngBounds)\n\tif(!bounds){return false;}bounds = L.latLngBounds(bounds);return this._southWest.equals(bounds.getSouthWest()) && this._northEast.equals(bounds.getNorthEast());},isValid:function isValid(){return !!(this._southWest && this._northEast);}}; //TODO International date line?\n\tL.latLngBounds = function(a,b){ // (LatLngBounds) or (LatLng, LatLng)\n\tif(!a || a instanceof L.LatLngBounds){return a;}return new L.LatLngBounds(a,b);}; /*\r\n\t * L.Projection contains various geographical projections used by CRS classes.\r\n\t */L.Projection = {}; /*\r\n\t * Spherical Mercator is the most popular map projection, used by EPSG:3857 CRS used by default.\r\n\t */L.Projection.SphericalMercator = {MAX_LATITUDE:85.0511287798,project:function project(latlng){ // (LatLng) -> Point\n\tvar d=L.LatLng.DEG_TO_RAD,max=this.MAX_LATITUDE,lat=Math.max(Math.min(max,latlng.lat),-max),x=latlng.lng * d,y=lat * d;y = Math.log(Math.tan(Math.PI / 4 + y / 2));return new L.Point(x,y);},unproject:function unproject(point){ // (Point, Boolean) -> LatLng\n\tvar d=L.LatLng.RAD_TO_DEG,lng=point.x * d,lat=(2 * Math.atan(Math.exp(point.y)) - Math.PI / 2) * d;return new L.LatLng(lat,lng);}}; /*\r\n\t * Simple equirectangular (Plate Carree) projection, used by CRS like EPSG:4326 and Simple.\r\n\t */L.Projection.LonLat = {project:function project(latlng){return new L.Point(latlng.lng,latlng.lat);},unproject:function unproject(point){return new L.LatLng(point.y,point.x);}}; /*\r\n\t * L.CRS is a base object for all defined CRS (Coordinate Reference Systems) in Leaflet.\r\n\t */L.CRS = {latLngToPoint:function latLngToPoint(latlng,zoom){ // (LatLng, Number) -> Point\n\tvar projectedPoint=this.projection.project(latlng),scale=this.scale(zoom);return this.transformation._transform(projectedPoint,scale);},pointToLatLng:function pointToLatLng(point,zoom){ // (Point, Number[, Boolean]) -> LatLng\n\tvar scale=this.scale(zoom),untransformedPoint=this.transformation.untransform(point,scale);return this.projection.unproject(untransformedPoint);},project:function project(latlng){return this.projection.project(latlng);},scale:function scale(zoom){return 256 * Math.pow(2,zoom);},getSize:function getSize(zoom){var s=this.scale(zoom);return L.point(s,s);}}; /*\n\t * A simple CRS that can be used for flat non-Earth maps like panoramas or game maps.\n\t */L.CRS.Simple = L.extend({},L.CRS,{projection:L.Projection.LonLat,transformation:new L.Transformation(1,0,-1,0),scale:function scale(zoom){return Math.pow(2,zoom);}}); /*\r\n\t * L.CRS.EPSG3857 (Spherical Mercator) is the most common CRS for web mapping\r\n\t * and is used by Leaflet by default.\r\n\t */L.CRS.EPSG3857 = L.extend({},L.CRS,{code:'EPSG:3857',projection:L.Projection.SphericalMercator,transformation:new L.Transformation(0.5 / Math.PI,0.5,-0.5 / Math.PI,0.5),project:function project(latlng){ // (LatLng) -> Point\n\tvar projectedPoint=this.projection.project(latlng),earthRadius=6378137;return projectedPoint.multiplyBy(earthRadius);}});L.CRS.EPSG900913 = L.extend({},L.CRS.EPSG3857,{code:'EPSG:900913'}); /*\r\n\t * L.CRS.EPSG4326 is a CRS popular among advanced GIS specialists.\r\n\t */L.CRS.EPSG4326 = L.extend({},L.CRS,{code:'EPSG:4326',projection:L.Projection.LonLat,transformation:new L.Transformation(1 / 360,0.5,-1 / 360,0.5)}); /*\r\n\t * L.Map is the central class of the API - it is used to create a map.\r\n\t */L.Map = L.Class.extend({includes:L.Mixin.Events,options:{crs:L.CRS.EPSG3857, /*\r\n\t\t\tcenter: LatLng,\r\n\t\t\tzoom: Number,\r\n\t\t\tlayers: Array,\r\n\t\t\t*/fadeAnimation:L.DomUtil.TRANSITION && !L.Browser.android23,trackResize:true,markerZoomAnimation:L.DomUtil.TRANSITION && L.Browser.any3d},initialize:function initialize(id,options){ // (HTMLElement or String, Object)\n\toptions = L.setOptions(this,options);this._initContainer(id);this._initLayout(); // hack for https://github.com/Leaflet/Leaflet/issues/1980\n\tthis._onResize = L.bind(this._onResize,this);this._initEvents();if(options.maxBounds){this.setMaxBounds(options.maxBounds);}if(options.center && options.zoom !== undefined){this.setView(L.latLng(options.center),options.zoom,{reset:true});}this._handlers = [];this._layers = {};this._zoomBoundLayers = {};this._tileLayersNum = 0;this.callInitHooks();this._addLayers(options.layers);}, // public methods that modify map state\n\t// replaced by animation-powered implementation in Map.PanAnimation.js\n\tsetView:function setView(center,zoom){zoom = zoom === undefined?this.getZoom():zoom;this._resetView(L.latLng(center),this._limitZoom(zoom));return this;},setZoom:function setZoom(zoom,options){if(!this._loaded){this._zoom = this._limitZoom(zoom);return this;}return this.setView(this.getCenter(),zoom,{zoom:options});},zoomIn:function zoomIn(delta,options){return this.setZoom(this._zoom + (delta || 1),options);},zoomOut:function zoomOut(delta,options){return this.setZoom(this._zoom - (delta || 1),options);},setZoomAround:function setZoomAround(latlng,zoom,options){var scale=this.getZoomScale(zoom),viewHalf=this.getSize().divideBy(2),containerPoint=latlng instanceof L.Point?latlng:this.latLngToContainerPoint(latlng),centerOffset=containerPoint.subtract(viewHalf).multiplyBy(1 - 1 / scale),newCenter=this.containerPointToLatLng(viewHalf.add(centerOffset));return this.setView(newCenter,zoom,{zoom:options});},fitBounds:function fitBounds(bounds,options){options = options || {};bounds = bounds.getBounds?bounds.getBounds():L.latLngBounds(bounds);var paddingTL=L.point(options.paddingTopLeft || options.padding || [0,0]),paddingBR=L.point(options.paddingBottomRight || options.padding || [0,0]),zoom=this.getBoundsZoom(bounds,false,paddingTL.add(paddingBR));zoom = options.maxZoom?Math.min(options.maxZoom,zoom):zoom;var paddingOffset=paddingBR.subtract(paddingTL).divideBy(2),swPoint=this.project(bounds.getSouthWest(),zoom),nePoint=this.project(bounds.getNorthEast(),zoom),center=this.unproject(swPoint.add(nePoint).divideBy(2).add(paddingOffset),zoom);return this.setView(center,zoom,options);},fitWorld:function fitWorld(options){return this.fitBounds([[-90,-180],[90,180]],options);},panTo:function panTo(center,options){ // (LatLng)\n\treturn this.setView(center,this._zoom,{pan:options});},panBy:function panBy(offset){ // (Point)\n\t// replaced with animated panBy in Map.PanAnimation.js\n\tthis.fire('movestart');this._rawPanBy(L.point(offset));this.fire('move');return this.fire('moveend');},setMaxBounds:function setMaxBounds(bounds){bounds = L.latLngBounds(bounds);this.options.maxBounds = bounds;if(!bounds){return this.off('moveend',this._panInsideMaxBounds,this);}if(this._loaded){this._panInsideMaxBounds();}return this.on('moveend',this._panInsideMaxBounds,this);},panInsideBounds:function panInsideBounds(bounds,options){var center=this.getCenter(),newCenter=this._limitCenter(center,this._zoom,bounds);if(center.equals(newCenter)){return this;}return this.panTo(newCenter,options);},addLayer:function addLayer(layer){ // TODO method is too big, refactor\n\tvar id=L.stamp(layer);if(this._layers[id]){return this;}this._layers[id] = layer; // TODO getMaxZoom, getMinZoom in ILayer (instead of options)\n\tif(layer.options && (!isNaN(layer.options.maxZoom) || !isNaN(layer.options.minZoom))){this._zoomBoundLayers[id] = layer;this._updateZoomLevels();} // TODO looks ugly, refactor!!!\n\tif(this.options.zoomAnimation && L.TileLayer && layer instanceof L.TileLayer){this._tileLayersNum++;this._tileLayersToLoad++;layer.on('load',this._onTileLayerLoad,this);}if(this._loaded){this._layerAdd(layer);}return this;},removeLayer:function removeLayer(layer){var id=L.stamp(layer);if(!this._layers[id]){return this;}if(this._loaded){layer.onRemove(this);}delete this._layers[id];if(this._loaded){this.fire('layerremove',{layer:layer});}if(this._zoomBoundLayers[id]){delete this._zoomBoundLayers[id];this._updateZoomLevels();} // TODO looks ugly, refactor\n\tif(this.options.zoomAnimation && L.TileLayer && layer instanceof L.TileLayer){this._tileLayersNum--;this._tileLayersToLoad--;layer.off('load',this._onTileLayerLoad,this);}return this;},hasLayer:function hasLayer(layer){if(!layer){return false;}return L.stamp(layer) in this._layers;},eachLayer:function eachLayer(method,context){for(var i in this._layers) {method.call(context,this._layers[i]);}return this;},invalidateSize:function invalidateSize(options){if(!this._loaded){return this;}options = L.extend({animate:false,pan:true},options === true?{animate:true}:options);var oldSize=this.getSize();this._sizeChanged = true;this._initialCenter = null;var newSize=this.getSize(),oldCenter=oldSize.divideBy(2).round(),newCenter=newSize.divideBy(2).round(),offset=oldCenter.subtract(newCenter);if(!offset.x && !offset.y){return this;}if(options.animate && options.pan){this.panBy(offset);}else {if(options.pan){this._rawPanBy(offset);}this.fire('move');if(options.debounceMoveend){clearTimeout(this._sizeTimer);this._sizeTimer = setTimeout(L.bind(this.fire,this,'moveend'),200);}else {this.fire('moveend');}}return this.fire('resize',{oldSize:oldSize,newSize:newSize});}, // TODO handler.addTo\n\taddHandler:function addHandler(name,HandlerClass){if(!HandlerClass){return this;}var handler=this[name] = new HandlerClass(this);this._handlers.push(handler);if(this.options[name]){handler.enable();}return this;},remove:function remove(){if(this._loaded){this.fire('unload');}this._initEvents('off');try{ // throws error in IE6-8\n\tdelete this._container._leaflet;}catch(e) {this._container._leaflet = undefined;}this._clearPanes();if(this._clearControlPos){this._clearControlPos();}this._clearHandlers();return this;}, // public methods for getting map state\n\tgetCenter:function getCenter(){ // (Boolean) -> LatLng\n\tthis._checkIfLoaded();if(this._initialCenter && !this._moved()){return this._initialCenter;}return this.layerPointToLatLng(this._getCenterLayerPoint());},getZoom:function getZoom(){return this._zoom;},getBounds:function getBounds(){var bounds=this.getPixelBounds(),sw=this.unproject(bounds.getBottomLeft()),ne=this.unproject(bounds.getTopRight());return new L.LatLngBounds(sw,ne);},getMinZoom:function getMinZoom(){return this.options.minZoom === undefined?this._layersMinZoom === undefined?0:this._layersMinZoom:this.options.minZoom;},getMaxZoom:function getMaxZoom(){return this.options.maxZoom === undefined?this._layersMaxZoom === undefined?Infinity:this._layersMaxZoom:this.options.maxZoom;},getBoundsZoom:function getBoundsZoom(bounds,inside,padding){ // (LatLngBounds[, Boolean, Point]) -> Number\n\tbounds = L.latLngBounds(bounds);var zoom=this.getMinZoom() - (inside?1:0),maxZoom=this.getMaxZoom(),size=this.getSize(),nw=bounds.getNorthWest(),se=bounds.getSouthEast(),zoomNotFound=true,boundsSize;padding = L.point(padding || [0,0]);do {zoom++;boundsSize = this.project(se,zoom).subtract(this.project(nw,zoom)).add(padding);zoomNotFound = !inside?size.contains(boundsSize):boundsSize.x < size.x || boundsSize.y < size.y;}while(zoomNotFound && zoom <= maxZoom);if(zoomNotFound && inside){return null;}return inside?zoom:zoom - 1;},getSize:function getSize(){if(!this._size || this._sizeChanged){this._size = new L.Point(this._container.clientWidth,this._container.clientHeight);this._sizeChanged = false;}return this._size.clone();},getPixelBounds:function getPixelBounds(){var topLeftPoint=this._getTopLeftPoint();return new L.Bounds(topLeftPoint,topLeftPoint.add(this.getSize()));},getPixelOrigin:function getPixelOrigin(){this._checkIfLoaded();return this._initialTopLeftPoint;},getPanes:function getPanes(){return this._panes;},getContainer:function getContainer(){return this._container;}, // TODO replace with universal implementation after refactoring projections\n\tgetZoomScale:function getZoomScale(toZoom){var crs=this.options.crs;return crs.scale(toZoom) / crs.scale(this._zoom);},getScaleZoom:function getScaleZoom(scale){return this._zoom + Math.log(scale) / Math.LN2;}, // conversion methods\n\tproject:function project(latlng,zoom){ // (LatLng[, Number]) -> Point\n\tzoom = zoom === undefined?this._zoom:zoom;return this.options.crs.latLngToPoint(L.latLng(latlng),zoom);},unproject:function unproject(point,zoom){ // (Point[, Number]) -> LatLng\n\tzoom = zoom === undefined?this._zoom:zoom;return this.options.crs.pointToLatLng(L.point(point),zoom);},layerPointToLatLng:function layerPointToLatLng(point){ // (Point)\n\tvar projectedPoint=L.point(point).add(this.getPixelOrigin());return this.unproject(projectedPoint);},latLngToLayerPoint:function latLngToLayerPoint(latlng){ // (LatLng)\n\tvar projectedPoint=this.project(L.latLng(latlng))._round();return projectedPoint._subtract(this.getPixelOrigin());},containerPointToLayerPoint:function containerPointToLayerPoint(point){ // (Point)\n\treturn L.point(point).subtract(this._getMapPanePos());},layerPointToContainerPoint:function layerPointToContainerPoint(point){ // (Point)\n\treturn L.point(point).add(this._getMapPanePos());},containerPointToLatLng:function containerPointToLatLng(point){var layerPoint=this.containerPointToLayerPoint(L.point(point));return this.layerPointToLatLng(layerPoint);},latLngToContainerPoint:function latLngToContainerPoint(latlng){return this.layerPointToContainerPoint(this.latLngToLayerPoint(L.latLng(latlng)));},mouseEventToContainerPoint:function mouseEventToContainerPoint(e){ // (MouseEvent)\n\treturn L.DomEvent.getMousePosition(e,this._container);},mouseEventToLayerPoint:function mouseEventToLayerPoint(e){ // (MouseEvent)\n\treturn this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e));},mouseEventToLatLng:function mouseEventToLatLng(e){ // (MouseEvent)\n\treturn this.layerPointToLatLng(this.mouseEventToLayerPoint(e));}, // map initialization methods\n\t_initContainer:function _initContainer(id){var container=this._container = L.DomUtil.get(id);if(!container){throw new Error('Map container not found.');}else if(container._leaflet){throw new Error('Map container is already initialized.');}container._leaflet = true;},_initLayout:function _initLayout(){var container=this._container;L.DomUtil.addClass(container,'leaflet-container' + (L.Browser.touch?' leaflet-touch':'') + (L.Browser.retina?' leaflet-retina':'') + (L.Browser.ielt9?' leaflet-oldie':'') + (this.options.fadeAnimation?' leaflet-fade-anim':''));var position=L.DomUtil.getStyle(container,'position');if(position !== 'absolute' && position !== 'relative' && position !== 'fixed'){container.style.position = 'relative';}this._initPanes();if(this._initControlPos){this._initControlPos();}},_initPanes:function _initPanes(){var panes=this._panes = {};this._mapPane = panes.mapPane = this._createPane('leaflet-map-pane',this._container);this._tilePane = panes.tilePane = this._createPane('leaflet-tile-pane',this._mapPane);panes.objectsPane = this._createPane('leaflet-objects-pane',this._mapPane);panes.shadowPane = this._createPane('leaflet-shadow-pane');panes.overlayPane = this._createPane('leaflet-overlay-pane');panes.markerPane = this._createPane('leaflet-marker-pane');panes.popupPane = this._createPane('leaflet-popup-pane');var zoomHide=' leaflet-zoom-hide';if(!this.options.markerZoomAnimation){L.DomUtil.addClass(panes.markerPane,zoomHide);L.DomUtil.addClass(panes.shadowPane,zoomHide);L.DomUtil.addClass(panes.popupPane,zoomHide);}},_createPane:function _createPane(className,container){return L.DomUtil.create('div',className,container || this._panes.objectsPane);},_clearPanes:function _clearPanes(){this._container.removeChild(this._mapPane);},_addLayers:function _addLayers(layers){layers = layers?L.Util.isArray(layers)?layers:[layers]:[];for(var i=0,len=layers.length;i < len;i++) {this.addLayer(layers[i]);}}, // private methods that modify map state\n\t_resetView:function _resetView(center,zoom,preserveMapOffset,afterZoomAnim){var zoomChanged=this._zoom !== zoom;if(!afterZoomAnim){this.fire('movestart');if(zoomChanged){this.fire('zoomstart');}}this._zoom = zoom;this._initialCenter = center;this._initialTopLeftPoint = this._getNewTopLeftPoint(center);if(!preserveMapOffset){L.DomUtil.setPosition(this._mapPane,new L.Point(0,0));}else {this._initialTopLeftPoint._add(this._getMapPanePos());}this._tileLayersToLoad = this._tileLayersNum;var loading=!this._loaded;this._loaded = true;this.fire('viewreset',{hard:!preserveMapOffset});if(loading){this.fire('load');this.eachLayer(this._layerAdd,this);}this.fire('move');if(zoomChanged || afterZoomAnim){this.fire('zoomend');}this.fire('moveend',{hard:!preserveMapOffset});},_rawPanBy:function _rawPanBy(offset){L.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(offset));},_getZoomSpan:function _getZoomSpan(){return this.getMaxZoom() - this.getMinZoom();},_updateZoomLevels:function _updateZoomLevels(){var i,minZoom=Infinity,maxZoom=-Infinity,oldZoomSpan=this._getZoomSpan();for(i in this._zoomBoundLayers) {var layer=this._zoomBoundLayers[i];if(!isNaN(layer.options.minZoom)){minZoom = Math.min(minZoom,layer.options.minZoom);}if(!isNaN(layer.options.maxZoom)){maxZoom = Math.max(maxZoom,layer.options.maxZoom);}}if(i === undefined){ // we have no tilelayers\n\tthis._layersMaxZoom = this._layersMinZoom = undefined;}else {this._layersMaxZoom = maxZoom;this._layersMinZoom = minZoom;}if(oldZoomSpan !== this._getZoomSpan()){this.fire('zoomlevelschange');}},_panInsideMaxBounds:function _panInsideMaxBounds(){this.panInsideBounds(this.options.maxBounds);},_checkIfLoaded:function _checkIfLoaded(){if(!this._loaded){throw new Error('Set map center and zoom first.');}}, // map events\n\t_initEvents:function _initEvents(onOff){if(!L.DomEvent){return;}onOff = onOff || 'on';L.DomEvent[onOff](this._container,'click',this._onMouseClick,this);var events=['dblclick','mousedown','mouseup','mouseenter','mouseleave','mousemove','contextmenu'],i,len;for(i = 0,len = events.length;i < len;i++) {L.DomEvent[onOff](this._container,events[i],this._fireMouseEvent,this);}if(this.options.trackResize){L.DomEvent[onOff](window,'resize',this._onResize,this);}},_onResize:function _onResize(){L.Util.cancelAnimFrame(this._resizeRequest);this._resizeRequest = L.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:true});},this,false,this._container);},_onMouseClick:function _onMouseClick(e){if(!this._loaded || !e._simulated && (this.dragging && this.dragging.moved() || this.boxZoom && this.boxZoom.moved()) || L.DomEvent._skipped(e)){return;}this.fire('preclick');this._fireMouseEvent(e);},_fireMouseEvent:function _fireMouseEvent(e){if(!this._loaded || L.DomEvent._skipped(e)){return;}var type=e.type;type = type === 'mouseenter'?'mouseover':type === 'mouseleave'?'mouseout':type;if(!this.hasEventListeners(type)){return;}if(type === 'contextmenu'){L.DomEvent.preventDefault(e);}var containerPoint=this.mouseEventToContainerPoint(e),layerPoint=this.containerPointToLayerPoint(containerPoint),latlng=this.layerPointToLatLng(layerPoint);this.fire(type,{latlng:latlng,layerPoint:layerPoint,containerPoint:containerPoint,originalEvent:e});},_onTileLayerLoad:function _onTileLayerLoad(){this._tileLayersToLoad--;if(this._tileLayersNum && !this._tileLayersToLoad){this.fire('tilelayersload');}},_clearHandlers:function _clearHandlers(){for(var i=0,len=this._handlers.length;i < len;i++) {this._handlers[i].disable();}},whenReady:function whenReady(callback,context){if(this._loaded){callback.call(context || this,this);}else {this.on('load',callback,context);}return this;},_layerAdd:function _layerAdd(layer){layer.onAdd(this);this.fire('layeradd',{layer:layer});}, // private methods for getting map state\n\t_getMapPanePos:function _getMapPanePos(){return L.DomUtil.getPosition(this._mapPane);},_moved:function _moved(){var pos=this._getMapPanePos();return pos && !pos.equals([0,0]);},_getTopLeftPoint:function _getTopLeftPoint(){return this.getPixelOrigin().subtract(this._getMapPanePos());},_getNewTopLeftPoint:function _getNewTopLeftPoint(center,zoom){var viewHalf=this.getSize()._divideBy(2); // TODO round on display, not calculation to increase precision?\n\treturn this.project(center,zoom)._subtract(viewHalf)._round();},_latLngToNewLayerPoint:function _latLngToNewLayerPoint(latlng,newZoom,newCenter){var topLeft=this._getNewTopLeftPoint(newCenter,newZoom).add(this._getMapPanePos());return this.project(latlng,newZoom)._subtract(topLeft);}, // layer point of the current center\n\t_getCenterLayerPoint:function _getCenterLayerPoint(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2));}, // offset of the specified place to the current center in pixels\n\t_getCenterOffset:function _getCenterOffset(latlng){return this.latLngToLayerPoint(latlng).subtract(this._getCenterLayerPoint());}, // adjust center for view to get inside bounds\n\t_limitCenter:function _limitCenter(center,zoom,bounds){if(!bounds){return center;}var centerPoint=this.project(center,zoom),viewHalf=this.getSize().divideBy(2),viewBounds=new L.Bounds(centerPoint.subtract(viewHalf),centerPoint.add(viewHalf)),offset=this._getBoundsOffset(viewBounds,bounds,zoom);return this.unproject(centerPoint.add(offset),zoom);}, // adjust offset for view to get inside bounds\n\t_limitOffset:function _limitOffset(offset,bounds){if(!bounds){return offset;}var viewBounds=this.getPixelBounds(),newBounds=new L.Bounds(viewBounds.min.add(offset),viewBounds.max.add(offset));return offset.add(this._getBoundsOffset(newBounds,bounds));}, // returns offset needed for pxBounds to get inside maxBounds at a specified zoom\n\t_getBoundsOffset:function _getBoundsOffset(pxBounds,maxBounds,zoom){var nwOffset=this.project(maxBounds.getNorthWest(),zoom).subtract(pxBounds.min),seOffset=this.project(maxBounds.getSouthEast(),zoom).subtract(pxBounds.max),dx=this._rebound(nwOffset.x,-seOffset.x),dy=this._rebound(nwOffset.y,-seOffset.y);return new L.Point(dx,dy);},_rebound:function _rebound(left,right){return left + right > 0?Math.round(left - right) / 2:Math.max(0,Math.ceil(left)) - Math.max(0,Math.floor(right));},_limitZoom:function _limitZoom(zoom){var min=this.getMinZoom(),max=this.getMaxZoom();return Math.max(min,Math.min(max,zoom));}});L.map = function(id,options){return new L.Map(id,options);}; /*\r\n\t * Mercator projection that takes into account that the Earth is not a perfect sphere.\r\n\t * Less popular than spherical mercator; used by projections like EPSG:3395.\r\n\t */L.Projection.Mercator = {MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function project(latlng){ // (LatLng) -> Point\n\tvar d=L.LatLng.DEG_TO_RAD,max=this.MAX_LATITUDE,lat=Math.max(Math.min(max,latlng.lat),-max),r=this.R_MAJOR,r2=this.R_MINOR,x=latlng.lng * d * r,y=lat * d,tmp=r2 / r,eccent=Math.sqrt(1.0 - tmp * tmp),con=eccent * Math.sin(y);con = Math.pow((1 - con) / (1 + con),eccent * 0.5);var ts=Math.tan(0.5 * (Math.PI * 0.5 - y)) / con;y = -r * Math.log(ts);return new L.Point(x,y);},unproject:function unproject(point){ // (Point, Boolean) -> LatLng\n\tvar d=L.LatLng.RAD_TO_DEG,r=this.R_MAJOR,r2=this.R_MINOR,lng=point.x * d / r,tmp=r2 / r,eccent=Math.sqrt(1 - tmp * tmp),ts=Math.exp(-point.y / r),phi=Math.PI / 2 - 2 * Math.atan(ts),numIter=15,tol=1e-7,i=numIter,dphi=0.1,con;while(Math.abs(dphi) > tol && --i > 0) {con = eccent * Math.sin(phi);dphi = Math.PI / 2 - 2 * Math.atan(ts * Math.pow((1.0 - con) / (1.0 + con),0.5 * eccent)) - phi;phi += dphi;}return new L.LatLng(phi * d,lng);}};L.CRS.EPSG3395 = L.extend({},L.CRS,{code:'EPSG:3395',projection:L.Projection.Mercator,transformation:(function(){var m=L.Projection.Mercator,r=m.R_MAJOR,scale=0.5 / (Math.PI * r);return new L.Transformation(scale,0.5,-scale,0.5);})()}); /*\r\n\t * L.TileLayer is used for standard xyz-numbered tile layers.\r\n\t */L.TileLayer = L.Class.extend({includes:L.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:'abc',errorTileUrl:'',attribution:'',zoomOffset:0,opacity:1, /*\r\n\t\t\tmaxNativeZoom: null,\r\n\t\t\tzIndex: null,\r\n\t\t\ttms: false,\r\n\t\t\tcontinuousWorld: false,\r\n\t\t\tnoWrap: false,\r\n\t\t\tzoomReverse: false,\r\n\t\t\tdetectRetina: false,\r\n\t\t\treuseTiles: false,\r\n\t\t\tbounds: false,\r\n\t\t\t*/unloadInvisibleTiles:L.Browser.mobile,updateWhenIdle:L.Browser.mobile},initialize:function initialize(url,options){options = L.setOptions(this,options); // detecting retina displays, adjusting tileSize and zoom levels\n\tif(options.detectRetina && L.Browser.retina && options.maxZoom > 0){options.tileSize = Math.floor(options.tileSize / 2);options.zoomOffset++;if(options.minZoom > 0){options.minZoom--;}this.options.maxZoom--;}if(options.bounds){options.bounds = L.latLngBounds(options.bounds);}this._url = url;var subdomains=this.options.subdomains;if(typeof subdomains === 'string'){this.options.subdomains = subdomains.split('');}},onAdd:function onAdd(map){this._map = map;this._animated = map._zoomAnimated; // create a container div for tiles\n\tthis._initContainer(); // set up events\n\tmap.on({'viewreset':this._reset,'moveend':this._update},this);if(this._animated){map.on({'zoomanim':this._animateZoom,'zoomend':this._endZoomAnim},this);}if(!this.options.updateWhenIdle){this._limitedUpdate = L.Util.limitExecByInterval(this._update,150,this);map.on('move',this._limitedUpdate,this);}this._reset();this._update();},addTo:function addTo(map){map.addLayer(this);return this;},onRemove:function onRemove(map){this._container.parentNode.removeChild(this._container);map.off({'viewreset':this._reset,'moveend':this._update},this);if(this._animated){map.off({'zoomanim':this._animateZoom,'zoomend':this._endZoomAnim},this);}if(!this.options.updateWhenIdle){map.off('move',this._limitedUpdate,this);}this._container = null;this._map = null;},bringToFront:function bringToFront(){var pane=this._map._panes.tilePane;if(this._container){pane.appendChild(this._container);this._setAutoZIndex(pane,Math.max);}return this;},bringToBack:function bringToBack(){var pane=this._map._panes.tilePane;if(this._container){pane.insertBefore(this._container,pane.firstChild);this._setAutoZIndex(pane,Math.min);}return this;},getAttribution:function getAttribution(){return this.options.attribution;},getContainer:function getContainer(){return this._container;},setOpacity:function setOpacity(opacity){this.options.opacity = opacity;if(this._map){this._updateOpacity();}return this;},setZIndex:function setZIndex(zIndex){this.options.zIndex = zIndex;this._updateZIndex();return this;},setUrl:function setUrl(url,noRedraw){this._url = url;if(!noRedraw){this.redraw();}return this;},redraw:function redraw(){if(this._map){this._reset({hard:true});this._update();}return this;},_updateZIndex:function _updateZIndex(){if(this._container && this.options.zIndex !== undefined){this._container.style.zIndex = this.options.zIndex;}},_setAutoZIndex:function _setAutoZIndex(pane,compare){var layers=pane.children,edgeZIndex=-compare(Infinity,-Infinity), // -Infinity for max, Infinity for min\n\tzIndex,i,len;for(i = 0,len = layers.length;i < len;i++) {if(layers[i] !== this._container){zIndex = parseInt(layers[i].style.zIndex,10);if(!isNaN(zIndex)){edgeZIndex = compare(edgeZIndex,zIndex);}}}this.options.zIndex = this._container.style.zIndex = (isFinite(edgeZIndex)?edgeZIndex:0) + compare(1,-1);},_updateOpacity:function _updateOpacity(){var i,tiles=this._tiles;if(L.Browser.ielt9){for(i in tiles) {L.DomUtil.setOpacity(tiles[i],this.options.opacity);}}else {L.DomUtil.setOpacity(this._container,this.options.opacity);}},_initContainer:function _initContainer(){var tilePane=this._map._panes.tilePane;if(!this._container){this._container = L.DomUtil.create('div','leaflet-layer');this._updateZIndex();if(this._animated){var className='leaflet-tile-container';this._bgBuffer = L.DomUtil.create('div',className,this._container);this._tileContainer = L.DomUtil.create('div',className,this._container);}else {this._tileContainer = this._container;}tilePane.appendChild(this._container);if(this.options.opacity < 1){this._updateOpacity();}}},_reset:function _reset(e){for(var key in this._tiles) {this.fire('tileunload',{tile:this._tiles[key]});}this._tiles = {};this._tilesToLoad = 0;if(this.options.reuseTiles){this._unusedTiles = [];}this._tileContainer.innerHTML = '';if(this._animated && e && e.hard){this._clearBgBuffer();}this._initContainer();},_getTileSize:function _getTileSize(){var map=this._map,zoom=map.getZoom() + this.options.zoomOffset,zoomN=this.options.maxNativeZoom,tileSize=this.options.tileSize;if(zoomN && zoom > zoomN){tileSize = Math.round(map.getZoomScale(zoom) / map.getZoomScale(zoomN) * tileSize);}return tileSize;},_update:function _update(){if(!this._map){return;}var map=this._map,bounds=map.getPixelBounds(),zoom=map.getZoom(),tileSize=this._getTileSize();if(zoom > this.options.maxZoom || zoom < this.options.minZoom){return;}var tileBounds=L.bounds(bounds.min.divideBy(tileSize)._floor(),bounds.max.divideBy(tileSize)._floor());this._addTilesFromCenterOut(tileBounds);if(this.options.unloadInvisibleTiles || this.options.reuseTiles){this._removeOtherTiles(tileBounds);}},_addTilesFromCenterOut:function _addTilesFromCenterOut(bounds){var queue=[],center=bounds.getCenter();var j,i,point;for(j = bounds.min.y;j <= bounds.max.y;j++) {for(i = bounds.min.x;i <= bounds.max.x;i++) {point = new L.Point(i,j);if(this._tileShouldBeLoaded(point)){queue.push(point);}}}var tilesToLoad=queue.length;if(tilesToLoad === 0){return;} // load tiles in order of their distance to center\n\tqueue.sort(function(a,b){return a.distanceTo(center) - b.distanceTo(center);});var fragment=document.createDocumentFragment(); // if its the first batch of tiles to load\n\tif(!this._tilesToLoad){this.fire('loading');}this._tilesToLoad += tilesToLoad;for(i = 0;i < tilesToLoad;i++) {this._addTile(queue[i],fragment);}this._tileContainer.appendChild(fragment);},_tileShouldBeLoaded:function _tileShouldBeLoaded(tilePoint){if(tilePoint.x + ':' + tilePoint.y in this._tiles){return false; // already loaded\n\t}var options=this.options;if(!options.continuousWorld){var limit=this._getWrapTileNum(); // don't load if exceeds world bounds\n\tif(options.noWrap && (tilePoint.x < 0 || tilePoint.x >= limit.x) || tilePoint.y < 0 || tilePoint.y >= limit.y){return false;}}if(options.bounds){var tileSize=this._getTileSize(),nwPoint=tilePoint.multiplyBy(tileSize),sePoint=nwPoint.add([tileSize,tileSize]),nw=this._map.unproject(nwPoint),se=this._map.unproject(sePoint); // TODO temporary hack, will be removed after refactoring projections\n\t// https://github.com/Leaflet/Leaflet/issues/1618\n\tif(!options.continuousWorld && !options.noWrap){nw = nw.wrap();se = se.wrap();}if(!options.bounds.intersects([nw,se])){return false;}}return true;},_removeOtherTiles:function _removeOtherTiles(bounds){var kArr,x,y,key;for(key in this._tiles) {kArr = key.split(':');x = parseInt(kArr[0],10);y = parseInt(kArr[1],10); // remove tile if it's out of bounds\n\tif(x < bounds.min.x || x > bounds.max.x || y < bounds.min.y || y > bounds.max.y){this._removeTile(key);}}},_removeTile:function _removeTile(key){var tile=this._tiles[key];this.fire('tileunload',{tile:tile,url:tile.src});if(this.options.reuseTiles){L.DomUtil.removeClass(tile,'leaflet-tile-loaded');this._unusedTiles.push(tile);}else if(tile.parentNode === this._tileContainer){this._tileContainer.removeChild(tile);} // for https://github.com/CloudMade/Leaflet/issues/137\n\tif(!L.Browser.android){tile.onload = null;tile.src = L.Util.emptyImageUrl;}delete this._tiles[key];},_addTile:function _addTile(tilePoint,container){var tilePos=this._getTilePos(tilePoint); // get unused tile - or create a new tile\n\tvar tile=this._getTile(); /*\r\n\t\t\tChrome 20 layouts much faster with top/left (verify with timeline, frames)\r\n\t\t\tAndroid 4 browser has display issues with top/left and requires transform instead\r\n\t\t\t(other browsers don't currently care) - see debug/hacks/jitter.html for an example\r\n\t\t\t*/L.DomUtil.setPosition(tile,tilePos,L.Browser.chrome);this._tiles[tilePoint.x + ':' + tilePoint.y] = tile;this._loadTile(tile,tilePoint);if(tile.parentNode !== this._tileContainer){container.appendChild(tile);}},_getZoomForUrl:function _getZoomForUrl(){var options=this.options,zoom=this._map.getZoom();if(options.zoomReverse){zoom = options.maxZoom - zoom;}zoom += options.zoomOffset;return options.maxNativeZoom?Math.min(zoom,options.maxNativeZoom):zoom;},_getTilePos:function _getTilePos(tilePoint){var origin=this._map.getPixelOrigin(),tileSize=this._getTileSize();return tilePoint.multiplyBy(tileSize).subtract(origin);}, // image-specific code (override to implement e.g. Canvas or SVG tile layer)\n\tgetTileUrl:function getTileUrl(tilePoint){return L.Util.template(this._url,L.extend({s:this._getSubdomain(tilePoint),z:tilePoint.z,x:tilePoint.x,y:tilePoint.y},this.options));},_getWrapTileNum:function _getWrapTileNum(){var crs=this._map.options.crs,size=crs.getSize(this._map.getZoom());return size.divideBy(this._getTileSize())._floor();},_adjustTilePoint:function _adjustTilePoint(tilePoint){var limit=this._getWrapTileNum(); // wrap tile coordinates\n\tif(!this.options.continuousWorld && !this.options.noWrap){tilePoint.x = (tilePoint.x % limit.x + limit.x) % limit.x;}if(this.options.tms){tilePoint.y = limit.y - tilePoint.y - 1;}tilePoint.z = this._getZoomForUrl();},_getSubdomain:function _getSubdomain(tilePoint){var index=Math.abs(tilePoint.x + tilePoint.y) % this.options.subdomains.length;return this.options.subdomains[index];},_getTile:function _getTile(){if(this.options.reuseTiles && this._unusedTiles.length > 0){var tile=this._unusedTiles.pop();this._resetTile(tile);return tile;}return this._createTile();}, // Override if data stored on a tile needs to be cleaned up before reuse\n\t_resetTile:function _resetTile() /*tile*/{},_createTile:function _createTile(){var tile=L.DomUtil.create('img','leaflet-tile');tile.style.width = tile.style.height = this._getTileSize() + 'px';tile.galleryimg = 'no';tile.onselectstart = tile.onmousemove = L.Util.falseFn;if(L.Browser.ielt9 && this.options.opacity !== undefined){L.DomUtil.setOpacity(tile,this.options.opacity);} // without this hack, tiles disappear after zoom on Chrome for Android\n\t// https://github.com/Leaflet/Leaflet/issues/2078\n\tif(L.Browser.mobileWebkit3d){tile.style.WebkitBackfaceVisibility = 'hidden';}return tile;},_loadTile:function _loadTile(tile,tilePoint){tile._layer = this;tile.onload = this._tileOnLoad;tile.onerror = this._tileOnError;this._adjustTilePoint(tilePoint);tile.src = this.getTileUrl(tilePoint);this.fire('tileloadstart',{tile:tile,url:tile.src});},_tileLoaded:function _tileLoaded(){this._tilesToLoad--;if(this._animated){L.DomUtil.addClass(this._tileContainer,'leaflet-zoom-animated');}if(!this._tilesToLoad){this.fire('load');if(this._animated){ // clear scaled tiles after all new tiles are loaded (for performance)\n\tclearTimeout(this._clearBgBufferTimer);this._clearBgBufferTimer = setTimeout(L.bind(this._clearBgBuffer,this),500);}}},_tileOnLoad:function _tileOnLoad(){var layer=this._layer; //Only if we are loading an actual image\n\tif(this.src !== L.Util.emptyImageUrl){L.DomUtil.addClass(this,'leaflet-tile-loaded');layer.fire('tileload',{tile:this,url:this.src});}layer._tileLoaded();},_tileOnError:function _tileOnError(){var layer=this._layer;layer.fire('tileerror',{tile:this,url:this.src});var newUrl=layer.options.errorTileUrl;if(newUrl){this.src = newUrl;}layer._tileLoaded();}});L.tileLayer = function(url,options){return new L.TileLayer(url,options);}; /*\r\n\t * L.TileLayer.WMS is used for putting WMS tile layers on the map.\r\n\t */L.TileLayer.WMS = L.TileLayer.extend({defaultWmsParams:{service:'WMS',request:'GetMap',version:'1.1.1',layers:'',styles:'',format:'image/jpeg',transparent:false},initialize:function initialize(url,options){ // (String, Object)\n\tthis._url = url;var wmsParams=L.extend({},this.defaultWmsParams),tileSize=options.tileSize || this.options.tileSize;if(options.detectRetina && L.Browser.retina){wmsParams.width = wmsParams.height = tileSize * 2;}else {wmsParams.width = wmsParams.height = tileSize;}for(var i in options) { // all keys that are not TileLayer options go to WMS params\n\tif(!this.options.hasOwnProperty(i) && i !== 'crs'){wmsParams[i] = options[i];}}this.wmsParams = wmsParams;L.setOptions(this,options);},onAdd:function onAdd(map){this._crs = this.options.crs || map.options.crs;this._wmsVersion = parseFloat(this.wmsParams.version);var projectionKey=this._wmsVersion >= 1.3?'crs':'srs';this.wmsParams[projectionKey] = this._crs.code;L.TileLayer.prototype.onAdd.call(this,map);},getTileUrl:function getTileUrl(tilePoint){ // (Point, Number) -> String\n\tvar map=this._map,tileSize=this.options.tileSize,nwPoint=tilePoint.multiplyBy(tileSize),sePoint=nwPoint.add([tileSize,tileSize]),nw=this._crs.project(map.unproject(nwPoint,tilePoint.z)),se=this._crs.project(map.unproject(sePoint,tilePoint.z)),bbox=this._wmsVersion >= 1.3 && this._crs === L.CRS.EPSG4326?[se.y,nw.x,nw.y,se.x].join(','):[nw.x,se.y,se.x,nw.y].join(','),url=L.Util.template(this._url,{s:this._getSubdomain(tilePoint)});return url + L.Util.getParamString(this.wmsParams,url,true) + '&BBOX=' + bbox;},setParams:function setParams(params,noRedraw){L.extend(this.wmsParams,params);if(!noRedraw){this.redraw();}return this;}});L.tileLayer.wms = function(url,options){return new L.TileLayer.WMS(url,options);}; /*\r\n\t * L.TileLayer.Canvas is a class that you can use as a base for creating\r\n\t * dynamically drawn Canvas-based tile layers.\r\n\t */L.TileLayer.Canvas = L.TileLayer.extend({options:{async:false},initialize:function initialize(options){L.setOptions(this,options);},redraw:function redraw(){if(this._map){this._reset({hard:true});this._update();}for(var i in this._tiles) {this._redrawTile(this._tiles[i]);}return this;},_redrawTile:function _redrawTile(tile){this.drawTile(tile,tile._tilePoint,this._map._zoom);},_createTile:function _createTile(){var tile=L.DomUtil.create('canvas','leaflet-tile');tile.width = tile.height = this.options.tileSize;tile.onselectstart = tile.onmousemove = L.Util.falseFn;return tile;},_loadTile:function _loadTile(tile,tilePoint){tile._layer = this;tile._tilePoint = tilePoint;this._redrawTile(tile);if(!this.options.async){this.tileDrawn(tile);}},drawTile:function drawTile() /*tile, tilePoint*/{ // override with rendering code\n\t},tileDrawn:function tileDrawn(tile){this._tileOnLoad.call(tile);}});L.tileLayer.canvas = function(options){return new L.TileLayer.Canvas(options);}; /*\r\n\t * L.ImageOverlay is used to overlay images over the map (to specific geographical bounds).\r\n\t */L.ImageOverlay = L.Class.extend({includes:L.Mixin.Events,options:{opacity:1},initialize:function initialize(url,bounds,options){ // (String, LatLngBounds, Object)\n\tthis._url = url;this._bounds = L.latLngBounds(bounds);L.setOptions(this,options);},onAdd:function onAdd(map){this._map = map;if(!this._image){this._initImage();}map._panes.overlayPane.appendChild(this._image);map.on('viewreset',this._reset,this);if(map.options.zoomAnimation && L.Browser.any3d){map.on('zoomanim',this._animateZoom,this);}this._reset();},onRemove:function onRemove(map){map.getPanes().overlayPane.removeChild(this._image);map.off('viewreset',this._reset,this);if(map.options.zoomAnimation){map.off('zoomanim',this._animateZoom,this);}},addTo:function addTo(map){map.addLayer(this);return this;},setOpacity:function setOpacity(opacity){this.options.opacity = opacity;this._updateOpacity();return this;}, // TODO remove bringToFront/bringToBack duplication from TileLayer/Path\n\tbringToFront:function bringToFront(){if(this._image){this._map._panes.overlayPane.appendChild(this._image);}return this;},bringToBack:function bringToBack(){var pane=this._map._panes.overlayPane;if(this._image){pane.insertBefore(this._image,pane.firstChild);}return this;},setUrl:function setUrl(url){this._url = url;this._image.src = this._url;},getAttribution:function getAttribution(){return this.options.attribution;},_initImage:function _initImage(){this._image = L.DomUtil.create('img','leaflet-image-layer');if(this._map.options.zoomAnimation && L.Browser.any3d){L.DomUtil.addClass(this._image,'leaflet-zoom-animated');}else {L.DomUtil.addClass(this._image,'leaflet-zoom-hide');}this._updateOpacity(); //TODO createImage util method to remove duplication\n\tL.extend(this._image,{galleryimg:'no',onselectstart:L.Util.falseFn,onmousemove:L.Util.falseFn,onload:L.bind(this._onImageLoad,this),src:this._url});},_animateZoom:function _animateZoom(e){var map=this._map,image=this._image,scale=map.getZoomScale(e.zoom),nw=this._bounds.getNorthWest(),se=this._bounds.getSouthEast(),topLeft=map._latLngToNewLayerPoint(nw,e.zoom,e.center),size=map._latLngToNewLayerPoint(se,e.zoom,e.center)._subtract(topLeft),origin=topLeft._add(size._multiplyBy(1 / 2 * (1 - 1 / scale)));image.style[L.DomUtil.TRANSFORM] = L.DomUtil.getTranslateString(origin) + ' scale(' + scale + ') ';},_reset:function _reset(){var image=this._image,topLeft=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),size=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(topLeft);L.DomUtil.setPosition(image,topLeft);image.style.width = size.x + 'px';image.style.height = size.y + 'px';},_onImageLoad:function _onImageLoad(){this.fire('load');},_updateOpacity:function _updateOpacity(){L.DomUtil.setOpacity(this._image,this.options.opacity);}});L.imageOverlay = function(url,bounds,options){return new L.ImageOverlay(url,bounds,options);}; /*\r\n\t * L.Icon is an image-based icon class that you can use with L.Marker for custom markers.\r\n\t */L.Icon = L.Class.extend({options:{ /*\r\n\t\t\ticonUrl: (String) (required)\r\n\t\t\ticonRetinaUrl: (String) (optional, used for retina devices if detected)\r\n\t\t\ticonSize: (Point) (can be set through CSS)\r\n\t\t\ticonAnchor: (Point) (centered by default, can be set in CSS with negative margins)\r\n\t\t\tpopupAnchor: (Point) (if not specified, popup opens in the anchor point)\r\n\t\t\tshadowUrl: (String) (no shadow by default)\r\n\t\t\tshadowRetinaUrl: (String) (optional, used for retina devices if detected)\r\n\t\t\tshadowSize: (Point)\r\n\t\t\tshadowAnchor: (Point)\r\n\t\t\t*/className:''},initialize:function initialize(options){L.setOptions(this,options);},createIcon:function createIcon(oldIcon){return this._createIcon('icon',oldIcon);},createShadow:function createShadow(oldIcon){return this._createIcon('shadow',oldIcon);},_createIcon:function _createIcon(name,oldIcon){var src=this._getIconUrl(name);if(!src){if(name === 'icon'){throw new Error('iconUrl not set in Icon options (see the docs).');}return null;}var img;if(!oldIcon || oldIcon.tagName !== 'IMG'){img = this._createImg(src);}else {img = this._createImg(src,oldIcon);}this._setIconStyles(img,name);return img;},_setIconStyles:function _setIconStyles(img,name){var options=this.options,size=L.point(options[name + 'Size']),anchor;if(name === 'shadow'){anchor = L.point(options.shadowAnchor || options.iconAnchor);}else {anchor = L.point(options.iconAnchor);}if(!anchor && size){anchor = size.divideBy(2,true);}img.className = 'leaflet-marker-' + name + ' ' + options.className;if(anchor){img.style.marginLeft = -anchor.x + 'px';img.style.marginTop = -anchor.y + 'px';}if(size){img.style.width = size.x + 'px';img.style.height = size.y + 'px';}},_createImg:function _createImg(src,el){el = el || document.createElement('img');el.src = src;return el;},_getIconUrl:function _getIconUrl(name){if(L.Browser.retina && this.options[name + 'RetinaUrl']){return this.options[name + 'RetinaUrl'];}return this.options[name + 'Url'];}});L.icon = function(options){return new L.Icon(options);}; /*\n\t * L.Icon.Default is the blue marker icon used by default in Leaflet.\n\t */L.Icon.Default = L.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function _getIconUrl(name){var key=name + 'Url';if(this.options[key]){return this.options[key];}if(L.Browser.retina && name === 'icon'){name += '-2x';}var path=L.Icon.Default.imagePath;if(!path){throw new Error('Couldn\\'t autodetect L.Icon.Default.imagePath, set it manually.');}return path + '/marker-' + name + '.png';}});L.Icon.Default.imagePath = (function(){var scripts=document.getElementsByTagName('script'),leafletRe=/[\\/^]leaflet[\\-\\._]?([\\w\\-\\._]*)\\.js\\??/;var i,len,src,matches,path;for(i = 0,len = scripts.length;i < len;i++) {src = scripts[i].src;matches = src.match(leafletRe);if(matches){path = src.split(leafletRe)[0];return (path?path + '/':'') + 'images';}}})(); /*\r\n\t * L.Marker is used to display clickable/draggable icons on the map.\r\n\t */L.Marker = L.Class.extend({includes:L.Mixin.Events,options:{icon:new L.Icon.Default(),title:'',alt:'',clickable:true,draggable:false,keyboard:true,zIndexOffset:0,opacity:1,riseOnHover:false,riseOffset:250},initialize:function initialize(latlng,options){L.setOptions(this,options);this._latlng = L.latLng(latlng);},onAdd:function onAdd(map){this._map = map;map.on('viewreset',this.update,this);this._initIcon();this.update();this.fire('add');if(map.options.zoomAnimation && map.options.markerZoomAnimation){map.on('zoomanim',this._animateZoom,this);}},addTo:function addTo(map){map.addLayer(this);return this;},onRemove:function onRemove(map){if(this.dragging){this.dragging.disable();}this._removeIcon();this._removeShadow();this.fire('remove');map.off({'viewreset':this.update,'zoomanim':this._animateZoom},this);this._map = null;},getLatLng:function getLatLng(){return this._latlng;},setLatLng:function setLatLng(latlng){this._latlng = L.latLng(latlng);this.update();return this.fire('move',{latlng:this._latlng});},setZIndexOffset:function setZIndexOffset(offset){this.options.zIndexOffset = offset;this.update();return this;},setIcon:function setIcon(icon){this.options.icon = icon;if(this._map){this._initIcon();this.update();}if(this._popup){this.bindPopup(this._popup);}return this;},update:function update(){if(this._icon){this._setPos(this._map.latLngToLayerPoint(this._latlng).round());}return this;},_initIcon:function _initIcon(){var options=this.options,map=this._map,animation=map.options.zoomAnimation && map.options.markerZoomAnimation,classToAdd=animation?'leaflet-zoom-animated':'leaflet-zoom-hide';var icon=options.icon.createIcon(this._icon),addIcon=false; // if we're not reusing the icon, remove the old one and init new one\n\tif(icon !== this._icon){if(this._icon){this._removeIcon();}addIcon = true;if(options.title){icon.title = options.title;}if(options.alt){icon.alt = options.alt;}}L.DomUtil.addClass(icon,classToAdd);if(options.keyboard){icon.tabIndex = '0';}this._icon = icon;this._initInteraction();if(options.riseOnHover){L.DomEvent.on(icon,'mouseover',this._bringToFront,this).on(icon,'mouseout',this._resetZIndex,this);}var newShadow=options.icon.createShadow(this._shadow),addShadow=false;if(newShadow !== this._shadow){this._removeShadow();addShadow = true;}if(newShadow){L.DomUtil.addClass(newShadow,classToAdd);}this._shadow = newShadow;if(options.opacity < 1){this._updateOpacity();}var panes=this._map._panes;if(addIcon){panes.markerPane.appendChild(this._icon);}if(newShadow && addShadow){panes.shadowPane.appendChild(this._shadow);}},_removeIcon:function _removeIcon(){if(this.options.riseOnHover){L.DomEvent.off(this._icon,'mouseover',this._bringToFront).off(this._icon,'mouseout',this._resetZIndex);}this._map._panes.markerPane.removeChild(this._icon);this._icon = null;},_removeShadow:function _removeShadow(){if(this._shadow){this._map._panes.shadowPane.removeChild(this._shadow);}this._shadow = null;},_setPos:function _setPos(pos){L.DomUtil.setPosition(this._icon,pos);if(this._shadow){L.DomUtil.setPosition(this._shadow,pos);}this._zIndex = pos.y + this.options.zIndexOffset;this._resetZIndex();},_updateZIndex:function _updateZIndex(offset){this._icon.style.zIndex = this._zIndex + offset;},_animateZoom:function _animateZoom(opt){var pos=this._map._latLngToNewLayerPoint(this._latlng,opt.zoom,opt.center).round();this._setPos(pos);},_initInteraction:function _initInteraction(){if(!this.options.clickable){return;} // TODO refactor into something shared with Map/Path/etc. to DRY it up\n\tvar icon=this._icon,events=['dblclick','mousedown','mouseover','mouseout','contextmenu'];L.DomUtil.addClass(icon,'leaflet-clickable');L.DomEvent.on(icon,'click',this._onMouseClick,this);L.DomEvent.on(icon,'keypress',this._onKeyPress,this);for(var i=0;i < events.length;i++) {L.DomEvent.on(icon,events[i],this._fireMouseEvent,this);}if(L.Handler.MarkerDrag){this.dragging = new L.Handler.MarkerDrag(this);if(this.options.draggable){this.dragging.enable();}}},_onMouseClick:function _onMouseClick(e){var wasDragged=this.dragging && this.dragging.moved();if(this.hasEventListeners(e.type) || wasDragged){L.DomEvent.stopPropagation(e);}if(wasDragged){return;}if((!this.dragging || !this.dragging._enabled) && this._map.dragging && this._map.dragging.moved()){return;}this.fire(e.type,{originalEvent:e,latlng:this._latlng});},_onKeyPress:function _onKeyPress(e){if(e.keyCode === 13){this.fire('click',{originalEvent:e,latlng:this._latlng});}},_fireMouseEvent:function _fireMouseEvent(e){this.fire(e.type,{originalEvent:e,latlng:this._latlng}); // TODO proper custom event propagation\n\t// this line will always be called if marker is in a FeatureGroup\n\tif(e.type === 'contextmenu' && this.hasEventListeners(e.type)){L.DomEvent.preventDefault(e);}if(e.type !== 'mousedown'){L.DomEvent.stopPropagation(e);}else {L.DomEvent.preventDefault(e);}},setOpacity:function setOpacity(opacity){this.options.opacity = opacity;if(this._map){this._updateOpacity();}return this;},_updateOpacity:function _updateOpacity(){L.DomUtil.setOpacity(this._icon,this.options.opacity);if(this._shadow){L.DomUtil.setOpacity(this._shadow,this.options.opacity);}},_bringToFront:function _bringToFront(){this._updateZIndex(this.options.riseOffset);},_resetZIndex:function _resetZIndex(){this._updateZIndex(0);}});L.marker = function(latlng,options){return new L.Marker(latlng,options);}; /*\n\t * L.DivIcon is a lightweight HTML-based icon class (as opposed to the image-based L.Icon)\n\t * to use with L.Marker.\n\t */L.DivIcon = L.Icon.extend({options:{iconSize:[12,12], // also can be set through CSS\n\t/*\n\t\t\ticonAnchor: (Point)\n\t\t\tpopupAnchor: (Point)\n\t\t\thtml: (String)\n\t\t\tbgPos: (Point)\n\t\t\t*/className:'leaflet-div-icon',html:false},createIcon:function createIcon(oldIcon){var div=oldIcon && oldIcon.tagName === 'DIV'?oldIcon:document.createElement('div'),options=this.options;if(options.html !== false){div.innerHTML = options.html;}else {div.innerHTML = '';}if(options.bgPos){div.style.backgroundPosition = -options.bgPos.x + 'px ' + -options.bgPos.y + 'px';}this._setIconStyles(div,'icon');return div;},createShadow:function createShadow(){return null;}});L.divIcon = function(options){return new L.DivIcon(options);}; /*\r\n\t * L.Popup is used for displaying popups on the map.\r\n\t */L.Map.mergeOptions({closePopupOnClick:true});L.Popup = L.Class.extend({includes:L.Mixin.Events,options:{minWidth:50,maxWidth:300, // maxHeight: null,\n\tautoPan:true,closeButton:true,offset:[0,7],autoPanPadding:[5,5], // autoPanPaddingTopLeft: null,\n\t// autoPanPaddingBottomRight: null,\n\tkeepInView:false,className:'',zoomAnimation:true},initialize:function initialize(options,source){L.setOptions(this,options);this._source = source;this._animated = L.Browser.any3d && this.options.zoomAnimation;this._isOpen = false;},onAdd:function onAdd(map){this._map = map;if(!this._container){this._initLayout();}var animFade=map.options.fadeAnimation;if(animFade){L.DomUtil.setOpacity(this._container,0);}map._panes.popupPane.appendChild(this._container);map.on(this._getEvents(),this);this.update();if(animFade){L.DomUtil.setOpacity(this._container,1);}this.fire('open');map.fire('popupopen',{popup:this});if(this._source){this._source.fire('popupopen',{popup:this});}},addTo:function addTo(map){map.addLayer(this);return this;},openOn:function openOn(map){map.openPopup(this);return this;},onRemove:function onRemove(map){map._panes.popupPane.removeChild(this._container);L.Util.falseFn(this._container.offsetWidth); // force reflow\n\tmap.off(this._getEvents(),this);if(map.options.fadeAnimation){L.DomUtil.setOpacity(this._container,0);}this._map = null;this.fire('close');map.fire('popupclose',{popup:this});if(this._source){this._source.fire('popupclose',{popup:this});}},getLatLng:function getLatLng(){return this._latlng;},setLatLng:function setLatLng(latlng){this._latlng = L.latLng(latlng);if(this._map){this._updatePosition();this._adjustPan();}return this;},getContent:function getContent(){return this._content;},setContent:function setContent(content){this._content = content;this.update();return this;},update:function update(){if(!this._map){return;}this._container.style.visibility = 'hidden';this._updateContent();this._updateLayout();this._updatePosition();this._container.style.visibility = '';this._adjustPan();},_getEvents:function _getEvents(){var events={viewreset:this._updatePosition};if(this._animated){events.zoomanim = this._zoomAnimation;}if('closeOnClick' in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick){events.preclick = this._close;}if(this.options.keepInView){events.moveend = this._adjustPan;}return events;},_close:function _close(){if(this._map){this._map.closePopup(this);}},_initLayout:function _initLayout(){var prefix='leaflet-popup',containerClass=prefix + ' ' + this.options.className + ' leaflet-zoom-' + (this._animated?'animated':'hide'),container=this._container = L.DomUtil.create('div',containerClass),closeButton;if(this.options.closeButton){closeButton = this._closeButton = L.DomUtil.create('a',prefix + '-close-button',container);closeButton.href = '#close';closeButton.innerHTML = '&#215;';L.DomEvent.disableClickPropagation(closeButton);L.DomEvent.on(closeButton,'click',this._onCloseButtonClick,this);}var wrapper=this._wrapper = L.DomUtil.create('div',prefix + '-content-wrapper',container);L.DomEvent.disableClickPropagation(wrapper);this._contentNode = L.DomUtil.create('div',prefix + '-content',wrapper);L.DomEvent.disableScrollPropagation(this._contentNode);L.DomEvent.on(wrapper,'contextmenu',L.DomEvent.stopPropagation);this._tipContainer = L.DomUtil.create('div',prefix + '-tip-container',container);this._tip = L.DomUtil.create('div',prefix + '-tip',this._tipContainer);},_updateContent:function _updateContent(){if(!this._content){return;}if(typeof this._content === 'string'){this._contentNode.innerHTML = this._content;}else {while(this._contentNode.hasChildNodes()) {this._contentNode.removeChild(this._contentNode.firstChild);}this._contentNode.appendChild(this._content);}this.fire('contentupdate');},_updateLayout:function _updateLayout(){var container=this._contentNode,style=container.style;style.width = '';style.whiteSpace = 'nowrap';var width=container.offsetWidth;width = Math.min(width,this.options.maxWidth);width = Math.max(width,this.options.minWidth);style.width = width + 1 + 'px';style.whiteSpace = '';style.height = '';var height=container.offsetHeight,maxHeight=this.options.maxHeight,scrolledClass='leaflet-popup-scrolled';if(maxHeight && height > maxHeight){style.height = maxHeight + 'px';L.DomUtil.addClass(container,scrolledClass);}else {L.DomUtil.removeClass(container,scrolledClass);}this._containerWidth = this._container.offsetWidth;},_updatePosition:function _updatePosition(){if(!this._map){return;}var pos=this._map.latLngToLayerPoint(this._latlng),animated=this._animated,offset=L.point(this.options.offset);if(animated){L.DomUtil.setPosition(this._container,pos);}this._containerBottom = -offset.y - (animated?0:pos.y);this._containerLeft = -Math.round(this._containerWidth / 2) + offset.x + (animated?0:pos.x); // bottom position the popup in case the height of the popup changes (images loading etc)\n\tthis._container.style.bottom = this._containerBottom + 'px';this._container.style.left = this._containerLeft + 'px';},_zoomAnimation:function _zoomAnimation(opt){var pos=this._map._latLngToNewLayerPoint(this._latlng,opt.zoom,opt.center);L.DomUtil.setPosition(this._container,pos);},_adjustPan:function _adjustPan(){if(!this.options.autoPan){return;}var map=this._map,containerHeight=this._container.offsetHeight,containerWidth=this._containerWidth,layerPos=new L.Point(this._containerLeft,-containerHeight - this._containerBottom);if(this._animated){layerPos._add(L.DomUtil.getPosition(this._container));}var containerPos=map.layerPointToContainerPoint(layerPos),padding=L.point(this.options.autoPanPadding),paddingTL=L.point(this.options.autoPanPaddingTopLeft || padding),paddingBR=L.point(this.options.autoPanPaddingBottomRight || padding),size=map.getSize(),dx=0,dy=0;if(containerPos.x + containerWidth + paddingBR.x > size.x){ // right\n\tdx = containerPos.x + containerWidth - size.x + paddingBR.x;}if(containerPos.x - dx - paddingTL.x < 0){ // left\n\tdx = containerPos.x - paddingTL.x;}if(containerPos.y + containerHeight + paddingBR.y > size.y){ // bottom\n\tdy = containerPos.y + containerHeight - size.y + paddingBR.y;}if(containerPos.y - dy - paddingTL.y < 0){ // top\n\tdy = containerPos.y - paddingTL.y;}if(dx || dy){map.fire('autopanstart').panBy([dx,dy]);}},_onCloseButtonClick:function _onCloseButtonClick(e){this._close();L.DomEvent.stop(e);}});L.popup = function(options,source){return new L.Popup(options,source);};L.Map.include({openPopup:function openPopup(popup,latlng,options){ // (Popup) or (String || HTMLElement, LatLng[, Object])\n\tthis.closePopup();if(!(popup instanceof L.Popup)){var content=popup;popup = new L.Popup(options).setLatLng(latlng).setContent(content);}popup._isOpen = true;this._popup = popup;return this.addLayer(popup);},closePopup:function closePopup(popup){if(!popup || popup === this._popup){popup = this._popup;this._popup = null;}if(popup){this.removeLayer(popup);popup._isOpen = false;}return this;}}); /*\r\n\t * Popup extension to L.Marker, adding popup-related methods.\r\n\t */L.Marker.include({openPopup:function openPopup(){if(this._popup && this._map && !this._map.hasLayer(this._popup)){this._popup.setLatLng(this._latlng);this._map.openPopup(this._popup);}return this;},closePopup:function closePopup(){if(this._popup){this._popup._close();}return this;},togglePopup:function togglePopup(){if(this._popup){if(this._popup._isOpen){this.closePopup();}else {this.openPopup();}}return this;},bindPopup:function bindPopup(content,options){var anchor=L.point(this.options.icon.options.popupAnchor || [0,0]);anchor = anchor.add(L.Popup.prototype.options.offset);if(options && options.offset){anchor = anchor.add(options.offset);}options = L.extend({offset:anchor},options);if(!this._popupHandlersAdded){this.on('click',this.togglePopup,this).on('remove',this.closePopup,this).on('move',this._movePopup,this);this._popupHandlersAdded = true;}if(content instanceof L.Popup){L.setOptions(content,options);this._popup = content;content._source = this;}else {this._popup = new L.Popup(options,this).setContent(content);}return this;},setPopupContent:function setPopupContent(content){if(this._popup){this._popup.setContent(content);}return this;},unbindPopup:function unbindPopup(){if(this._popup){this._popup = null;this.off('click',this.togglePopup,this).off('remove',this.closePopup,this).off('move',this._movePopup,this);this._popupHandlersAdded = false;}return this;},getPopup:function getPopup(){return this._popup;},_movePopup:function _movePopup(e){this._popup.setLatLng(e.latlng);}}); /*\r\n\t * L.LayerGroup is a class to combine several layers into one so that\r\n\t * you can manipulate the group (e.g. add/remove it) as one layer.\r\n\t */L.LayerGroup = L.Class.extend({initialize:function initialize(layers){this._layers = {};var i,len;if(layers){for(i = 0,len = layers.length;i < len;i++) {this.addLayer(layers[i]);}}},addLayer:function addLayer(layer){var id=this.getLayerId(layer);this._layers[id] = layer;if(this._map){this._map.addLayer(layer);}return this;},removeLayer:function removeLayer(layer){var id=layer in this._layers?layer:this.getLayerId(layer);if(this._map && this._layers[id]){this._map.removeLayer(this._layers[id]);}delete this._layers[id];return this;},hasLayer:function hasLayer(layer){if(!layer){return false;}return layer in this._layers || this.getLayerId(layer) in this._layers;},clearLayers:function clearLayers(){this.eachLayer(this.removeLayer,this);return this;},invoke:function invoke(methodName){var args=Array.prototype.slice.call(arguments,1),i,layer;for(i in this._layers) {layer = this._layers[i];if(layer[methodName]){layer[methodName].apply(layer,args);}}return this;},onAdd:function onAdd(map){this._map = map;this.eachLayer(map.addLayer,map);},onRemove:function onRemove(map){this.eachLayer(map.removeLayer,map);this._map = null;},addTo:function addTo(map){map.addLayer(this);return this;},eachLayer:function eachLayer(method,context){for(var i in this._layers) {method.call(context,this._layers[i]);}return this;},getLayer:function getLayer(id){return this._layers[id];},getLayers:function getLayers(){var layers=[];for(var i in this._layers) {layers.push(this._layers[i]);}return layers;},setZIndex:function setZIndex(zIndex){return this.invoke('setZIndex',zIndex);},getLayerId:function getLayerId(layer){return L.stamp(layer);}});L.layerGroup = function(layers){return new L.LayerGroup(layers);}; /*\r\n\t * L.FeatureGroup extends L.LayerGroup by introducing mouse events and additional methods\r\n\t * shared between a group of interactive layers (like vectors or markers).\r\n\t */L.FeatureGroup = L.LayerGroup.extend({includes:L.Mixin.Events,statics:{EVENTS:'click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose'},addLayer:function addLayer(layer){if(this.hasLayer(layer)){return this;}if('on' in layer){layer.on(L.FeatureGroup.EVENTS,this._propagateEvent,this);}L.LayerGroup.prototype.addLayer.call(this,layer);if(this._popupContent && layer.bindPopup){layer.bindPopup(this._popupContent,this._popupOptions);}return this.fire('layeradd',{layer:layer});},removeLayer:function removeLayer(layer){if(!this.hasLayer(layer)){return this;}if(layer in this._layers){layer = this._layers[layer];}layer.off(L.FeatureGroup.EVENTS,this._propagateEvent,this);L.LayerGroup.prototype.removeLayer.call(this,layer);if(this._popupContent){this.invoke('unbindPopup');}return this.fire('layerremove',{layer:layer});},bindPopup:function bindPopup(content,options){this._popupContent = content;this._popupOptions = options;return this.invoke('bindPopup',content,options);},openPopup:function openPopup(latlng){ // open popup on the first layer\n\tfor(var id in this._layers) {this._layers[id].openPopup(latlng);break;}return this;},setStyle:function setStyle(style){return this.invoke('setStyle',style);},bringToFront:function bringToFront(){return this.invoke('bringToFront');},bringToBack:function bringToBack(){return this.invoke('bringToBack');},getBounds:function getBounds(){var bounds=new L.LatLngBounds();this.eachLayer(function(layer){bounds.extend(layer instanceof L.Marker?layer.getLatLng():layer.getBounds());});return bounds;},_propagateEvent:function _propagateEvent(e){e = L.extend({layer:e.target,target:this},e);this.fire(e.type,e);}});L.featureGroup = function(layers){return new L.FeatureGroup(layers);}; /*\r\n\t * L.Path is a base class for rendering vector paths on a map. Inherited by Polyline, Circle, etc.\r\n\t */L.Path = L.Class.extend({includes:[L.Mixin.Events],statics:{ // how much to extend the clip area around the map view\n\t// (relative to its size, e.g. 0.5 is half the screen in each direction)\n\t// set it so that SVG element doesn't exceed 1280px (vectors flicker on dragend if it is)\n\tCLIP_PADDING:(function(){var max=L.Browser.mobile?1280:2000,target=(max / Math.max(window.outerWidth,window.outerHeight) - 1) / 2;return Math.max(0,Math.min(0.5,target));})()},options:{stroke:true,color:'#0033ff',dashArray:null,lineCap:null,lineJoin:null,weight:5,opacity:0.5,fill:false,fillColor:null, //same as color by default\n\tfillOpacity:0.2,clickable:true},initialize:function initialize(options){L.setOptions(this,options);},onAdd:function onAdd(map){this._map = map;if(!this._container){this._initElements();this._initEvents();}this.projectLatlngs();this._updatePath();if(this._container){this._map._pathRoot.appendChild(this._container);}this.fire('add');map.on({'viewreset':this.projectLatlngs,'moveend':this._updatePath},this);},addTo:function addTo(map){map.addLayer(this);return this;},onRemove:function onRemove(map){map._pathRoot.removeChild(this._container); // Need to fire remove event before we set _map to null as the event hooks might need the object\n\tthis.fire('remove');this._map = null;if(L.Browser.vml){this._container = null;this._stroke = null;this._fill = null;}map.off({'viewreset':this.projectLatlngs,'moveend':this._updatePath},this);},projectLatlngs:function projectLatlngs(){ // do all projection stuff here\n\t},setStyle:function setStyle(style){L.setOptions(this,style);if(this._container){this._updateStyle();}return this;},redraw:function redraw(){if(this._map){this.projectLatlngs();this._updatePath();}return this;}});L.Map.include({_updatePathViewport:function _updatePathViewport(){var p=L.Path.CLIP_PADDING,size=this.getSize(),panePos=L.DomUtil.getPosition(this._mapPane),min=panePos.multiplyBy(-1)._subtract(size.multiplyBy(p)._round()),max=min.add(size.multiplyBy(1 + p * 2)._round());this._pathViewport = new L.Bounds(min,max);}}); /*\r\n\t * Extends L.Path with SVG-specific rendering code.\r\n\t */L.Path.SVG_NS = 'http://www.w3.org/2000/svg';L.Browser.svg = !!(document.createElementNS && document.createElementNS(L.Path.SVG_NS,'svg').createSVGRect);L.Path = L.Path.extend({statics:{SVG:L.Browser.svg},bringToFront:function bringToFront(){var root=this._map._pathRoot,path=this._container;if(path && root.lastChild !== path){root.appendChild(path);}return this;},bringToBack:function bringToBack(){var root=this._map._pathRoot,path=this._container,first=root.firstChild;if(path && first !== path){root.insertBefore(path,first);}return this;},getPathString:function getPathString(){ // form path string here\n\t},_createElement:function _createElement(name){return document.createElementNS(L.Path.SVG_NS,name);},_initElements:function _initElements(){this._map._initPathRoot();this._initPath();this._initStyle();},_initPath:function _initPath(){this._container = this._createElement('g');this._path = this._createElement('path');if(this.options.className){L.DomUtil.addClass(this._path,this.options.className);}this._container.appendChild(this._path);},_initStyle:function _initStyle(){if(this.options.stroke){this._path.setAttribute('stroke-linejoin','round');this._path.setAttribute('stroke-linecap','round');}if(this.options.fill){this._path.setAttribute('fill-rule','evenodd');}if(this.options.pointerEvents){this._path.setAttribute('pointer-events',this.options.pointerEvents);}if(!this.options.clickable && !this.options.pointerEvents){this._path.setAttribute('pointer-events','none');}this._updateStyle();},_updateStyle:function _updateStyle(){if(this.options.stroke){this._path.setAttribute('stroke',this.options.color);this._path.setAttribute('stroke-opacity',this.options.opacity);this._path.setAttribute('stroke-width',this.options.weight);if(this.options.dashArray){this._path.setAttribute('stroke-dasharray',this.options.dashArray);}else {this._path.removeAttribute('stroke-dasharray');}if(this.options.lineCap){this._path.setAttribute('stroke-linecap',this.options.lineCap);}if(this.options.lineJoin){this._path.setAttribute('stroke-linejoin',this.options.lineJoin);}}else {this._path.setAttribute('stroke','none');}if(this.options.fill){this._path.setAttribute('fill',this.options.fillColor || this.options.color);this._path.setAttribute('fill-opacity',this.options.fillOpacity);}else {this._path.setAttribute('fill','none');}},_updatePath:function _updatePath(){var str=this.getPathString();if(!str){ // fix webkit empty string parsing bug\n\tstr = 'M0 0';}this._path.setAttribute('d',str);}, // TODO remove duplication with L.Map\n\t_initEvents:function _initEvents(){if(this.options.clickable){if(L.Browser.svg || !L.Browser.vml){L.DomUtil.addClass(this._path,'leaflet-clickable');}L.DomEvent.on(this._container,'click',this._onMouseClick,this);var events=['dblclick','mousedown','mouseover','mouseout','mousemove','contextmenu'];for(var i=0;i < events.length;i++) {L.DomEvent.on(this._container,events[i],this._fireMouseEvent,this);}}},_onMouseClick:function _onMouseClick(e){if(this._map.dragging && this._map.dragging.moved()){return;}this._fireMouseEvent(e);},_fireMouseEvent:function _fireMouseEvent(e){if(!this.hasEventListeners(e.type)){return;}var map=this._map,containerPoint=map.mouseEventToContainerPoint(e),layerPoint=map.containerPointToLayerPoint(containerPoint),latlng=map.layerPointToLatLng(layerPoint);this.fire(e.type,{latlng:latlng,layerPoint:layerPoint,containerPoint:containerPoint,originalEvent:e});if(e.type === 'contextmenu'){L.DomEvent.preventDefault(e);}if(e.type !== 'mousemove'){L.DomEvent.stopPropagation(e);}}});L.Map.include({_initPathRoot:function _initPathRoot(){if(!this._pathRoot){this._pathRoot = L.Path.prototype._createElement('svg');this._panes.overlayPane.appendChild(this._pathRoot);if(this.options.zoomAnimation && L.Browser.any3d){L.DomUtil.addClass(this._pathRoot,'leaflet-zoom-animated');this.on({'zoomanim':this._animatePathZoom,'zoomend':this._endPathZoom});}else {L.DomUtil.addClass(this._pathRoot,'leaflet-zoom-hide');}this.on('moveend',this._updateSvgViewport);this._updateSvgViewport();}},_animatePathZoom:function _animatePathZoom(e){var scale=this.getZoomScale(e.zoom),offset=this._getCenterOffset(e.center)._multiplyBy(-scale)._add(this._pathViewport.min);this._pathRoot.style[L.DomUtil.TRANSFORM] = L.DomUtil.getTranslateString(offset) + ' scale(' + scale + ') ';this._pathZooming = true;},_endPathZoom:function _endPathZoom(){this._pathZooming = false;},_updateSvgViewport:function _updateSvgViewport(){if(this._pathZooming){ // Do not update SVGs while a zoom animation is going on otherwise the animation will break.\n\t// When the zoom animation ends we will be updated again anyway\n\t// This fixes the case where you do a momentum move and zoom while the move is still ongoing.\n\treturn;}this._updatePathViewport();var vp=this._pathViewport,min=vp.min,max=vp.max,width=max.x - min.x,height=max.y - min.y,root=this._pathRoot,pane=this._panes.overlayPane; // Hack to make flicker on drag end on mobile webkit less irritating\n\tif(L.Browser.mobileWebkit){pane.removeChild(root);}L.DomUtil.setPosition(root,min);root.setAttribute('width',width);root.setAttribute('height',height);root.setAttribute('viewBox',[min.x,min.y,width,height].join(' '));if(L.Browser.mobileWebkit){pane.appendChild(root);}}}); /*\r\n\t * Popup extension to L.Path (polylines, polygons, circles), adding popup-related methods.\r\n\t */L.Path.include({bindPopup:function bindPopup(content,options){if(content instanceof L.Popup){this._popup = content;}else {if(!this._popup || options){this._popup = new L.Popup(options,this);}this._popup.setContent(content);}if(!this._popupHandlersAdded){this.on('click',this._openPopup,this).on('remove',this.closePopup,this);this._popupHandlersAdded = true;}return this;},unbindPopup:function unbindPopup(){if(this._popup){this._popup = null;this.off('click',this._openPopup).off('remove',this.closePopup);this._popupHandlersAdded = false;}return this;},openPopup:function openPopup(latlng){if(this._popup){ // open the popup from one of the path's points if not specified\n\tlatlng = latlng || this._latlng || this._latlngs[Math.floor(this._latlngs.length / 2)];this._openPopup({latlng:latlng});}return this;},closePopup:function closePopup(){if(this._popup){this._popup._close();}return this;},_openPopup:function _openPopup(e){this._popup.setLatLng(e.latlng);this._map.openPopup(this._popup);}}); /*\r\n\t * Vector rendering for IE6-8 through VML.\r\n\t * Thanks to Dmitry Baranovsky and his Raphael library for inspiration!\r\n\t */L.Browser.vml = !L.Browser.svg && (function(){try{var div=document.createElement('div');div.innerHTML = '<v:shape adj=\"1\"/>';var shape=div.firstChild;shape.style.behavior = 'url(#default#VML)';return shape && typeof shape.adj === 'object';}catch(e) {return false;}})();L.Path = L.Browser.svg || !L.Browser.vml?L.Path:L.Path.extend({statics:{VML:true,CLIP_PADDING:0.02},_createElement:(function(){try{document.namespaces.add('lvml','urn:schemas-microsoft-com:vml');return function(name){return document.createElement('<lvml:' + name + ' class=\"lvml\">');};}catch(e) {return function(name){return document.createElement('<' + name + ' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"lvml\">');};}})(),_initPath:function _initPath(){var container=this._container = this._createElement('shape');L.DomUtil.addClass(container,'leaflet-vml-shape' + (this.options.className?' ' + this.options.className:''));if(this.options.clickable){L.DomUtil.addClass(container,'leaflet-clickable');}container.coordsize = '1 1';this._path = this._createElement('path');container.appendChild(this._path);this._map._pathRoot.appendChild(container);},_initStyle:function _initStyle(){this._updateStyle();},_updateStyle:function _updateStyle(){var stroke=this._stroke,fill=this._fill,options=this.options,container=this._container;container.stroked = options.stroke;container.filled = options.fill;if(options.stroke){if(!stroke){stroke = this._stroke = this._createElement('stroke');stroke.endcap = 'round';container.appendChild(stroke);}stroke.weight = options.weight + 'px';stroke.color = options.color;stroke.opacity = options.opacity;if(options.dashArray){stroke.dashStyle = L.Util.isArray(options.dashArray)?options.dashArray.join(' '):options.dashArray.replace(/( *, *)/g,' ');}else {stroke.dashStyle = '';}if(options.lineCap){stroke.endcap = options.lineCap.replace('butt','flat');}if(options.lineJoin){stroke.joinstyle = options.lineJoin;}}else if(stroke){container.removeChild(stroke);this._stroke = null;}if(options.fill){if(!fill){fill = this._fill = this._createElement('fill');container.appendChild(fill);}fill.color = options.fillColor || options.color;fill.opacity = options.fillOpacity;}else if(fill){container.removeChild(fill);this._fill = null;}},_updatePath:function _updatePath(){var style=this._container.style;style.display = 'none';this._path.v = this.getPathString() + ' '; // the space fixes IE empty path string bug\n\tstyle.display = '';}});L.Map.include(L.Browser.svg || !L.Browser.vml?{}:{_initPathRoot:function _initPathRoot(){if(this._pathRoot){return;}var root=this._pathRoot = document.createElement('div');root.className = 'leaflet-vml-container';this._panes.overlayPane.appendChild(root);this.on('moveend',this._updatePathViewport);this._updatePathViewport();}}); /*\r\n\t * Vector rendering for all browsers that support canvas.\r\n\t */L.Browser.canvas = (function(){return !!document.createElement('canvas').getContext;})();L.Path = L.Path.SVG && !window.L_PREFER_CANVAS || !L.Browser.canvas?L.Path:L.Path.extend({statics:{ //CLIP_PADDING: 0.02, // not sure if there's a need to set it to a small value\n\tCANVAS:true,SVG:false},redraw:function redraw(){if(this._map){this.projectLatlngs();this._requestUpdate();}return this;},setStyle:function setStyle(style){L.setOptions(this,style);if(this._map){this._updateStyle();this._requestUpdate();}return this;},onRemove:function onRemove(map){map.off('viewreset',this.projectLatlngs,this).off('moveend',this._updatePath,this);if(this.options.clickable){this._map.off('click',this._onClick,this);this._map.off('mousemove',this._onMouseMove,this);}this._requestUpdate();this.fire('remove');this._map = null;},_requestUpdate:function _requestUpdate(){if(this._map && !L.Path._updateRequest){L.Path._updateRequest = L.Util.requestAnimFrame(this._fireMapMoveEnd,this._map);}},_fireMapMoveEnd:function _fireMapMoveEnd(){L.Path._updateRequest = null;this.fire('moveend');},_initElements:function _initElements(){this._map._initPathRoot();this._ctx = this._map._canvasCtx;},_updateStyle:function _updateStyle(){var options=this.options;if(options.stroke){this._ctx.lineWidth = options.weight;this._ctx.strokeStyle = options.color;}if(options.fill){this._ctx.fillStyle = options.fillColor || options.color;}if(options.lineCap){this._ctx.lineCap = options.lineCap;}if(options.lineJoin){this._ctx.lineJoin = options.lineJoin;}},_drawPath:function _drawPath(){var i,j,len,len2,point,drawMethod;this._ctx.beginPath();for(i = 0,len = this._parts.length;i < len;i++) {for(j = 0,len2 = this._parts[i].length;j < len2;j++) {point = this._parts[i][j];drawMethod = (j === 0?'move':'line') + 'To';this._ctx[drawMethod](point.x,point.y);} // TODO refactor ugly hack\n\tif(this instanceof L.Polygon){this._ctx.closePath();}}},_checkIfEmpty:function _checkIfEmpty(){return !this._parts.length;},_updatePath:function _updatePath(){if(this._checkIfEmpty()){return;}var ctx=this._ctx,options=this.options;this._drawPath();ctx.save();this._updateStyle();if(options.fill){ctx.globalAlpha = options.fillOpacity;ctx.fill(options.fillRule || 'evenodd');}if(options.stroke){ctx.globalAlpha = options.opacity;ctx.stroke();}ctx.restore(); // TODO optimization: 1 fill/stroke for all features with equal style instead of 1 for each feature\n\t},_initEvents:function _initEvents(){if(this.options.clickable){this._map.on('mousemove',this._onMouseMove,this);this._map.on('click dblclick contextmenu',this._fireMouseEvent,this);}},_fireMouseEvent:function _fireMouseEvent(e){if(this._containsPoint(e.layerPoint)){this.fire(e.type,e);}},_onMouseMove:function _onMouseMove(e){if(!this._map || this._map._animatingZoom){return;} // TODO don't do on each move\n\tif(this._containsPoint(e.layerPoint)){this._ctx.canvas.style.cursor = 'pointer';this._mouseInside = true;this.fire('mouseover',e);}else if(this._mouseInside){this._ctx.canvas.style.cursor = '';this._mouseInside = false;this.fire('mouseout',e);}}});L.Map.include(L.Path.SVG && !window.L_PREFER_CANVAS || !L.Browser.canvas?{}:{_initPathRoot:function _initPathRoot(){var root=this._pathRoot,ctx;if(!root){root = this._pathRoot = document.createElement('canvas');root.style.position = 'absolute';ctx = this._canvasCtx = root.getContext('2d');ctx.lineCap = 'round';ctx.lineJoin = 'round';this._panes.overlayPane.appendChild(root);if(this.options.zoomAnimation){this._pathRoot.className = 'leaflet-zoom-animated';this.on('zoomanim',this._animatePathZoom);this.on('zoomend',this._endPathZoom);}this.on('moveend',this._updateCanvasViewport);this._updateCanvasViewport();}},_updateCanvasViewport:function _updateCanvasViewport(){ // don't redraw while zooming. See _updateSvgViewport for more details\n\tif(this._pathZooming){return;}this._updatePathViewport();var vp=this._pathViewport,min=vp.min,size=vp.max.subtract(min),root=this._pathRoot; //TODO check if this works properly on mobile webkit\n\tL.DomUtil.setPosition(root,min);root.width = size.x;root.height = size.y;root.getContext('2d').translate(-min.x,-min.y);}}); /*\r\n\t * L.LineUtil contains different utility functions for line segments\r\n\t * and polylines (clipping, simplification, distances, etc.)\r\n\t */ /*jshint bitwise:false */ // allow bitwise operations for this file\n\tL.LineUtil = { // Simplify polyline with vertex reduction and Douglas-Peucker simplification.\n\t// Improves rendering performance dramatically by lessening the number of points to draw.\n\tsimplify:function simplify( /*Point[]*/points, /*Number*/tolerance){if(!tolerance || !points.length){return points.slice();}var sqTolerance=tolerance * tolerance; // stage 1: vertex reduction\n\tpoints = this._reducePoints(points,sqTolerance); // stage 2: Douglas-Peucker simplification\n\tpoints = this._simplifyDP(points,sqTolerance);return points;}, // distance from a point to a segment between two points\n\tpointToSegmentDistance:function pointToSegmentDistance( /*Point*/p, /*Point*/p1, /*Point*/p2){return Math.sqrt(this._sqClosestPointOnSegment(p,p1,p2,true));},closestPointOnSegment:function closestPointOnSegment( /*Point*/p, /*Point*/p1, /*Point*/p2){return this._sqClosestPointOnSegment(p,p1,p2);}, // Douglas-Peucker simplification, see http://en.wikipedia.org/wiki/Douglas-Peucker_algorithm\n\t_simplifyDP:function _simplifyDP(points,sqTolerance){var len=points.length,ArrayConstructor=typeof Uint8Array !== undefined + ''?Uint8Array:Array,markers=new ArrayConstructor(len);markers[0] = markers[len - 1] = 1;this._simplifyDPStep(points,markers,sqTolerance,0,len - 1);var i,newPoints=[];for(i = 0;i < len;i++) {if(markers[i]){newPoints.push(points[i]);}}return newPoints;},_simplifyDPStep:function _simplifyDPStep(points,markers,sqTolerance,first,last){var maxSqDist=0,index,i,sqDist;for(i = first + 1;i <= last - 1;i++) {sqDist = this._sqClosestPointOnSegment(points[i],points[first],points[last],true);if(sqDist > maxSqDist){index = i;maxSqDist = sqDist;}}if(maxSqDist > sqTolerance){markers[index] = 1;this._simplifyDPStep(points,markers,sqTolerance,first,index);this._simplifyDPStep(points,markers,sqTolerance,index,last);}}, // reduce points that are too close to each other to a single point\n\t_reducePoints:function _reducePoints(points,sqTolerance){var reducedPoints=[points[0]];for(var i=1,prev=0,len=points.length;i < len;i++) {if(this._sqDist(points[i],points[prev]) > sqTolerance){reducedPoints.push(points[i]);prev = i;}}if(prev < len - 1){reducedPoints.push(points[len - 1]);}return reducedPoints;}, // Cohen-Sutherland line clipping algorithm.\n\t// Used to avoid rendering parts of a polyline that are not currently visible.\n\tclipSegment:function clipSegment(a,b,bounds,useLastCode){var codeA=useLastCode?this._lastCode:this._getBitCode(a,bounds),codeB=this._getBitCode(b,bounds),codeOut,p,newCode; // save 2nd code to avoid calculating it on the next segment\n\tthis._lastCode = codeB;while(true) { // if a,b is inside the clip window (trivial accept)\n\tif(!(codeA | codeB)){return [a,b]; // if a,b is outside the clip window (trivial reject)\n\t}else if(codeA & codeB){return false; // other cases\n\t}else {codeOut = codeA || codeB;p = this._getEdgeIntersection(a,b,codeOut,bounds);newCode = this._getBitCode(p,bounds);if(codeOut === codeA){a = p;codeA = newCode;}else {b = p;codeB = newCode;}}}},_getEdgeIntersection:function _getEdgeIntersection(a,b,code,bounds){var dx=b.x - a.x,dy=b.y - a.y,min=bounds.min,max=bounds.max;if(code & 8){ // top\n\treturn new L.Point(a.x + dx * (max.y - a.y) / dy,max.y);}else if(code & 4){ // bottom\n\treturn new L.Point(a.x + dx * (min.y - a.y) / dy,min.y);}else if(code & 2){ // right\n\treturn new L.Point(max.x,a.y + dy * (max.x - a.x) / dx);}else if(code & 1){ // left\n\treturn new L.Point(min.x,a.y + dy * (min.x - a.x) / dx);}},_getBitCode:function _getBitCode( /*Point*/p,bounds){var code=0;if(p.x < bounds.min.x){ // left\n\tcode |= 1;}else if(p.x > bounds.max.x){ // right\n\tcode |= 2;}if(p.y < bounds.min.y){ // bottom\n\tcode |= 4;}else if(p.y > bounds.max.y){ // top\n\tcode |= 8;}return code;}, // square distance (to avoid unnecessary Math.sqrt calls)\n\t_sqDist:function _sqDist(p1,p2){var dx=p2.x - p1.x,dy=p2.y - p1.y;return dx * dx + dy * dy;}, // return closest point on segment or distance to that point\n\t_sqClosestPointOnSegment:function _sqClosestPointOnSegment(p,p1,p2,sqDist){var x=p1.x,y=p1.y,dx=p2.x - x,dy=p2.y - y,dot=dx * dx + dy * dy,t;if(dot > 0){t = ((p.x - x) * dx + (p.y - y) * dy) / dot;if(t > 1){x = p2.x;y = p2.y;}else if(t > 0){x += dx * t;y += dy * t;}}dx = p.x - x;dy = p.y - y;return sqDist?dx * dx + dy * dy:new L.Point(x,y);}}; /*\r\n\t * L.Polyline is used to display polylines on a map.\r\n\t */L.Polyline = L.Path.extend({initialize:function initialize(latlngs,options){L.Path.prototype.initialize.call(this,options);this._latlngs = this._convertLatLngs(latlngs);},options:{ // how much to simplify the polyline on each zoom level\n\t// more = better performance and smoother look, less = more accurate\n\tsmoothFactor:1.0,noClip:false},projectLatlngs:function projectLatlngs(){this._originalPoints = [];for(var i=0,len=this._latlngs.length;i < len;i++) {this._originalPoints[i] = this._map.latLngToLayerPoint(this._latlngs[i]);}},getPathString:function getPathString(){for(var i=0,len=this._parts.length,str='';i < len;i++) {str += this._getPathPartStr(this._parts[i]);}return str;},getLatLngs:function getLatLngs(){return this._latlngs;},setLatLngs:function setLatLngs(latlngs){this._latlngs = this._convertLatLngs(latlngs);return this.redraw();},addLatLng:function addLatLng(latlng){this._latlngs.push(L.latLng(latlng));return this.redraw();},spliceLatLngs:function spliceLatLngs(){ // (Number index, Number howMany)\n\tvar removed=[].splice.apply(this._latlngs,arguments);this._convertLatLngs(this._latlngs,true);this.redraw();return removed;},closestLayerPoint:function closestLayerPoint(p){var minDistance=Infinity,parts=this._parts,p1,p2,minPoint=null;for(var j=0,jLen=parts.length;j < jLen;j++) {var points=parts[j];for(var i=1,len=points.length;i < len;i++) {p1 = points[i - 1];p2 = points[i];var sqDist=L.LineUtil._sqClosestPointOnSegment(p,p1,p2,true);if(sqDist < minDistance){minDistance = sqDist;minPoint = L.LineUtil._sqClosestPointOnSegment(p,p1,p2);}}}if(minPoint){minPoint.distance = Math.sqrt(minDistance);}return minPoint;},getBounds:function getBounds(){return new L.LatLngBounds(this.getLatLngs());},_convertLatLngs:function _convertLatLngs(latlngs,overwrite){var i,len,target=overwrite?latlngs:[];for(i = 0,len = latlngs.length;i < len;i++) {if(L.Util.isArray(latlngs[i]) && typeof latlngs[i][0] !== 'number'){return;}target[i] = L.latLng(latlngs[i]);}return target;},_initEvents:function _initEvents(){L.Path.prototype._initEvents.call(this);},_getPathPartStr:function _getPathPartStr(points){var round=L.Path.VML;for(var j=0,len2=points.length,str='',p;j < len2;j++) {p = points[j];if(round){p._round();}str += (j?'L':'M') + p.x + ' ' + p.y;}return str;},_clipPoints:function _clipPoints(){var points=this._originalPoints,len=points.length,i,k,segment;if(this.options.noClip){this._parts = [points];return;}this._parts = [];var parts=this._parts,vp=this._map._pathViewport,lu=L.LineUtil;for(i = 0,k = 0;i < len - 1;i++) {segment = lu.clipSegment(points[i],points[i + 1],vp,i);if(!segment){continue;}parts[k] = parts[k] || [];parts[k].push(segment[0]); // if segment goes out of screen, or it's the last one, it's the end of the line part\n\tif(segment[1] !== points[i + 1] || i === len - 2){parts[k].push(segment[1]);k++;}}}, // simplify each clipped part of the polyline\n\t_simplifyPoints:function _simplifyPoints(){var parts=this._parts,lu=L.LineUtil;for(var i=0,len=parts.length;i < len;i++) {parts[i] = lu.simplify(parts[i],this.options.smoothFactor);}},_updatePath:function _updatePath(){if(!this._map){return;}this._clipPoints();this._simplifyPoints();L.Path.prototype._updatePath.call(this);}});L.polyline = function(latlngs,options){return new L.Polyline(latlngs,options);}; /*\r\n\t * L.PolyUtil contains utility functions for polygons (clipping, etc.).\r\n\t */ /*jshint bitwise:false */ // allow bitwise operations here\n\tL.PolyUtil = {}; /*\r\n\t * Sutherland-Hodgeman polygon clipping algorithm.\r\n\t * Used to avoid rendering parts of a polygon that are not currently visible.\r\n\t */L.PolyUtil.clipPolygon = function(points,bounds){var clippedPoints,edges=[1,4,2,8],i,j,k,a,b,len,edge,p,lu=L.LineUtil;for(i = 0,len = points.length;i < len;i++) {points[i]._code = lu._getBitCode(points[i],bounds);} // for each edge (left, bottom, right, top)\n\tfor(k = 0;k < 4;k++) {edge = edges[k];clippedPoints = [];for(i = 0,len = points.length,j = len - 1;i < len;j = i++) {a = points[i];b = points[j]; // if a is inside the clip window\n\tif(!(a._code & edge)){ // if b is outside the clip window (a->b goes out of screen)\n\tif(b._code & edge){p = lu._getEdgeIntersection(b,a,edge,bounds);p._code = lu._getBitCode(p,bounds);clippedPoints.push(p);}clippedPoints.push(a); // else if b is inside the clip window (a->b enters the screen)\n\t}else if(!(b._code & edge)){p = lu._getEdgeIntersection(b,a,edge,bounds);p._code = lu._getBitCode(p,bounds);clippedPoints.push(p);}}points = clippedPoints;}return points;}; /*\r\n\t * L.Polygon is used to display polygons on a map.\r\n\t */L.Polygon = L.Polyline.extend({options:{fill:true},initialize:function initialize(latlngs,options){L.Polyline.prototype.initialize.call(this,latlngs,options);this._initWithHoles(latlngs);},_initWithHoles:function _initWithHoles(latlngs){var i,len,hole;if(latlngs && L.Util.isArray(latlngs[0]) && typeof latlngs[0][0] !== 'number'){this._latlngs = this._convertLatLngs(latlngs[0]);this._holes = latlngs.slice(1);for(i = 0,len = this._holes.length;i < len;i++) {hole = this._holes[i] = this._convertLatLngs(this._holes[i]);if(hole[0].equals(hole[hole.length - 1])){hole.pop();}}} // filter out last point if its equal to the first one\n\tlatlngs = this._latlngs;if(latlngs.length >= 2 && latlngs[0].equals(latlngs[latlngs.length - 1])){latlngs.pop();}},projectLatlngs:function projectLatlngs(){L.Polyline.prototype.projectLatlngs.call(this); // project polygon holes points\n\t// TODO move this logic to Polyline to get rid of duplication\n\tthis._holePoints = [];if(!this._holes){return;}var i,j,len,len2;for(i = 0,len = this._holes.length;i < len;i++) {this._holePoints[i] = [];for(j = 0,len2 = this._holes[i].length;j < len2;j++) {this._holePoints[i][j] = this._map.latLngToLayerPoint(this._holes[i][j]);}}},setLatLngs:function setLatLngs(latlngs){if(latlngs && L.Util.isArray(latlngs[0]) && typeof latlngs[0][0] !== 'number'){this._initWithHoles(latlngs);return this.redraw();}else {return L.Polyline.prototype.setLatLngs.call(this,latlngs);}},_clipPoints:function _clipPoints(){var points=this._originalPoints,newParts=[];this._parts = [points].concat(this._holePoints);if(this.options.noClip){return;}for(var i=0,len=this._parts.length;i < len;i++) {var clipped=L.PolyUtil.clipPolygon(this._parts[i],this._map._pathViewport);if(clipped.length){newParts.push(clipped);}}this._parts = newParts;},_getPathPartStr:function _getPathPartStr(points){var str=L.Polyline.prototype._getPathPartStr.call(this,points);return str + (L.Browser.svg?'z':'x');}});L.polygon = function(latlngs,options){return new L.Polygon(latlngs,options);}; /*\r\n\t * Contains L.MultiPolyline and L.MultiPolygon layers.\r\n\t */(function(){function createMulti(Klass){return L.FeatureGroup.extend({initialize:function initialize(latlngs,options){this._layers = {};this._options = options;this.setLatLngs(latlngs);},setLatLngs:function setLatLngs(latlngs){var i=0,len=latlngs.length;this.eachLayer(function(layer){if(i < len){layer.setLatLngs(latlngs[i++]);}else {this.removeLayer(layer);}},this);while(i < len) {this.addLayer(new Klass(latlngs[i++],this._options));}return this;},getLatLngs:function getLatLngs(){var latlngs=[];this.eachLayer(function(layer){latlngs.push(layer.getLatLngs());});return latlngs;}});}L.MultiPolyline = createMulti(L.Polyline);L.MultiPolygon = createMulti(L.Polygon);L.multiPolyline = function(latlngs,options){return new L.MultiPolyline(latlngs,options);};L.multiPolygon = function(latlngs,options){return new L.MultiPolygon(latlngs,options);};})(); /*\r\n\t * L.Rectangle extends Polygon and creates a rectangle when passed a LatLngBounds object.\r\n\t */L.Rectangle = L.Polygon.extend({initialize:function initialize(latLngBounds,options){L.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(latLngBounds),options);},setBounds:function setBounds(latLngBounds){this.setLatLngs(this._boundsToLatLngs(latLngBounds));},_boundsToLatLngs:function _boundsToLatLngs(latLngBounds){latLngBounds = L.latLngBounds(latLngBounds);return [latLngBounds.getSouthWest(),latLngBounds.getNorthWest(),latLngBounds.getNorthEast(),latLngBounds.getSouthEast()];}});L.rectangle = function(latLngBounds,options){return new L.Rectangle(latLngBounds,options);}; /*\r\n\t * L.Circle is a circle overlay (with a certain radius in meters).\r\n\t */L.Circle = L.Path.extend({initialize:function initialize(latlng,radius,options){L.Path.prototype.initialize.call(this,options);this._latlng = L.latLng(latlng);this._mRadius = radius;},options:{fill:true},setLatLng:function setLatLng(latlng){this._latlng = L.latLng(latlng);return this.redraw();},setRadius:function setRadius(radius){this._mRadius = radius;return this.redraw();},projectLatlngs:function projectLatlngs(){var lngRadius=this._getLngRadius(),latlng=this._latlng,pointLeft=this._map.latLngToLayerPoint([latlng.lat,latlng.lng - lngRadius]);this._point = this._map.latLngToLayerPoint(latlng);this._radius = Math.max(this._point.x - pointLeft.x,1);},getBounds:function getBounds(){var lngRadius=this._getLngRadius(),latRadius=this._mRadius / 40075017 * 360,latlng=this._latlng;return new L.LatLngBounds([latlng.lat - latRadius,latlng.lng - lngRadius],[latlng.lat + latRadius,latlng.lng + lngRadius]);},getLatLng:function getLatLng(){return this._latlng;},getPathString:function getPathString(){var p=this._point,r=this._radius;if(this._checkIfEmpty()){return '';}if(L.Browser.svg){return 'M' + p.x + ',' + (p.y - r) + 'A' + r + ',' + r + ',0,1,1,' + (p.x - 0.1) + ',' + (p.y - r) + ' z';}else {p._round();r = Math.round(r);return 'AL ' + p.x + ',' + p.y + ' ' + r + ',' + r + ' 0,' + 65535 * 360;}},getRadius:function getRadius(){return this._mRadius;}, // TODO Earth hardcoded, move into projection code!\n\t_getLatRadius:function _getLatRadius(){return this._mRadius / 40075017 * 360;},_getLngRadius:function _getLngRadius(){return this._getLatRadius() / Math.cos(L.LatLng.DEG_TO_RAD * this._latlng.lat);},_checkIfEmpty:function _checkIfEmpty(){if(!this._map){return false;}var vp=this._map._pathViewport,r=this._radius,p=this._point;return p.x - r > vp.max.x || p.y - r > vp.max.y || p.x + r < vp.min.x || p.y + r < vp.min.y;}});L.circle = function(latlng,radius,options){return new L.Circle(latlng,radius,options);}; /*\r\n\t * L.CircleMarker is a circle overlay with a permanent pixel radius.\r\n\t */L.CircleMarker = L.Circle.extend({options:{radius:10,weight:2},initialize:function initialize(latlng,options){L.Circle.prototype.initialize.call(this,latlng,null,options);this._radius = this.options.radius;},projectLatlngs:function projectLatlngs(){this._point = this._map.latLngToLayerPoint(this._latlng);},_updateStyle:function _updateStyle(){L.Circle.prototype._updateStyle.call(this);this.setRadius(this.options.radius);},setLatLng:function setLatLng(latlng){L.Circle.prototype.setLatLng.call(this,latlng);if(this._popup && this._popup._isOpen){this._popup.setLatLng(latlng);}return this;},setRadius:function setRadius(radius){this.options.radius = this._radius = radius;return this.redraw();},getRadius:function getRadius(){return this._radius;}});L.circleMarker = function(latlng,options){return new L.CircleMarker(latlng,options);}; /*\r\n\t * Extends L.Polyline to be able to manually detect clicks on Canvas-rendered polylines.\r\n\t */L.Polyline.include(!L.Path.CANVAS?{}:{_containsPoint:function _containsPoint(p,closed){var i,j,k,len,len2,dist,part,w=this.options.weight / 2;if(L.Browser.touch){w += 10; // polyline click tolerance on touch devices\n\t}for(i = 0,len = this._parts.length;i < len;i++) {part = this._parts[i];for(j = 0,len2 = part.length,k = len2 - 1;j < len2;k = j++) {if(!closed && j === 0){continue;}dist = L.LineUtil.pointToSegmentDistance(p,part[k],part[j]);if(dist <= w){return true;}}}return false;}}); /*\r\n\t * Extends L.Polygon to be able to manually detect clicks on Canvas-rendered polygons.\r\n\t */L.Polygon.include(!L.Path.CANVAS?{}:{_containsPoint:function _containsPoint(p){var inside=false,part,p1,p2,i,j,k,len,len2; // TODO optimization: check if within bounds first\n\tif(L.Polyline.prototype._containsPoint.call(this,p,true)){ // click on polygon border\n\treturn true;} // ray casting algorithm for detecting if point is in polygon\n\tfor(i = 0,len = this._parts.length;i < len;i++) {part = this._parts[i];for(j = 0,len2 = part.length,k = len2 - 1;j < len2;k = j++) {p1 = part[j];p2 = part[k];if(p1.y > p.y !== p2.y > p.y && p.x < (p2.x - p1.x) * (p.y - p1.y) / (p2.y - p1.y) + p1.x){inside = !inside;}}}return inside;}}); /*\r\n\t * Extends L.Circle with Canvas-specific code.\r\n\t */L.Circle.include(!L.Path.CANVAS?{}:{_drawPath:function _drawPath(){var p=this._point;this._ctx.beginPath();this._ctx.arc(p.x,p.y,this._radius,0,Math.PI * 2,false);},_containsPoint:function _containsPoint(p){var center=this._point,w2=this.options.stroke?this.options.weight / 2:0;return p.distanceTo(center) <= this._radius + w2;}}); /*\n\t * CircleMarker canvas specific drawing parts.\n\t */L.CircleMarker.include(!L.Path.CANVAS?{}:{_updateStyle:function _updateStyle(){L.Path.prototype._updateStyle.call(this);}}); /*\r\n\t * L.GeoJSON turns any GeoJSON data into a Leaflet layer.\r\n\t */L.GeoJSON = L.FeatureGroup.extend({initialize:function initialize(geojson,options){L.setOptions(this,options);this._layers = {};if(geojson){this.addData(geojson);}},addData:function addData(geojson){var features=L.Util.isArray(geojson)?geojson:geojson.features,i,len,feature;if(features){for(i = 0,len = features.length;i < len;i++) { // Only add this if geometry or geometries are set and not null\n\tfeature = features[i];if(feature.geometries || feature.geometry || feature.features || feature.coordinates){this.addData(features[i]);}}return this;}var options=this.options;if(options.filter && !options.filter(geojson)){return;}var layer=L.GeoJSON.geometryToLayer(geojson,options.pointToLayer,options.coordsToLatLng,options);layer.feature = L.GeoJSON.asFeature(geojson);layer.defaultOptions = layer.options;this.resetStyle(layer);if(options.onEachFeature){options.onEachFeature(geojson,layer);}return this.addLayer(layer);},resetStyle:function resetStyle(layer){var style=this.options.style;if(style){ // reset any custom styles\n\tL.Util.extend(layer.options,layer.defaultOptions);this._setLayerStyle(layer,style);}},setStyle:function setStyle(style){this.eachLayer(function(layer){this._setLayerStyle(layer,style);},this);},_setLayerStyle:function _setLayerStyle(layer,style){if(typeof style === 'function'){style = style(layer.feature);}if(layer.setStyle){layer.setStyle(style);}}});L.extend(L.GeoJSON,{geometryToLayer:function geometryToLayer(geojson,pointToLayer,coordsToLatLng,vectorOptions){var geometry=geojson.type === 'Feature'?geojson.geometry:geojson,coords=geometry.coordinates,layers=[],latlng,latlngs,i,len;coordsToLatLng = coordsToLatLng || this.coordsToLatLng;switch(geometry.type){case 'Point':latlng = coordsToLatLng(coords);return pointToLayer?pointToLayer(geojson,latlng):new L.Marker(latlng);case 'MultiPoint':for(i = 0,len = coords.length;i < len;i++) {latlng = coordsToLatLng(coords[i]);layers.push(pointToLayer?pointToLayer(geojson,latlng):new L.Marker(latlng));}return new L.FeatureGroup(layers);case 'LineString':latlngs = this.coordsToLatLngs(coords,0,coordsToLatLng);return new L.Polyline(latlngs,vectorOptions);case 'Polygon':if(coords.length === 2 && !coords[1].length){throw new Error('Invalid GeoJSON object.');}latlngs = this.coordsToLatLngs(coords,1,coordsToLatLng);return new L.Polygon(latlngs,vectorOptions);case 'MultiLineString':latlngs = this.coordsToLatLngs(coords,1,coordsToLatLng);return new L.MultiPolyline(latlngs,vectorOptions);case 'MultiPolygon':latlngs = this.coordsToLatLngs(coords,2,coordsToLatLng);return new L.MultiPolygon(latlngs,vectorOptions);case 'GeometryCollection':for(i = 0,len = geometry.geometries.length;i < len;i++) {layers.push(this.geometryToLayer({geometry:geometry.geometries[i],type:'Feature',properties:geojson.properties},pointToLayer,coordsToLatLng,vectorOptions));}return new L.FeatureGroup(layers);default:throw new Error('Invalid GeoJSON object.');}},coordsToLatLng:function coordsToLatLng(coords){ // (Array[, Boolean]) -> LatLng\n\treturn new L.LatLng(coords[1],coords[0],coords[2]);},coordsToLatLngs:function coordsToLatLngs(coords,levelsDeep,coordsToLatLng){ // (Array[, Number, Function]) -> Array\n\tvar latlng,i,len,latlngs=[];for(i = 0,len = coords.length;i < len;i++) {latlng = levelsDeep?this.coordsToLatLngs(coords[i],levelsDeep - 1,coordsToLatLng):(coordsToLatLng || this.coordsToLatLng)(coords[i]);latlngs.push(latlng);}return latlngs;},latLngToCoords:function latLngToCoords(latlng){var coords=[latlng.lng,latlng.lat];if(latlng.alt !== undefined){coords.push(latlng.alt);}return coords;},latLngsToCoords:function latLngsToCoords(latLngs){var coords=[];for(var i=0,len=latLngs.length;i < len;i++) {coords.push(L.GeoJSON.latLngToCoords(latLngs[i]));}return coords;},getFeature:function getFeature(layer,newGeometry){return layer.feature?L.extend({},layer.feature,{geometry:newGeometry}):L.GeoJSON.asFeature(newGeometry);},asFeature:function asFeature(geoJSON){if(geoJSON.type === 'Feature'){return geoJSON;}return {type:'Feature',properties:{},geometry:geoJSON};}});var PointToGeoJSON={toGeoJSON:function toGeoJSON(){return L.GeoJSON.getFeature(this,{type:'Point',coordinates:L.GeoJSON.latLngToCoords(this.getLatLng())});}};L.Marker.include(PointToGeoJSON);L.Circle.include(PointToGeoJSON);L.CircleMarker.include(PointToGeoJSON);L.Polyline.include({toGeoJSON:function toGeoJSON(){return L.GeoJSON.getFeature(this,{type:'LineString',coordinates:L.GeoJSON.latLngsToCoords(this.getLatLngs())});}});L.Polygon.include({toGeoJSON:function toGeoJSON(){var coords=[L.GeoJSON.latLngsToCoords(this.getLatLngs())],i,len,hole;coords[0].push(coords[0][0]);if(this._holes){for(i = 0,len = this._holes.length;i < len;i++) {hole = L.GeoJSON.latLngsToCoords(this._holes[i]);hole.push(hole[0]);coords.push(hole);}}return L.GeoJSON.getFeature(this,{type:'Polygon',coordinates:coords});}});(function(){function multiToGeoJSON(type){return function(){var coords=[];this.eachLayer(function(layer){coords.push(layer.toGeoJSON().geometry.coordinates);});return L.GeoJSON.getFeature(this,{type:type,coordinates:coords});};}L.MultiPolyline.include({toGeoJSON:multiToGeoJSON('MultiLineString')});L.MultiPolygon.include({toGeoJSON:multiToGeoJSON('MultiPolygon')});L.LayerGroup.include({toGeoJSON:function toGeoJSON(){var geometry=this.feature && this.feature.geometry,jsons=[],json;if(geometry && geometry.type === 'MultiPoint'){return multiToGeoJSON('MultiPoint').call(this);}var isGeometryCollection=geometry && geometry.type === 'GeometryCollection';this.eachLayer(function(layer){if(layer.toGeoJSON){json = layer.toGeoJSON();jsons.push(isGeometryCollection?json.geometry:L.GeoJSON.asFeature(json));}});if(isGeometryCollection){return L.GeoJSON.getFeature(this,{geometries:jsons,type:'GeometryCollection'});}return {type:'FeatureCollection',features:jsons};}});})();L.geoJson = function(geojson,options){return new L.GeoJSON(geojson,options);}; /*\r\n\t * L.DomEvent contains functions for working with DOM events.\r\n\t */L.DomEvent = { /* inspired by John Resig, Dean Edwards and YUI addEvent implementations */addListener:function addListener(obj,type,fn,context){ // (HTMLElement, String, Function[, Object])\n\tvar id=L.stamp(fn),key='_leaflet_' + type + id,handler,originalHandler,newType;if(obj[key]){return this;}handler = function(e){return fn.call(context || obj,e || L.DomEvent._getEvent());};if(L.Browser.pointer && type.indexOf('touch') === 0){return this.addPointerListener(obj,type,handler,id);}if(L.Browser.touch && type === 'dblclick' && this.addDoubleTapListener){this.addDoubleTapListener(obj,handler,id);}if('addEventListener' in obj){if(type === 'mousewheel'){obj.addEventListener('DOMMouseScroll',handler,false);obj.addEventListener(type,handler,false);}else if(type === 'mouseenter' || type === 'mouseleave'){originalHandler = handler;newType = type === 'mouseenter'?'mouseover':'mouseout';handler = function(e){if(!L.DomEvent._checkMouse(obj,e)){return;}return originalHandler(e);};obj.addEventListener(newType,handler,false);}else if(type === 'click' && L.Browser.android){originalHandler = handler;handler = function(e){return L.DomEvent._filterClick(e,originalHandler);};obj.addEventListener(type,handler,false);}else {obj.addEventListener(type,handler,false);}}else if('attachEvent' in obj){obj.attachEvent('on' + type,handler);}obj[key] = handler;return this;},removeListener:function removeListener(obj,type,fn){ // (HTMLElement, String, Function)\n\tvar id=L.stamp(fn),key='_leaflet_' + type + id,handler=obj[key];if(!handler){return this;}if(L.Browser.pointer && type.indexOf('touch') === 0){this.removePointerListener(obj,type,id);}else if(L.Browser.touch && type === 'dblclick' && this.removeDoubleTapListener){this.removeDoubleTapListener(obj,id);}else if('removeEventListener' in obj){if(type === 'mousewheel'){obj.removeEventListener('DOMMouseScroll',handler,false);obj.removeEventListener(type,handler,false);}else if(type === 'mouseenter' || type === 'mouseleave'){obj.removeEventListener(type === 'mouseenter'?'mouseover':'mouseout',handler,false);}else {obj.removeEventListener(type,handler,false);}}else if('detachEvent' in obj){obj.detachEvent('on' + type,handler);}obj[key] = null;return this;},stopPropagation:function stopPropagation(e){if(e.stopPropagation){e.stopPropagation();}else {e.cancelBubble = true;}L.DomEvent._skipped(e);return this;},disableScrollPropagation:function disableScrollPropagation(el){var stop=L.DomEvent.stopPropagation;return L.DomEvent.on(el,'mousewheel',stop).on(el,'MozMousePixelScroll',stop);},disableClickPropagation:function disableClickPropagation(el){var stop=L.DomEvent.stopPropagation;for(var i=L.Draggable.START.length - 1;i >= 0;i--) {L.DomEvent.on(el,L.Draggable.START[i],stop);}return L.DomEvent.on(el,'click',L.DomEvent._fakeStop).on(el,'dblclick',stop);},preventDefault:function preventDefault(e){if(e.preventDefault){e.preventDefault();}else {e.returnValue = false;}return this;},stop:function stop(e){return L.DomEvent.preventDefault(e).stopPropagation(e);},getMousePosition:function getMousePosition(e,container){if(!container){return new L.Point(e.clientX,e.clientY);}var rect=container.getBoundingClientRect();return new L.Point(e.clientX - rect.left - container.clientLeft,e.clientY - rect.top - container.clientTop);},getWheelDelta:function getWheelDelta(e){var delta=0;if(e.wheelDelta){delta = e.wheelDelta / 120;}if(e.detail){delta = -e.detail / 3;}return delta;},_skipEvents:{},_fakeStop:function _fakeStop(e){ // fakes stopPropagation by setting a special event flag, checked/reset with L.DomEvent._skipped(e)\n\tL.DomEvent._skipEvents[e.type] = true;},_skipped:function _skipped(e){var skipped=this._skipEvents[e.type]; // reset when checking, as it's only used in map container and propagates outside of the map\n\tthis._skipEvents[e.type] = false;return skipped;}, // check if element really left/entered the event target (for mouseenter/mouseleave)\n\t_checkMouse:function _checkMouse(el,e){var related=e.relatedTarget;if(!related){return true;}try{while(related && related !== el) {related = related.parentNode;}}catch(err) {return false;}return related !== el;},_getEvent:function _getEvent(){ // evil magic for IE\n\t/*jshint noarg:false */var e=window.event;if(!e){var caller=arguments.callee.caller;while(caller) {e = caller['arguments'][0];if(e && window.Event === e.constructor){break;}caller = caller.caller;}}return e;}, // this is a horrible workaround for a bug in Android where a single touch triggers two click events\n\t_filterClick:function _filterClick(e,handler){var timeStamp=e.timeStamp || e.originalEvent.timeStamp,elapsed=L.DomEvent._lastClick && timeStamp - L.DomEvent._lastClick; // are they closer together than 500ms yet more than 100ms?\n\t// Android typically triggers them ~300ms apart while multiple listeners\n\t// on the same event should be triggered far faster;\n\t// or check if click is simulated on the element, and if it is, reject any non-simulated events\n\tif(elapsed && elapsed > 100 && elapsed < 500 || e.target._simulatedClick && !e._simulated){L.DomEvent.stop(e);return;}L.DomEvent._lastClick = timeStamp;return handler(e);}};L.DomEvent.on = L.DomEvent.addListener;L.DomEvent.off = L.DomEvent.removeListener; /*\r\n\t * L.Draggable allows you to add dragging capabilities to any element. Supports mobile devices too.\r\n\t */L.Draggable = L.Class.extend({includes:L.Mixin.Events,statics:{START:L.Browser.touch?['touchstart','mousedown']:['mousedown'],END:{mousedown:'mouseup',touchstart:'touchend',pointerdown:'touchend',MSPointerDown:'touchend'},MOVE:{mousedown:'mousemove',touchstart:'touchmove',pointerdown:'touchmove',MSPointerDown:'touchmove'}},initialize:function initialize(element,dragStartTarget){this._element = element;this._dragStartTarget = dragStartTarget || element;},enable:function enable(){if(this._enabled){return;}for(var i=L.Draggable.START.length - 1;i >= 0;i--) {L.DomEvent.on(this._dragStartTarget,L.Draggable.START[i],this._onDown,this);}this._enabled = true;},disable:function disable(){if(!this._enabled){return;}for(var i=L.Draggable.START.length - 1;i >= 0;i--) {L.DomEvent.off(this._dragStartTarget,L.Draggable.START[i],this._onDown,this);}this._enabled = false;this._moved = false;},_onDown:function _onDown(e){this._moved = false;if(e.shiftKey || e.which !== 1 && e.button !== 1 && !e.touches){return;}L.DomEvent.stopPropagation(e);if(L.Draggable._disabled){return;}L.DomUtil.disableImageDrag();L.DomUtil.disableTextSelection();if(this._moving){return;}var first=e.touches?e.touches[0]:e;this._startPoint = new L.Point(first.clientX,first.clientY);this._startPos = this._newPos = L.DomUtil.getPosition(this._element);L.DomEvent.on(document,L.Draggable.MOVE[e.type],this._onMove,this).on(document,L.Draggable.END[e.type],this._onUp,this);},_onMove:function _onMove(e){if(e.touches && e.touches.length > 1){this._moved = true;return;}var first=e.touches && e.touches.length === 1?e.touches[0]:e,newPoint=new L.Point(first.clientX,first.clientY),offset=newPoint.subtract(this._startPoint);if(!offset.x && !offset.y){return;}if(L.Browser.touch && Math.abs(offset.x) + Math.abs(offset.y) < 3){return;}L.DomEvent.preventDefault(e);if(!this._moved){this.fire('dragstart');this._moved = true;this._startPos = L.DomUtil.getPosition(this._element).subtract(offset);L.DomUtil.addClass(document.body,'leaflet-dragging');this._lastTarget = e.target || e.srcElement;L.DomUtil.addClass(this._lastTarget,'leaflet-drag-target');}this._newPos = this._startPos.add(offset);this._moving = true;L.Util.cancelAnimFrame(this._animRequest);this._animRequest = L.Util.requestAnimFrame(this._updatePosition,this,true,this._dragStartTarget);},_updatePosition:function _updatePosition(){this.fire('predrag');L.DomUtil.setPosition(this._element,this._newPos);this.fire('drag');},_onUp:function _onUp(){L.DomUtil.removeClass(document.body,'leaflet-dragging');if(this._lastTarget){L.DomUtil.removeClass(this._lastTarget,'leaflet-drag-target');this._lastTarget = null;}for(var i in L.Draggable.MOVE) {L.DomEvent.off(document,L.Draggable.MOVE[i],this._onMove).off(document,L.Draggable.END[i],this._onUp);}L.DomUtil.enableImageDrag();L.DomUtil.enableTextSelection();if(this._moved && this._moving){ // ensure drag is not fired after dragend\n\tL.Util.cancelAnimFrame(this._animRequest);this.fire('dragend',{distance:this._newPos.distanceTo(this._startPos)});}this._moving = false;}}); /*\n\t\tL.Handler is a base class for handler classes that are used internally to inject\n\t\tinteraction features like dragging to classes like Map and Marker.\n\t*/L.Handler = L.Class.extend({initialize:function initialize(map){this._map = map;},enable:function enable(){if(this._enabled){return;}this._enabled = true;this.addHooks();},disable:function disable(){if(!this._enabled){return;}this._enabled = false;this.removeHooks();},enabled:function enabled(){return !!this._enabled;}}); /*\n\t * L.Handler.MapDrag is used to make the map draggable (with panning inertia), enabled by default.\n\t */L.Map.mergeOptions({dragging:true,inertia:!L.Browser.android23,inertiaDeceleration:3400, // px/s^2\n\tinertiaMaxSpeed:Infinity, // px/s\n\tinertiaThreshold:L.Browser.touch?32:18, // ms\n\teaseLinearity:0.25, // TODO refactor, move to CRS\n\tworldCopyJump:false});L.Map.Drag = L.Handler.extend({addHooks:function addHooks(){if(!this._draggable){var map=this._map;this._draggable = new L.Draggable(map._mapPane,map._container);this._draggable.on({'dragstart':this._onDragStart,'drag':this._onDrag,'dragend':this._onDragEnd},this);if(map.options.worldCopyJump){this._draggable.on('predrag',this._onPreDrag,this);map.on('viewreset',this._onViewReset,this);map.whenReady(this._onViewReset,this);}}this._draggable.enable();},removeHooks:function removeHooks(){this._draggable.disable();},moved:function moved(){return this._draggable && this._draggable._moved;},_onDragStart:function _onDragStart(){var map=this._map;if(map._panAnim){map._panAnim.stop();}map.fire('movestart').fire('dragstart');if(map.options.inertia){this._positions = [];this._times = [];}},_onDrag:function _onDrag(){if(this._map.options.inertia){var time=this._lastTime = +new Date(),pos=this._lastPos = this._draggable._newPos;this._positions.push(pos);this._times.push(time);if(time - this._times[0] > 200){this._positions.shift();this._times.shift();}}this._map.fire('move').fire('drag');},_onViewReset:function _onViewReset(){ // TODO fix hardcoded Earth values\n\tvar pxCenter=this._map.getSize()._divideBy(2),pxWorldCenter=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset = pxWorldCenter.subtract(pxCenter).x;this._worldWidth = this._map.project([0,180]).x;},_onPreDrag:function _onPreDrag(){ // TODO refactor to be able to adjust map pane position after zoom\n\tvar worldWidth=this._worldWidth,halfWidth=Math.round(worldWidth / 2),dx=this._initialWorldOffset,x=this._draggable._newPos.x,newX1=(x - halfWidth + dx) % worldWidth + halfWidth - dx,newX2=(x + halfWidth + dx) % worldWidth - halfWidth - dx,newX=Math.abs(newX1 + dx) < Math.abs(newX2 + dx)?newX1:newX2;this._draggable._newPos.x = newX;},_onDragEnd:function _onDragEnd(e){var map=this._map,options=map.options,delay=+new Date() - this._lastTime,noInertia=!options.inertia || delay > options.inertiaThreshold || !this._positions[0];map.fire('dragend',e);if(noInertia){map.fire('moveend');}else {var direction=this._lastPos.subtract(this._positions[0]),duration=(this._lastTime + delay - this._times[0]) / 1000,ease=options.easeLinearity,speedVector=direction.multiplyBy(ease / duration),speed=speedVector.distanceTo([0,0]),limitedSpeed=Math.min(options.inertiaMaxSpeed,speed),limitedSpeedVector=speedVector.multiplyBy(limitedSpeed / speed),decelerationDuration=limitedSpeed / (options.inertiaDeceleration * ease),offset=limitedSpeedVector.multiplyBy(-decelerationDuration / 2).round();if(!offset.x || !offset.y){map.fire('moveend');}else {offset = map._limitOffset(offset,map.options.maxBounds);L.Util.requestAnimFrame(function(){map.panBy(offset,{duration:decelerationDuration,easeLinearity:ease,noMoveStart:true});});}}}});L.Map.addInitHook('addHandler','dragging',L.Map.Drag); /*\n\t * L.Handler.DoubleClickZoom is used to handle double-click zoom on the map, enabled by default.\n\t */L.Map.mergeOptions({doubleClickZoom:true});L.Map.DoubleClickZoom = L.Handler.extend({addHooks:function addHooks(){this._map.on('dblclick',this._onDoubleClick,this);},removeHooks:function removeHooks(){this._map.off('dblclick',this._onDoubleClick,this);},_onDoubleClick:function _onDoubleClick(e){var map=this._map,zoom=map.getZoom() + (e.originalEvent.shiftKey?-1:1);if(map.options.doubleClickZoom === 'center'){map.setZoom(zoom);}else {map.setZoomAround(e.containerPoint,zoom);}}});L.Map.addInitHook('addHandler','doubleClickZoom',L.Map.DoubleClickZoom); /*\n\t * L.Handler.ScrollWheelZoom is used by L.Map to enable mouse scroll wheel zoom on the map.\n\t */L.Map.mergeOptions({scrollWheelZoom:true});L.Map.ScrollWheelZoom = L.Handler.extend({addHooks:function addHooks(){L.DomEvent.on(this._map._container,'mousewheel',this._onWheelScroll,this);L.DomEvent.on(this._map._container,'MozMousePixelScroll',L.DomEvent.preventDefault);this._delta = 0;},removeHooks:function removeHooks(){L.DomEvent.off(this._map._container,'mousewheel',this._onWheelScroll);L.DomEvent.off(this._map._container,'MozMousePixelScroll',L.DomEvent.preventDefault);},_onWheelScroll:function _onWheelScroll(e){var delta=L.DomEvent.getWheelDelta(e);this._delta += delta;this._lastMousePos = this._map.mouseEventToContainerPoint(e);if(!this._startTime){this._startTime = +new Date();}var left=Math.max(40 - (+new Date() - this._startTime),0);clearTimeout(this._timer);this._timer = setTimeout(L.bind(this._performZoom,this),left);L.DomEvent.preventDefault(e);L.DomEvent.stopPropagation(e);},_performZoom:function _performZoom(){var map=this._map,delta=this._delta,zoom=map.getZoom();delta = delta > 0?Math.ceil(delta):Math.floor(delta);delta = Math.max(Math.min(delta,4),-4);delta = map._limitZoom(zoom + delta) - zoom;this._delta = 0;this._startTime = null;if(!delta){return;}if(map.options.scrollWheelZoom === 'center'){map.setZoom(zoom + delta);}else {map.setZoomAround(this._lastMousePos,zoom + delta);}}});L.Map.addInitHook('addHandler','scrollWheelZoom',L.Map.ScrollWheelZoom); /*\r\n\t * Extends the event handling code with double tap support for mobile browsers.\r\n\t */L.extend(L.DomEvent,{_touchstart:L.Browser.msPointer?'MSPointerDown':L.Browser.pointer?'pointerdown':'touchstart',_touchend:L.Browser.msPointer?'MSPointerUp':L.Browser.pointer?'pointerup':'touchend', // inspired by Zepto touch code by Thomas Fuchs\n\taddDoubleTapListener:function addDoubleTapListener(obj,handler,id){var last,doubleTap=false,delay=250,touch,pre='_leaflet_',touchstart=this._touchstart,touchend=this._touchend,trackedTouches=[];function onTouchStart(e){var count;if(L.Browser.pointer){trackedTouches.push(e.pointerId);count = trackedTouches.length;}else {count = e.touches.length;}if(count > 1){return;}var now=Date.now(),delta=now - (last || now);touch = e.touches?e.touches[0]:e;doubleTap = delta > 0 && delta <= delay;last = now;}function onTouchEnd(e){if(L.Browser.pointer){var idx=trackedTouches.indexOf(e.pointerId);if(idx === -1){return;}trackedTouches.splice(idx,1);}if(doubleTap){if(L.Browser.pointer){ // work around .type being readonly with MSPointer* events\n\tvar newTouch={},prop; // jshint forin:false\n\tfor(var i in touch) {prop = touch[i];if(typeof prop === 'function'){newTouch[i] = prop.bind(touch);}else {newTouch[i] = prop;}}touch = newTouch;}touch.type = 'dblclick';handler(touch);last = null;}}obj[pre + touchstart + id] = onTouchStart;obj[pre + touchend + id] = onTouchEnd; // on pointer we need to listen on the document, otherwise a drag starting on the map and moving off screen\n\t// will not come through to us, so we will lose track of how many touches are ongoing\n\tvar endElement=L.Browser.pointer?document.documentElement:obj;obj.addEventListener(touchstart,onTouchStart,false);endElement.addEventListener(touchend,onTouchEnd,false);if(L.Browser.pointer){endElement.addEventListener(L.DomEvent.POINTER_CANCEL,onTouchEnd,false);}return this;},removeDoubleTapListener:function removeDoubleTapListener(obj,id){var pre='_leaflet_';obj.removeEventListener(this._touchstart,obj[pre + this._touchstart + id],false);(L.Browser.pointer?document.documentElement:obj).removeEventListener(this._touchend,obj[pre + this._touchend + id],false);if(L.Browser.pointer){document.documentElement.removeEventListener(L.DomEvent.POINTER_CANCEL,obj[pre + this._touchend + id],false);}return this;}}); /*\n\t * Extends L.DomEvent to provide touch support for Internet Explorer and Windows-based devices.\n\t */L.extend(L.DomEvent,{ //static\n\tPOINTER_DOWN:L.Browser.msPointer?'MSPointerDown':'pointerdown',POINTER_MOVE:L.Browser.msPointer?'MSPointerMove':'pointermove',POINTER_UP:L.Browser.msPointer?'MSPointerUp':'pointerup',POINTER_CANCEL:L.Browser.msPointer?'MSPointerCancel':'pointercancel',_pointers:[],_pointerDocumentListener:false, // Provides a touch events wrapper for (ms)pointer events.\n\t// Based on changes by veproza https://github.com/CloudMade/Leaflet/pull/1019\n\t//ref http://www.w3.org/TR/pointerevents/ https://www.w3.org/Bugs/Public/show_bug.cgi?id=22890\n\taddPointerListener:function addPointerListener(obj,type,handler,id){switch(type){case 'touchstart':return this.addPointerListenerStart(obj,type,handler,id);case 'touchend':return this.addPointerListenerEnd(obj,type,handler,id);case 'touchmove':return this.addPointerListenerMove(obj,type,handler,id);default:throw 'Unknown touch event type';}},addPointerListenerStart:function addPointerListenerStart(obj,type,handler,id){var pre='_leaflet_',pointers=this._pointers;var cb=function cb(e){L.DomEvent.preventDefault(e);var alreadyInArray=false;for(var i=0;i < pointers.length;i++) {if(pointers[i].pointerId === e.pointerId){alreadyInArray = true;break;}}if(!alreadyInArray){pointers.push(e);}e.touches = pointers.slice();e.changedTouches = [e];handler(e);};obj[pre + 'touchstart' + id] = cb;obj.addEventListener(this.POINTER_DOWN,cb,false); // need to also listen for end events to keep the _pointers list accurate\n\t// this needs to be on the body and never go away\n\tif(!this._pointerDocumentListener){var internalCb=function internalCb(e){for(var i=0;i < pointers.length;i++) {if(pointers[i].pointerId === e.pointerId){pointers.splice(i,1);break;}}}; //We listen on the documentElement as any drags that end by moving the touch off the screen get fired there\n\tdocument.documentElement.addEventListener(this.POINTER_UP,internalCb,false);document.documentElement.addEventListener(this.POINTER_CANCEL,internalCb,false);this._pointerDocumentListener = true;}return this;},addPointerListenerMove:function addPointerListenerMove(obj,type,handler,id){var pre='_leaflet_',touches=this._pointers;function cb(e){ // don't fire touch moves when mouse isn't down\n\tif((e.pointerType === e.MSPOINTER_TYPE_MOUSE || e.pointerType === 'mouse') && e.buttons === 0){return;}for(var i=0;i < touches.length;i++) {if(touches[i].pointerId === e.pointerId){touches[i] = e;break;}}e.touches = touches.slice();e.changedTouches = [e];handler(e);}obj[pre + 'touchmove' + id] = cb;obj.addEventListener(this.POINTER_MOVE,cb,false);return this;},addPointerListenerEnd:function addPointerListenerEnd(obj,type,handler,id){var pre='_leaflet_',touches=this._pointers;var cb=function cb(e){for(var i=0;i < touches.length;i++) {if(touches[i].pointerId === e.pointerId){touches.splice(i,1);break;}}e.touches = touches.slice();e.changedTouches = [e];handler(e);};obj[pre + 'touchend' + id] = cb;obj.addEventListener(this.POINTER_UP,cb,false);obj.addEventListener(this.POINTER_CANCEL,cb,false);return this;},removePointerListener:function removePointerListener(obj,type,id){var pre='_leaflet_',cb=obj[pre + type + id];switch(type){case 'touchstart':obj.removeEventListener(this.POINTER_DOWN,cb,false);break;case 'touchmove':obj.removeEventListener(this.POINTER_MOVE,cb,false);break;case 'touchend':obj.removeEventListener(this.POINTER_UP,cb,false);obj.removeEventListener(this.POINTER_CANCEL,cb,false);break;}return this;}}); /*\n\t * L.Handler.TouchZoom is used by L.Map to add pinch zoom on supported mobile browsers.\n\t */L.Map.mergeOptions({touchZoom:L.Browser.touch && !L.Browser.android23,bounceAtZoomLimits:true});L.Map.TouchZoom = L.Handler.extend({addHooks:function addHooks(){L.DomEvent.on(this._map._container,'touchstart',this._onTouchStart,this);},removeHooks:function removeHooks(){L.DomEvent.off(this._map._container,'touchstart',this._onTouchStart,this);},_onTouchStart:function _onTouchStart(e){var map=this._map;if(!e.touches || e.touches.length !== 2 || map._animatingZoom || this._zooming){return;}var p1=map.mouseEventToLayerPoint(e.touches[0]),p2=map.mouseEventToLayerPoint(e.touches[1]),viewCenter=map._getCenterLayerPoint();this._startCenter = p1.add(p2)._divideBy(2);this._startDist = p1.distanceTo(p2);this._moved = false;this._zooming = true;this._centerOffset = viewCenter.subtract(this._startCenter);if(map._panAnim){map._panAnim.stop();}L.DomEvent.on(document,'touchmove',this._onTouchMove,this).on(document,'touchend',this._onTouchEnd,this);L.DomEvent.preventDefault(e);},_onTouchMove:function _onTouchMove(e){var map=this._map;if(!e.touches || e.touches.length !== 2 || !this._zooming){return;}var p1=map.mouseEventToLayerPoint(e.touches[0]),p2=map.mouseEventToLayerPoint(e.touches[1]);this._scale = p1.distanceTo(p2) / this._startDist;this._delta = p1._add(p2)._divideBy(2)._subtract(this._startCenter);if(this._scale === 1){return;}if(!map.options.bounceAtZoomLimits){if(map.getZoom() === map.getMinZoom() && this._scale < 1 || map.getZoom() === map.getMaxZoom() && this._scale > 1){return;}}if(!this._moved){L.DomUtil.addClass(map._mapPane,'leaflet-touching');map.fire('movestart').fire('zoomstart');this._moved = true;}L.Util.cancelAnimFrame(this._animRequest);this._animRequest = L.Util.requestAnimFrame(this._updateOnMove,this,true,this._map._container);L.DomEvent.preventDefault(e);},_updateOnMove:function _updateOnMove(){var map=this._map,origin=this._getScaleOrigin(),center=map.layerPointToLatLng(origin),zoom=map.getScaleZoom(this._scale);map._animateZoom(center,zoom,this._startCenter,this._scale,this._delta,false,true);},_onTouchEnd:function _onTouchEnd(){if(!this._moved || !this._zooming){this._zooming = false;return;}var map=this._map;this._zooming = false;L.DomUtil.removeClass(map._mapPane,'leaflet-touching');L.Util.cancelAnimFrame(this._animRequest);L.DomEvent.off(document,'touchmove',this._onTouchMove).off(document,'touchend',this._onTouchEnd);var origin=this._getScaleOrigin(),center=map.layerPointToLatLng(origin),oldZoom=map.getZoom(),floatZoomDelta=map.getScaleZoom(this._scale) - oldZoom,roundZoomDelta=floatZoomDelta > 0?Math.ceil(floatZoomDelta):Math.floor(floatZoomDelta),zoom=map._limitZoom(oldZoom + roundZoomDelta),scale=map.getZoomScale(zoom) / this._scale;map._animateZoom(center,zoom,origin,scale);},_getScaleOrigin:function _getScaleOrigin(){var centerOffset=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(centerOffset);}});L.Map.addInitHook('addHandler','touchZoom',L.Map.TouchZoom); /*\n\t * L.Map.Tap is used to enable mobile hacks like quick taps and long hold.\n\t */L.Map.mergeOptions({tap:true,tapTolerance:15});L.Map.Tap = L.Handler.extend({addHooks:function addHooks(){L.DomEvent.on(this._map._container,'touchstart',this._onDown,this);},removeHooks:function removeHooks(){L.DomEvent.off(this._map._container,'touchstart',this._onDown,this);},_onDown:function _onDown(e){if(!e.touches){return;}L.DomEvent.preventDefault(e);this._fireClick = true; // don't simulate click or track longpress if more than 1 touch\n\tif(e.touches.length > 1){this._fireClick = false;clearTimeout(this._holdTimeout);return;}var first=e.touches[0],el=first.target;this._startPos = this._newPos = new L.Point(first.clientX,first.clientY); // if touching a link, highlight it\n\tif(el.tagName && el.tagName.toLowerCase() === 'a'){L.DomUtil.addClass(el,'leaflet-active');} // simulate long hold but setting a timeout\n\tthis._holdTimeout = setTimeout(L.bind(function(){if(this._isTapValid()){this._fireClick = false;this._onUp();this._simulateEvent('contextmenu',first);}},this),1000);L.DomEvent.on(document,'touchmove',this._onMove,this).on(document,'touchend',this._onUp,this);},_onUp:function _onUp(e){clearTimeout(this._holdTimeout);L.DomEvent.off(document,'touchmove',this._onMove,this).off(document,'touchend',this._onUp,this);if(this._fireClick && e && e.changedTouches){var first=e.changedTouches[0],el=first.target;if(el && el.tagName && el.tagName.toLowerCase() === 'a'){L.DomUtil.removeClass(el,'leaflet-active');} // simulate click if the touch didn't move too much\n\tif(this._isTapValid()){this._simulateEvent('click',first);}}},_isTapValid:function _isTapValid(){return this._newPos.distanceTo(this._startPos) <= this._map.options.tapTolerance;},_onMove:function _onMove(e){var first=e.touches[0];this._newPos = new L.Point(first.clientX,first.clientY);},_simulateEvent:function _simulateEvent(type,e){var simulatedEvent=document.createEvent('MouseEvents');simulatedEvent._simulated = true;e.target._simulatedClick = true;simulatedEvent.initMouseEvent(type,true,true,window,1,e.screenX,e.screenY,e.clientX,e.clientY,false,false,false,false,0,null);e.target.dispatchEvent(simulatedEvent);}});if(L.Browser.touch && !L.Browser.pointer){L.Map.addInitHook('addHandler','tap',L.Map.Tap);} /*\n\t * L.Handler.ShiftDragZoom is used to add shift-drag zoom interaction to the map\n\t  * (zoom to a selected bounding box), enabled by default.\n\t */L.Map.mergeOptions({boxZoom:true});L.Map.BoxZoom = L.Handler.extend({initialize:function initialize(map){this._map = map;this._container = map._container;this._pane = map._panes.overlayPane;this._moved = false;},addHooks:function addHooks(){L.DomEvent.on(this._container,'mousedown',this._onMouseDown,this);},removeHooks:function removeHooks(){L.DomEvent.off(this._container,'mousedown',this._onMouseDown);this._moved = false;},moved:function moved(){return this._moved;},_onMouseDown:function _onMouseDown(e){this._moved = false;if(!e.shiftKey || e.which !== 1 && e.button !== 1){return false;}L.DomUtil.disableTextSelection();L.DomUtil.disableImageDrag();this._startLayerPoint = this._map.mouseEventToLayerPoint(e);L.DomEvent.on(document,'mousemove',this._onMouseMove,this).on(document,'mouseup',this._onMouseUp,this).on(document,'keydown',this._onKeyDown,this);},_onMouseMove:function _onMouseMove(e){if(!this._moved){this._box = L.DomUtil.create('div','leaflet-zoom-box',this._pane);L.DomUtil.setPosition(this._box,this._startLayerPoint); //TODO refactor: move cursor to styles\n\tthis._container.style.cursor = 'crosshair';this._map.fire('boxzoomstart');}var startPoint=this._startLayerPoint,box=this._box,layerPoint=this._map.mouseEventToLayerPoint(e),offset=layerPoint.subtract(startPoint),newPos=new L.Point(Math.min(layerPoint.x,startPoint.x),Math.min(layerPoint.y,startPoint.y));L.DomUtil.setPosition(box,newPos);this._moved = true; // TODO refactor: remove hardcoded 4 pixels\n\tbox.style.width = Math.max(0,Math.abs(offset.x) - 4) + 'px';box.style.height = Math.max(0,Math.abs(offset.y) - 4) + 'px';},_finish:function _finish(){if(this._moved){this._pane.removeChild(this._box);this._container.style.cursor = '';}L.DomUtil.enableTextSelection();L.DomUtil.enableImageDrag();L.DomEvent.off(document,'mousemove',this._onMouseMove).off(document,'mouseup',this._onMouseUp).off(document,'keydown',this._onKeyDown);},_onMouseUp:function _onMouseUp(e){this._finish();var map=this._map,layerPoint=map.mouseEventToLayerPoint(e);if(this._startLayerPoint.equals(layerPoint)){return;}var bounds=new L.LatLngBounds(map.layerPointToLatLng(this._startLayerPoint),map.layerPointToLatLng(layerPoint));map.fitBounds(bounds);map.fire('boxzoomend',{boxZoomBounds:bounds});},_onKeyDown:function _onKeyDown(e){if(e.keyCode === 27){this._finish();}}});L.Map.addInitHook('addHandler','boxZoom',L.Map.BoxZoom); /*\n\t * L.Map.Keyboard is handling keyboard interaction with the map, enabled by default.\n\t */L.Map.mergeOptions({keyboard:true,keyboardPanOffset:80,keyboardZoomOffset:1});L.Map.Keyboard = L.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function initialize(map){this._map = map;this._setPanOffset(map.options.keyboardPanOffset);this._setZoomOffset(map.options.keyboardZoomOffset);},addHooks:function addHooks(){var container=this._map._container; // make the container focusable by tabbing\n\tif(container.tabIndex === -1){container.tabIndex = '0';}L.DomEvent.on(container,'focus',this._onFocus,this).on(container,'blur',this._onBlur,this).on(container,'mousedown',this._onMouseDown,this);this._map.on('focus',this._addHooks,this).on('blur',this._removeHooks,this);},removeHooks:function removeHooks(){this._removeHooks();var container=this._map._container;L.DomEvent.off(container,'focus',this._onFocus,this).off(container,'blur',this._onBlur,this).off(container,'mousedown',this._onMouseDown,this);this._map.off('focus',this._addHooks,this).off('blur',this._removeHooks,this);},_onMouseDown:function _onMouseDown(){if(this._focused){return;}var body=document.body,docEl=document.documentElement,top=body.scrollTop || docEl.scrollTop,left=body.scrollLeft || docEl.scrollLeft;this._map._container.focus();window.scrollTo(left,top);},_onFocus:function _onFocus(){this._focused = true;this._map.fire('focus');},_onBlur:function _onBlur(){this._focused = false;this._map.fire('blur');},_setPanOffset:function _setPanOffset(pan){var keys=this._panKeys = {},codes=this.keyCodes,i,len;for(i = 0,len = codes.left.length;i < len;i++) {keys[codes.left[i]] = [-1 * pan,0];}for(i = 0,len = codes.right.length;i < len;i++) {keys[codes.right[i]] = [pan,0];}for(i = 0,len = codes.down.length;i < len;i++) {keys[codes.down[i]] = [0,pan];}for(i = 0,len = codes.up.length;i < len;i++) {keys[codes.up[i]] = [0,-1 * pan];}},_setZoomOffset:function _setZoomOffset(zoom){var keys=this._zoomKeys = {},codes=this.keyCodes,i,len;for(i = 0,len = codes.zoomIn.length;i < len;i++) {keys[codes.zoomIn[i]] = zoom;}for(i = 0,len = codes.zoomOut.length;i < len;i++) {keys[codes.zoomOut[i]] = -zoom;}},_addHooks:function _addHooks(){L.DomEvent.on(document,'keydown',this._onKeyDown,this);},_removeHooks:function _removeHooks(){L.DomEvent.off(document,'keydown',this._onKeyDown,this);},_onKeyDown:function _onKeyDown(e){var key=e.keyCode,map=this._map;if(key in this._panKeys){if(map._panAnim && map._panAnim._inProgress){return;}map.panBy(this._panKeys[key]);if(map.options.maxBounds){map.panInsideBounds(map.options.maxBounds);}}else if(key in this._zoomKeys){map.setZoom(map.getZoom() + this._zoomKeys[key]);}else {return;}L.DomEvent.stop(e);}});L.Map.addInitHook('addHandler','keyboard',L.Map.Keyboard); /*\n\t * L.Handler.MarkerDrag is used internally by L.Marker to make the markers draggable.\n\t */L.Handler.MarkerDrag = L.Handler.extend({initialize:function initialize(marker){this._marker = marker;},addHooks:function addHooks(){var icon=this._marker._icon;if(!this._draggable){this._draggable = new L.Draggable(icon,icon);}this._draggable.on('dragstart',this._onDragStart,this).on('drag',this._onDrag,this).on('dragend',this._onDragEnd,this);this._draggable.enable();L.DomUtil.addClass(this._marker._icon,'leaflet-marker-draggable');},removeHooks:function removeHooks(){this._draggable.off('dragstart',this._onDragStart,this).off('drag',this._onDrag,this).off('dragend',this._onDragEnd,this);this._draggable.disable();L.DomUtil.removeClass(this._marker._icon,'leaflet-marker-draggable');},moved:function moved(){return this._draggable && this._draggable._moved;},_onDragStart:function _onDragStart(){this._marker.closePopup().fire('movestart').fire('dragstart');},_onDrag:function _onDrag(){var marker=this._marker,shadow=marker._shadow,iconPos=L.DomUtil.getPosition(marker._icon),latlng=marker._map.layerPointToLatLng(iconPos); // update shadow position\n\tif(shadow){L.DomUtil.setPosition(shadow,iconPos);}marker._latlng = latlng;marker.fire('move',{latlng:latlng}).fire('drag');},_onDragEnd:function _onDragEnd(e){this._marker.fire('moveend').fire('dragend',e);}}); /*\r\n\t * L.Control is a base class for implementing map controls. Handles positioning.\r\n\t * All other controls extend from this class.\r\n\t */L.Control = L.Class.extend({options:{position:'topright'},initialize:function initialize(options){L.setOptions(this,options);},getPosition:function getPosition(){return this.options.position;},setPosition:function setPosition(position){var map=this._map;if(map){map.removeControl(this);}this.options.position = position;if(map){map.addControl(this);}return this;},getContainer:function getContainer(){return this._container;},addTo:function addTo(map){this._map = map;var container=this._container = this.onAdd(map),pos=this.getPosition(),corner=map._controlCorners[pos];L.DomUtil.addClass(container,'leaflet-control');if(pos.indexOf('bottom') !== -1){corner.insertBefore(container,corner.firstChild);}else {corner.appendChild(container);}return this;},removeFrom:function removeFrom(map){var pos=this.getPosition(),corner=map._controlCorners[pos];corner.removeChild(this._container);this._map = null;if(this.onRemove){this.onRemove(map);}return this;},_refocusOnMap:function _refocusOnMap(){if(this._map){this._map.getContainer().focus();}}});L.control = function(options){return new L.Control(options);}; // adds control-related methods to L.Map\n\tL.Map.include({addControl:function addControl(control){control.addTo(this);return this;},removeControl:function removeControl(control){control.removeFrom(this);return this;},_initControlPos:function _initControlPos(){var corners=this._controlCorners = {},l='leaflet-',container=this._controlContainer = L.DomUtil.create('div',l + 'control-container',this._container);function createCorner(vSide,hSide){var className=l + vSide + ' ' + l + hSide;corners[vSide + hSide] = L.DomUtil.create('div',className,container);}createCorner('top','left');createCorner('top','right');createCorner('bottom','left');createCorner('bottom','right');},_clearControlPos:function _clearControlPos(){this._container.removeChild(this._controlContainer);}}); /*\r\n\t * L.Control.Zoom is used for the default zoom buttons on the map.\r\n\t */L.Control.Zoom = L.Control.extend({options:{position:'topleft',zoomInText:'+',zoomInTitle:'Zoom in',zoomOutText:'-',zoomOutTitle:'Zoom out'},onAdd:function onAdd(map){var zoomName='leaflet-control-zoom',container=L.DomUtil.create('div',zoomName + ' leaflet-bar');this._map = map;this._zoomInButton = this._createButton(this.options.zoomInText,this.options.zoomInTitle,zoomName + '-in',container,this._zoomIn,this);this._zoomOutButton = this._createButton(this.options.zoomOutText,this.options.zoomOutTitle,zoomName + '-out',container,this._zoomOut,this);this._updateDisabled();map.on('zoomend zoomlevelschange',this._updateDisabled,this);return container;},onRemove:function onRemove(map){map.off('zoomend zoomlevelschange',this._updateDisabled,this);},_zoomIn:function _zoomIn(e){this._map.zoomIn(e.shiftKey?3:1);},_zoomOut:function _zoomOut(e){this._map.zoomOut(e.shiftKey?3:1);},_createButton:function _createButton(html,title,className,container,fn,context){var link=L.DomUtil.create('a',className,container);link.innerHTML = html;link.href = '#';link.title = title;var stop=L.DomEvent.stopPropagation;L.DomEvent.on(link,'click',stop).on(link,'mousedown',stop).on(link,'dblclick',stop).on(link,'click',L.DomEvent.preventDefault).on(link,'click',fn,context).on(link,'click',this._refocusOnMap,context);return link;},_updateDisabled:function _updateDisabled(){var map=this._map,className='leaflet-disabled';L.DomUtil.removeClass(this._zoomInButton,className);L.DomUtil.removeClass(this._zoomOutButton,className);if(map._zoom === map.getMinZoom()){L.DomUtil.addClass(this._zoomOutButton,className);}if(map._zoom === map.getMaxZoom()){L.DomUtil.addClass(this._zoomInButton,className);}}});L.Map.mergeOptions({zoomControl:true});L.Map.addInitHook(function(){if(this.options.zoomControl){this.zoomControl = new L.Control.Zoom();this.addControl(this.zoomControl);}});L.control.zoom = function(options){return new L.Control.Zoom(options);}; /*\r\n\t * L.Control.Attribution is used for displaying attribution on the map (added by default).\r\n\t */L.Control.Attribution = L.Control.extend({options:{position:'bottomright',prefix:'<a href=\"http://leafletjs.com\" title=\"A JS library for interactive maps\">Leaflet</a>'},initialize:function initialize(options){L.setOptions(this,options);this._attributions = {};},onAdd:function onAdd(map){this._container = L.DomUtil.create('div','leaflet-control-attribution');L.DomEvent.disableClickPropagation(this._container);for(var i in map._layers) {if(map._layers[i].getAttribution){this.addAttribution(map._layers[i].getAttribution());}}map.on('layeradd',this._onLayerAdd,this).on('layerremove',this._onLayerRemove,this);this._update();return this._container;},onRemove:function onRemove(map){map.off('layeradd',this._onLayerAdd).off('layerremove',this._onLayerRemove);},setPrefix:function setPrefix(prefix){this.options.prefix = prefix;this._update();return this;},addAttribution:function addAttribution(text){if(!text){return;}if(!this._attributions[text]){this._attributions[text] = 0;}this._attributions[text]++;this._update();return this;},removeAttribution:function removeAttribution(text){if(!text){return;}if(this._attributions[text]){this._attributions[text]--;this._update();}return this;},_update:function _update(){if(!this._map){return;}var attribs=[];for(var i in this._attributions) {if(this._attributions[i]){attribs.push(i);}}var prefixAndAttribs=[];if(this.options.prefix){prefixAndAttribs.push(this.options.prefix);}if(attribs.length){prefixAndAttribs.push(attribs.join(', '));}this._container.innerHTML = prefixAndAttribs.join(' | ');},_onLayerAdd:function _onLayerAdd(e){if(e.layer.getAttribution){this.addAttribution(e.layer.getAttribution());}},_onLayerRemove:function _onLayerRemove(e){if(e.layer.getAttribution){this.removeAttribution(e.layer.getAttribution());}}});L.Map.mergeOptions({attributionControl:true});L.Map.addInitHook(function(){if(this.options.attributionControl){this.attributionControl = new L.Control.Attribution().addTo(this);}});L.control.attribution = function(options){return new L.Control.Attribution(options);}; /*\n\t * L.Control.Scale is used for displaying metric/imperial scale on the map.\n\t */L.Control.Scale = L.Control.extend({options:{position:'bottomleft',maxWidth:100,metric:true,imperial:true,updateWhenIdle:false},onAdd:function onAdd(map){this._map = map;var className='leaflet-control-scale',container=L.DomUtil.create('div',className),options=this.options;this._addScales(options,className,container);map.on(options.updateWhenIdle?'moveend':'move',this._update,this);map.whenReady(this._update,this);return container;},onRemove:function onRemove(map){map.off(this.options.updateWhenIdle?'moveend':'move',this._update,this);},_addScales:function _addScales(options,className,container){if(options.metric){this._mScale = L.DomUtil.create('div',className + '-line',container);}if(options.imperial){this._iScale = L.DomUtil.create('div',className + '-line',container);}},_update:function _update(){var bounds=this._map.getBounds(),centerLat=bounds.getCenter().lat,halfWorldMeters=6378137 * Math.PI * Math.cos(centerLat * Math.PI / 180),dist=halfWorldMeters * (bounds.getNorthEast().lng - bounds.getSouthWest().lng) / 180,size=this._map.getSize(),options=this.options,maxMeters=0;if(size.x > 0){maxMeters = dist * (options.maxWidth / size.x);}this._updateScales(options,maxMeters);},_updateScales:function _updateScales(options,maxMeters){if(options.metric && maxMeters){this._updateMetric(maxMeters);}if(options.imperial && maxMeters){this._updateImperial(maxMeters);}},_updateMetric:function _updateMetric(maxMeters){var meters=this._getRoundNum(maxMeters);this._mScale.style.width = this._getScaleWidth(meters / maxMeters) + 'px';this._mScale.innerHTML = meters < 1000?meters + ' m':meters / 1000 + ' km';},_updateImperial:function _updateImperial(maxMeters){var maxFeet=maxMeters * 3.2808399,scale=this._iScale,maxMiles,miles,feet;if(maxFeet > 5280){maxMiles = maxFeet / 5280;miles = this._getRoundNum(maxMiles);scale.style.width = this._getScaleWidth(miles / maxMiles) + 'px';scale.innerHTML = miles + ' mi';}else {feet = this._getRoundNum(maxFeet);scale.style.width = this._getScaleWidth(feet / maxFeet) + 'px';scale.innerHTML = feet + ' ft';}},_getScaleWidth:function _getScaleWidth(ratio){return Math.round(this.options.maxWidth * ratio) - 10;},_getRoundNum:function _getRoundNum(num){var pow10=Math.pow(10,(Math.floor(num) + '').length - 1),d=num / pow10;d = d >= 10?10:d >= 5?5:d >= 3?3:d >= 2?2:1;return pow10 * d;}});L.control.scale = function(options){return new L.Control.Scale(options);}; /*\r\n\t * L.Control.Layers is a control to allow users to switch between different layers on the map.\r\n\t */L.Control.Layers = L.Control.extend({options:{collapsed:true,position:'topright',autoZIndex:true},initialize:function initialize(baseLayers,overlays,options){L.setOptions(this,options);this._layers = {};this._lastZIndex = 0;this._handlingClick = false;for(var i in baseLayers) {this._addLayer(baseLayers[i],i);}for(i in overlays) {this._addLayer(overlays[i],i,true);}},onAdd:function onAdd(map){this._initLayout();this._update();map.on('layeradd',this._onLayerChange,this).on('layerremove',this._onLayerChange,this);return this._container;},onRemove:function onRemove(map){map.off('layeradd',this._onLayerChange,this).off('layerremove',this._onLayerChange,this);},addBaseLayer:function addBaseLayer(layer,name){this._addLayer(layer,name);this._update();return this;},addOverlay:function addOverlay(layer,name){this._addLayer(layer,name,true);this._update();return this;},removeLayer:function removeLayer(layer){var id=L.stamp(layer);delete this._layers[id];this._update();return this;},_initLayout:function _initLayout(){var className='leaflet-control-layers',container=this._container = L.DomUtil.create('div',className); //Makes this work on IE10 Touch devices by stopping it from firing a mouseout event when the touch is released\n\tcontainer.setAttribute('aria-haspopup',true);if(!L.Browser.touch){L.DomEvent.disableClickPropagation(container).disableScrollPropagation(container);}else {L.DomEvent.on(container,'click',L.DomEvent.stopPropagation);}var form=this._form = L.DomUtil.create('form',className + '-list');if(this.options.collapsed){if(!L.Browser.android){L.DomEvent.on(container,'mouseover',this._expand,this).on(container,'mouseout',this._collapse,this);}var link=this._layersLink = L.DomUtil.create('a',className + '-toggle',container);link.href = '#';link.title = 'Layers';if(L.Browser.touch){L.DomEvent.on(link,'click',L.DomEvent.stop).on(link,'click',this._expand,this);}else {L.DomEvent.on(link,'focus',this._expand,this);} //Work around for Firefox android issue https://github.com/Leaflet/Leaflet/issues/2033\n\tL.DomEvent.on(form,'click',function(){setTimeout(L.bind(this._onInputClick,this),0);},this);this._map.on('click',this._collapse,this); // TODO keyboard accessibility\n\t}else {this._expand();}this._baseLayersList = L.DomUtil.create('div',className + '-base',form);this._separator = L.DomUtil.create('div',className + '-separator',form);this._overlaysList = L.DomUtil.create('div',className + '-overlays',form);container.appendChild(form);},_addLayer:function _addLayer(layer,name,overlay){var id=L.stamp(layer);this._layers[id] = {layer:layer,name:name,overlay:overlay};if(this.options.autoZIndex && layer.setZIndex){this._lastZIndex++;layer.setZIndex(this._lastZIndex);}},_update:function _update(){if(!this._container){return;}this._baseLayersList.innerHTML = '';this._overlaysList.innerHTML = '';var baseLayersPresent=false,overlaysPresent=false,i,obj;for(i in this._layers) {obj = this._layers[i];this._addItem(obj);overlaysPresent = overlaysPresent || obj.overlay;baseLayersPresent = baseLayersPresent || !obj.overlay;}this._separator.style.display = overlaysPresent && baseLayersPresent?'':'none';},_onLayerChange:function _onLayerChange(e){var obj=this._layers[L.stamp(e.layer)];if(!obj){return;}if(!this._handlingClick){this._update();}var type=obj.overlay?e.type === 'layeradd'?'overlayadd':'overlayremove':e.type === 'layeradd'?'baselayerchange':null;if(type){this._map.fire(type,obj);}}, // IE7 bugs out if you create a radio dynamically, so you have to do it this hacky way (see http://bit.ly/PqYLBe)\n\t_createRadioElement:function _createRadioElement(name,checked){var radioHtml='<input type=\"radio\" class=\"leaflet-control-layers-selector\" name=\"' + name + '\"';if(checked){radioHtml += ' checked=\"checked\"';}radioHtml += '/>';var radioFragment=document.createElement('div');radioFragment.innerHTML = radioHtml;return radioFragment.firstChild;},_addItem:function _addItem(obj){var label=document.createElement('label'),input,checked=this._map.hasLayer(obj.layer);if(obj.overlay){input = document.createElement('input');input.type = 'checkbox';input.className = 'leaflet-control-layers-selector';input.defaultChecked = checked;}else {input = this._createRadioElement('leaflet-base-layers',checked);}input.layerId = L.stamp(obj.layer);L.DomEvent.on(input,'click',this._onInputClick,this);var name=document.createElement('span');name.innerHTML = ' ' + obj.name;label.appendChild(input);label.appendChild(name);var container=obj.overlay?this._overlaysList:this._baseLayersList;container.appendChild(label);return label;},_onInputClick:function _onInputClick(){var i,input,obj,inputs=this._form.getElementsByTagName('input'),inputsLen=inputs.length;this._handlingClick = true;for(i = 0;i < inputsLen;i++) {input = inputs[i];obj = this._layers[input.layerId];if(input.checked && !this._map.hasLayer(obj.layer)){this._map.addLayer(obj.layer);}else if(!input.checked && this._map.hasLayer(obj.layer)){this._map.removeLayer(obj.layer);}}this._handlingClick = false;this._refocusOnMap();},_expand:function _expand(){L.DomUtil.addClass(this._container,'leaflet-control-layers-expanded');},_collapse:function _collapse(){this._container.className = this._container.className.replace(' leaflet-control-layers-expanded','');}});L.control.layers = function(baseLayers,overlays,options){return new L.Control.Layers(baseLayers,overlays,options);}; /*\n\t * L.PosAnimation is used by Leaflet internally for pan animations.\n\t */L.PosAnimation = L.Class.extend({includes:L.Mixin.Events,run:function run(el,newPos,duration,easeLinearity){ // (HTMLElement, Point[, Number, Number])\n\tthis.stop();this._el = el;this._inProgress = true;this._newPos = newPos;this.fire('start');el.style[L.DomUtil.TRANSITION] = 'all ' + (duration || 0.25) + 's cubic-bezier(0,0,' + (easeLinearity || 0.5) + ',1)';L.DomEvent.on(el,L.DomUtil.TRANSITION_END,this._onTransitionEnd,this);L.DomUtil.setPosition(el,newPos); // toggle reflow, Chrome flickers for some reason if you don't do this\n\tL.Util.falseFn(el.offsetWidth); // there's no native way to track value updates of transitioned properties, so we imitate this\n\tthis._stepTimer = setInterval(L.bind(this._onStep,this),50);},stop:function stop(){if(!this._inProgress){return;} // if we just removed the transition property, the element would jump to its final position,\n\t// so we need to make it stay at the current position\n\tL.DomUtil.setPosition(this._el,this._getPos());this._onTransitionEnd();L.Util.falseFn(this._el.offsetWidth); // force reflow in case we are about to start a new animation\n\t},_onStep:function _onStep(){var stepPos=this._getPos();if(!stepPos){this._onTransitionEnd();return;} // jshint camelcase: false\n\t// make L.DomUtil.getPosition return intermediate position value during animation\n\tthis._el._leaflet_pos = stepPos;this.fire('step');}, // you can't easily get intermediate values of properties animated with CSS3 Transitions,\n\t// we need to parse computed style (in case of transform it returns matrix string)\n\t_transformRe:/([-+]?(?:\\d*\\.)?\\d+)\\D*, ([-+]?(?:\\d*\\.)?\\d+)\\D*\\)/,_getPos:function _getPos(){var left,top,matches,el=this._el,style=window.getComputedStyle(el);if(L.Browser.any3d){matches = style[L.DomUtil.TRANSFORM].match(this._transformRe);if(!matches){return;}left = parseFloat(matches[1]);top = parseFloat(matches[2]);}else {left = parseFloat(style.left);top = parseFloat(style.top);}return new L.Point(left,top,true);},_onTransitionEnd:function _onTransitionEnd(){L.DomEvent.off(this._el,L.DomUtil.TRANSITION_END,this._onTransitionEnd,this);if(!this._inProgress){return;}this._inProgress = false;this._el.style[L.DomUtil.TRANSITION] = ''; // jshint camelcase: false\n\t// make sure L.DomUtil.getPosition returns the final position value after animation\n\tthis._el._leaflet_pos = this._newPos;clearInterval(this._stepTimer);this.fire('step').fire('end');}}); /*\n\t * Extends L.Map to handle panning animations.\n\t */L.Map.include({setView:function setView(center,zoom,options){zoom = zoom === undefined?this._zoom:this._limitZoom(zoom);center = this._limitCenter(L.latLng(center),zoom,this.options.maxBounds);options = options || {};if(this._panAnim){this._panAnim.stop();}if(this._loaded && !options.reset && options !== true){if(options.animate !== undefined){options.zoom = L.extend({animate:options.animate},options.zoom);options.pan = L.extend({animate:options.animate},options.pan);} // try animating pan or zoom\n\tvar animated=this._zoom !== zoom?this._tryAnimatedZoom && this._tryAnimatedZoom(center,zoom,options.zoom):this._tryAnimatedPan(center,options.pan);if(animated){ // prevent resize handler call, the view will refresh after animation anyway\n\tclearTimeout(this._sizeTimer);return this;}} // animation didn't start, just reset the map view\n\tthis._resetView(center,zoom);return this;},panBy:function panBy(offset,options){offset = L.point(offset).round();options = options || {};if(!offset.x && !offset.y){return this;}if(!this._panAnim){this._panAnim = new L.PosAnimation();this._panAnim.on({'step':this._onPanTransitionStep,'end':this._onPanTransitionEnd},this);} // don't fire movestart if animating inertia\n\tif(!options.noMoveStart){this.fire('movestart');} // animate pan unless animate: false specified\n\tif(options.animate !== false){L.DomUtil.addClass(this._mapPane,'leaflet-pan-anim');var newPos=this._getMapPanePos().subtract(offset);this._panAnim.run(this._mapPane,newPos,options.duration || 0.25,options.easeLinearity);}else {this._rawPanBy(offset);this.fire('move').fire('moveend');}return this;},_onPanTransitionStep:function _onPanTransitionStep(){this.fire('move');},_onPanTransitionEnd:function _onPanTransitionEnd(){L.DomUtil.removeClass(this._mapPane,'leaflet-pan-anim');this.fire('moveend');},_tryAnimatedPan:function _tryAnimatedPan(center,options){ // difference between the new and current centers in pixels\n\tvar offset=this._getCenterOffset(center)._floor(); // don't animate too far unless animate: true specified in options\n\tif((options && options.animate) !== true && !this.getSize().contains(offset)){return false;}this.panBy(offset,options);return true;}}); /*\n\t * L.PosAnimation fallback implementation that powers Leaflet pan animations\n\t * in browsers that don't support CSS3 Transitions.\n\t */L.PosAnimation = L.DomUtil.TRANSITION?L.PosAnimation:L.PosAnimation.extend({run:function run(el,newPos,duration,easeLinearity){ // (HTMLElement, Point[, Number, Number])\n\tthis.stop();this._el = el;this._inProgress = true;this._duration = duration || 0.25;this._easeOutPower = 1 / Math.max(easeLinearity || 0.5,0.2);this._startPos = L.DomUtil.getPosition(el);this._offset = newPos.subtract(this._startPos);this._startTime = +new Date();this.fire('start');this._animate();},stop:function stop(){if(!this._inProgress){return;}this._step();this._complete();},_animate:function _animate(){ // animation loop\n\tthis._animId = L.Util.requestAnimFrame(this._animate,this);this._step();},_step:function _step(){var elapsed=+new Date() - this._startTime,duration=this._duration * 1000;if(elapsed < duration){this._runFrame(this._easeOut(elapsed / duration));}else {this._runFrame(1);this._complete();}},_runFrame:function _runFrame(progress){var pos=this._startPos.add(this._offset.multiplyBy(progress));L.DomUtil.setPosition(this._el,pos);this.fire('step');},_complete:function _complete(){L.Util.cancelAnimFrame(this._animId);this._inProgress = false;this.fire('end');},_easeOut:function _easeOut(t){return 1 - Math.pow(1 - t,this._easeOutPower);}}); /*\n\t * Extends L.Map to handle zoom animations.\n\t */L.Map.mergeOptions({zoomAnimation:true,zoomAnimationThreshold:4});if(L.DomUtil.TRANSITION){L.Map.addInitHook(function(){ // don't animate on browsers without hardware-accelerated transitions or old Android/Opera\n\tthis._zoomAnimated = this.options.zoomAnimation && L.DomUtil.TRANSITION && L.Browser.any3d && !L.Browser.android23 && !L.Browser.mobileOpera; // zoom transitions run with the same duration for all layers, so if one of transitionend events\n\t// happens after starting zoom animation (propagating to the map pane), we know that it ended globally\n\tif(this._zoomAnimated){L.DomEvent.on(this._mapPane,L.DomUtil.TRANSITION_END,this._catchTransitionEnd,this);}});}L.Map.include(!L.DomUtil.TRANSITION?{}:{_catchTransitionEnd:function _catchTransitionEnd(e){if(this._animatingZoom && e.propertyName.indexOf('transform') >= 0){this._onZoomTransitionEnd();}},_nothingToAnimate:function _nothingToAnimate(){return !this._container.getElementsByClassName('leaflet-zoom-animated').length;},_tryAnimatedZoom:function _tryAnimatedZoom(center,zoom,options){if(this._animatingZoom){return true;}options = options || {}; // don't animate if disabled, not supported or zoom difference is too large\n\tif(!this._zoomAnimated || options.animate === false || this._nothingToAnimate() || Math.abs(zoom - this._zoom) > this.options.zoomAnimationThreshold){return false;} // offset is the pixel coords of the zoom origin relative to the current center\n\tvar scale=this.getZoomScale(zoom),offset=this._getCenterOffset(center)._divideBy(1 - 1 / scale),origin=this._getCenterLayerPoint()._add(offset); // don't animate if the zoom origin isn't within one screen from the current center, unless forced\n\tif(options.animate !== true && !this.getSize().contains(offset)){return false;}this.fire('movestart').fire('zoomstart');this._animateZoom(center,zoom,origin,scale,null,true);return true;},_animateZoom:function _animateZoom(center,zoom,origin,scale,delta,backwards,forTouchZoom){if(!forTouchZoom){this._animatingZoom = true;} // put transform transition on all layers with leaflet-zoom-animated class\n\tL.DomUtil.addClass(this._mapPane,'leaflet-zoom-anim'); // remember what center/zoom to set after animation\n\tthis._animateToCenter = center;this._animateToZoom = zoom; // disable any dragging during animation\n\tif(L.Draggable){L.Draggable._disabled = true;}L.Util.requestAnimFrame(function(){this.fire('zoomanim',{center:center,zoom:zoom,origin:origin,scale:scale,delta:delta,backwards:backwards}); // horrible hack to work around a Chrome bug https://github.com/Leaflet/Leaflet/issues/3689\n\tsetTimeout(L.bind(this._onZoomTransitionEnd,this),250);},this);},_onZoomTransitionEnd:function _onZoomTransitionEnd(){if(!this._animatingZoom){return;}this._animatingZoom = false;L.DomUtil.removeClass(this._mapPane,'leaflet-zoom-anim');this._resetView(this._animateToCenter,this._animateToZoom,true,true);if(L.Draggable){L.Draggable._disabled = false;}}}); /*\n\t\tZoom animation logic for L.TileLayer.\n\t*/L.TileLayer.include({_animateZoom:function _animateZoom(e){if(!this._animating){this._animating = true;this._prepareBgBuffer();}var bg=this._bgBuffer,transform=L.DomUtil.TRANSFORM,initialTransform=e.delta?L.DomUtil.getTranslateString(e.delta):bg.style[transform],scaleStr=L.DomUtil.getScaleString(e.scale,e.origin);bg.style[transform] = e.backwards?scaleStr + ' ' + initialTransform:initialTransform + ' ' + scaleStr;},_endZoomAnim:function _endZoomAnim(){var front=this._tileContainer,bg=this._bgBuffer;front.style.visibility = '';front.parentNode.appendChild(front); // Bring to fore\n\t// force reflow\n\tL.Util.falseFn(bg.offsetWidth);var zoom=this._map.getZoom();if(zoom > this.options.maxZoom || zoom < this.options.minZoom){this._clearBgBuffer();}this._animating = false;},_clearBgBuffer:function _clearBgBuffer(){var map=this._map;if(map && !map._animatingZoom && !map.touchZoom._zooming){this._bgBuffer.innerHTML = '';this._bgBuffer.style[L.DomUtil.TRANSFORM] = '';}},_prepareBgBuffer:function _prepareBgBuffer(){var front=this._tileContainer,bg=this._bgBuffer; // if foreground layer doesn't have many tiles but bg layer does,\n\t// keep the existing bg layer and just zoom it some more\n\tvar bgLoaded=this._getLoadedTilesPercentage(bg),frontLoaded=this._getLoadedTilesPercentage(front);if(bg && bgLoaded > 0.5 && frontLoaded < 0.5){front.style.visibility = 'hidden';this._stopLoadingImages(front);return;} // prepare the buffer to become the front tile pane\n\tbg.style.visibility = 'hidden';bg.style[L.DomUtil.TRANSFORM] = ''; // switch out the current layer to be the new bg layer (and vice-versa)\n\tthis._tileContainer = bg;bg = this._bgBuffer = front;this._stopLoadingImages(bg); //prevent bg buffer from clearing right after zoom\n\tclearTimeout(this._clearBgBufferTimer);},_getLoadedTilesPercentage:function _getLoadedTilesPercentage(container){var tiles=container.getElementsByTagName('img'),i,len,count=0;for(i = 0,len = tiles.length;i < len;i++) {if(tiles[i].complete){count++;}}return count / len;}, // stops loading all tiles in the background layer\n\t_stopLoadingImages:function _stopLoadingImages(container){var tiles=Array.prototype.slice.call(container.getElementsByTagName('img')),i,len,tile;for(i = 0,len = tiles.length;i < len;i++) {tile = tiles[i];if(!tile.complete){tile.onload = L.Util.falseFn;tile.onerror = L.Util.falseFn;tile.src = L.Util.emptyImageUrl;tile.parentNode.removeChild(tile);}}}}); /*\r\n\t * Provides L.Map with convenient shortcuts for using browser geolocation features.\r\n\t */L.Map.include({_defaultLocateOptions:{watch:false,setView:false,maxZoom:Infinity,timeout:10000,maximumAge:0,enableHighAccuracy:false},locate:function locate( /*Object*/options){options = this._locateOptions = L.extend(this._defaultLocateOptions,options);if(!navigator.geolocation){this._handleGeolocationError({code:0,message:'Geolocation not supported.'});return this;}var onResponse=L.bind(this._handleGeolocationResponse,this),onError=L.bind(this._handleGeolocationError,this);if(options.watch){this._locationWatchId = navigator.geolocation.watchPosition(onResponse,onError,options);}else {navigator.geolocation.getCurrentPosition(onResponse,onError,options);}return this;},stopLocate:function stopLocate(){if(navigator.geolocation){navigator.geolocation.clearWatch(this._locationWatchId);}if(this._locateOptions){this._locateOptions.setView = false;}return this;},_handleGeolocationError:function _handleGeolocationError(error){var c=error.code,message=error.message || (c === 1?'permission denied':c === 2?'position unavailable':'timeout');if(this._locateOptions.setView && !this._loaded){this.fitWorld();}this.fire('locationerror',{code:c,message:'Geolocation error: ' + message + '.'});},_handleGeolocationResponse:function _handleGeolocationResponse(pos){var lat=pos.coords.latitude,lng=pos.coords.longitude,latlng=new L.LatLng(lat,lng),latAccuracy=180 * pos.coords.accuracy / 40075017,lngAccuracy=latAccuracy / Math.cos(L.LatLng.DEG_TO_RAD * lat),bounds=L.latLngBounds([lat - latAccuracy,lng - lngAccuracy],[lat + latAccuracy,lng + lngAccuracy]),options=this._locateOptions;if(options.setView){var zoom=Math.min(this.getBoundsZoom(bounds),options.maxZoom);this.setView(latlng,zoom);}var data={latlng:latlng,bounds:bounds,timestamp:pos.timestamp};for(var i in pos.coords) {if(typeof pos.coords[i] === 'number'){data[i] = pos.coords[i];}}this.fire('locationfound',data);}});})(window,document);\n\n/***/ },\n/* 22 */,\n/* 23 */,\n/* 24 */,\n/* 25 */,\n/* 26 */,\n/* 27 */\n/*!************************************!*\\\n  !*** ./~/core-js/modules/$.def.js ***!\n  \\************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar global     = __webpack_require__(/*! ./$.global */ 11)\n\t  , core       = __webpack_require__(/*! ./$.core */ 14)\n\t  , hide       = __webpack_require__(/*! ./$.hide */ 9)\n\t  , $redef     = __webpack_require__(/*! ./$.redef */ 18)\n\t  , PROTOTYPE  = 'prototype';\n\tvar ctx = function(fn, that){\n\t  return function(){\n\t    return fn.apply(that, arguments);\n\t  };\n\t};\n\tvar $def = function(type, name, source){\n\t  var key, own, out, exp\n\t    , isGlobal = type & $def.G\n\t    , isProto  = type & $def.P\n\t    , target   = isGlobal ? global : type & $def.S\n\t        ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE]\n\t    , exports  = isGlobal ? core : core[name] || (core[name] = {});\n\t  if(isGlobal)source = name;\n\t  for(key in source){\n\t    // contains in native\n\t    own = !(type & $def.F) && target && key in target;\n\t    // export native or passed\n\t    out = (own ? target : source)[key];\n\t    // bind timers to global for call from export context\n\t    if(type & $def.B && own)exp = ctx(out, global);\n\t    else exp = isProto && typeof out == 'function' ? ctx(Function.call, out) : out;\n\t    // extend global\n\t    if(target && !own)$redef(target, key, out);\n\t    // export\n\t    if(exports[key] != out)hide(exports, key, exp);\n\t    if(isProto)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;\n\t  }\n\t};\n\tglobal.core = core;\n\t// type bitmap\n\t$def.F = 1;  // forced\n\t$def.G = 2;  // global\n\t$def.S = 4;  // static\n\t$def.P = 8;  // proto\n\t$def.B = 16; // bind\n\t$def.W = 32; // wrap\n\tmodule.exports = $def;\n\n/***/ },\n/* 28 */\n/*!**************************************!*\\\n  !*** ./~/core-js/modules/$.fails.js ***!\n  \\**************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = function(exec){\n\t  try {\n\t    return !!exec();\n\t  } catch(e){\n\t    return true;\n\t  }\n\t};\n\n/***/ },\n/* 29 */\n/*!******************************************!*\\\n  !*** ./~/core-js/modules/$.is-object.js ***!\n  \\******************************************/\n/***/ function(module, exports) {\n\n\t// http://jsperf.com/core-js-isobject\n\tmodule.exports = function(it){\n\t  return it !== null && (typeof it == 'object' || typeof it == 'function');\n\t};\n\n/***/ },\n/* 30 */\n/*!******************************************!*\\\n  !*** ./~/core-js/modules/$.iterators.js ***!\n  \\******************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = {};\n\n/***/ },\n/* 31 */\n/*!****************************************!*\\\n  !*** ./~/core-js/modules/$.library.js ***!\n  \\****************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = false;\n\n/***/ },\n/* 32 */\n/*!***************************************!*\\\n  !*** ./~/core-js/modules/$.shared.js ***!\n  \\***************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar global = __webpack_require__(/*! ./$.global */ 11)\n\t  , SHARED = '__core-js_shared__'\n\t  , store  = global[SHARED] || (global[SHARED] = {});\n\tmodule.exports = function(key){\n\t  return store[key] || (store[key] = {});\n\t};\n\n/***/ },\n/* 33 */\n/*!*********************************************!*\\\n  !*** ./~/core-js/modules/$.support-desc.js ***!\n  \\*********************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t// Thank's IE8 for his funny defineProperty\n\tmodule.exports = !__webpack_require__(/*! ./$.fails */ 28)(function(){\n\t  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n\t});\n\n/***/ },\n/* 34 */\n/*!**************************************!*\\\n  !*** ./~/css-loader/lib/css-base.js ***!\n  \\**************************************/\n/***/ function(module, exports) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\t// css base code, injected by the css-loader\r\n\t// \r\n\tmodule.exports = function() {\r\n\t\tvar list = [];\r\n\t\r\n\t\t// return the list of modules as css string\r\n\t\tlist.toString = function toString() {\r\n\t\t\tvar result = [];\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar item = this[i];\r\n\t\t\t\tif(item[2]) {\r\n\t\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult.push(item[1]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result.join(\"\");\r\n\t\t};\r\n\t\r\n\t\t// import a list of modules into the list\r\n\t\tlist.i = function(modules, mediaQuery) {\r\n\t\t\tif(typeof modules === \"string\")\r\n\t\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\t\tvar alreadyImportedModules = {};\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar id = this[i][0];\r\n\t\t\t\tif(typeof id === \"number\")\r\n\t\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t\t}\r\n\t\t\tfor(var i = 0; i < modules.length; i++) {\r\n\t\t\t\tvar item = modules[i];\r\n\t\t\t\t// skip already imported module\r\n\t\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlist.push(item);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn list;\r\n\t};\r\n\n\n/***/ },\n/* 35 */\n/*!*************************************!*\\\n  !*** ./~/style-loader/addStyles.js ***!\n  \\*************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\tvar stylesInDom = {},\r\n\t\tmemoize = function(fn) {\r\n\t\t\tvar memo;\r\n\t\t\treturn function () {\r\n\t\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\t\treturn memo;\r\n\t\t\t};\r\n\t\t},\r\n\t\tisOldIE = memoize(function() {\r\n\t\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t\t}),\r\n\t\tgetHeadElement = memoize(function () {\r\n\t\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t\t}),\r\n\t\tsingletonElement = null,\r\n\t\tsingletonCounter = 0;\r\n\t\r\n\tmodule.exports = function(list, options) {\r\n\t\tif(true) {\r\n\t\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t\t}\r\n\t\r\n\t\toptions = options || {};\r\n\t\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t\t// tags it will allow on a page\r\n\t\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\t\r\n\t\tvar styles = listToStyles(list);\r\n\t\taddStylesToDom(styles, options);\r\n\t\r\n\t\treturn function update(newList) {\r\n\t\t\tvar mayRemove = [];\r\n\t\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\t\tvar item = styles[i];\r\n\t\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\t\tdomStyle.refs--;\r\n\t\t\t\tmayRemove.push(domStyle);\r\n\t\t\t}\r\n\t\t\tif(newList) {\r\n\t\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\t\taddStylesToDom(newStyles, options);\r\n\t\t\t}\r\n\t\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tfunction addStylesToDom(styles, options) {\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tif(domStyle) {\r\n\t\t\t\tdomStyle.refs++;\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t\t}\r\n\t\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar parts = [];\r\n\t\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction listToStyles(list) {\r\n\t\tvar styles = [];\r\n\t\tvar newStyles = {};\r\n\t\tfor(var i = 0; i < list.length; i++) {\r\n\t\t\tvar item = list[i];\r\n\t\t\tvar id = item[0];\r\n\t\t\tvar css = item[1];\r\n\t\t\tvar media = item[2];\r\n\t\t\tvar sourceMap = item[3];\r\n\t\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\t\tif(!newStyles[id])\r\n\t\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\t\telse\r\n\t\t\t\tnewStyles[id].parts.push(part);\r\n\t\t}\r\n\t\treturn styles;\r\n\t}\r\n\t\r\n\tfunction createStyleElement() {\r\n\t\tvar styleElement = document.createElement(\"style\");\r\n\t\tvar head = getHeadElement();\r\n\t\tstyleElement.type = \"text/css\";\r\n\t\thead.appendChild(styleElement);\r\n\t\treturn styleElement;\r\n\t}\r\n\t\r\n\tfunction createLinkElement() {\r\n\t\tvar linkElement = document.createElement(\"link\");\r\n\t\tvar head = getHeadElement();\r\n\t\tlinkElement.rel = \"stylesheet\";\r\n\t\thead.appendChild(linkElement);\r\n\t\treturn linkElement;\r\n\t}\r\n\t\r\n\tfunction addStyle(obj, options) {\r\n\t\tvar styleElement, update, remove;\r\n\t\r\n\t\tif (options.singleton) {\r\n\t\t\tvar styleIndex = singletonCounter++;\r\n\t\t\tstyleElement = singletonElement || (singletonElement = createStyleElement());\r\n\t\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t\t} else if(obj.sourceMap &&\r\n\t\t\ttypeof URL === \"function\" &&\r\n\t\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\t\ttypeof Blob === \"function\" &&\r\n\t\t\ttypeof btoa === \"function\") {\r\n\t\t\tstyleElement = createLinkElement();\r\n\t\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\t\t\tif(styleElement.href)\r\n\t\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tstyleElement = createStyleElement();\r\n\t\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\t\t};\r\n\t\t}\r\n\t\r\n\t\tupdate(obj);\r\n\t\r\n\t\treturn function updateStyle(newObj) {\r\n\t\t\tif(newObj) {\r\n\t\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\t\treturn;\r\n\t\t\t\tupdate(obj = newObj);\r\n\t\t\t} else {\r\n\t\t\t\tremove();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tvar replaceText = (function () {\r\n\t\tvar textStore = [];\r\n\t\r\n\t\treturn function (index, replacement) {\r\n\t\t\ttextStore[index] = replacement;\r\n\t\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t\t};\r\n\t})();\r\n\t\r\n\tfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\t\tvar css = remove ? \"\" : obj.css;\r\n\t\r\n\t\tif (styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t\t} else {\r\n\t\t\tvar cssNode = document.createTextNode(css);\r\n\t\t\tvar childNodes = styleElement.childNodes;\r\n\t\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\t\tif (childNodes.length) {\r\n\t\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t\t} else {\r\n\t\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction applyToTag(styleElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar media = obj.media;\r\n\t\tvar sourceMap = obj.sourceMap;\r\n\t\r\n\t\tif(media) {\r\n\t\t\tstyleElement.setAttribute(\"media\", media)\r\n\t\t}\r\n\t\r\n\t\tif(styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = css;\r\n\t\t} else {\r\n\t\t\twhile(styleElement.firstChild) {\r\n\t\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t\t}\r\n\t\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction updateLink(linkElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar media = obj.media;\r\n\t\tvar sourceMap = obj.sourceMap;\r\n\t\r\n\t\tif(sourceMap) {\r\n\t\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(JSON.stringify(sourceMap)) + \" */\";\r\n\t\t}\r\n\t\r\n\t\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\t\r\n\t\tvar oldSrc = linkElement.href;\r\n\t\r\n\t\tlinkElement.href = URL.createObjectURL(blob);\r\n\t\r\n\t\tif(oldSrc)\r\n\t\t\tURL.revokeObjectURL(oldSrc);\r\n\t}\r\n\n\n/***/ },\n/* 36 */,\n/* 37 */,\n/* 38 */,\n/* 39 */,\n/* 40 */,\n/* 41 */,\n/* 42 */,\n/* 43 */,\n/* 44 */\n/*!****************************************!*\\\n  !*** ./~/core-js/fn/array/iterator.js ***!\n  \\****************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(/*! ../../modules/es6.array.iterator */ 57);\n\tmodule.exports = __webpack_require__(/*! ../../modules/$.core */ 14).Array.values;\n\n/***/ },\n/* 45 */\n/*!**************************************!*\\\n  !*** ./~/core-js/fn/symbol/index.js ***!\n  \\**************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(/*! ../../modules/es6.symbol */ 58);\n\tmodule.exports = __webpack_require__(/*! ../../modules/$.core */ 14).Symbol;\n\n/***/ },\n/* 46 */\n/*!******************************************!*\\\n  !*** ./~/core-js/modules/$.an-object.js ***!\n  \\******************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar isObject = __webpack_require__(/*! ./$.is-object */ 29);\n\tmodule.exports = function(it){\n\t  if(!isObject(it))throw TypeError(it + ' is not an object!');\n\t  return it;\n\t};\n\n/***/ },\n/* 47 */\n/*!************************************!*\\\n  !*** ./~/core-js/modules/$.cof.js ***!\n  \\************************************/\n/***/ function(module, exports) {\n\n\tvar toString = {}.toString;\n\t\n\tmodule.exports = function(it){\n\t  return toString.call(it).slice(8, -1);\n\t};\n\n/***/ },\n/* 48 */\n/*!****************************************!*\\\n  !*** ./~/core-js/modules/$.defined.js ***!\n  \\****************************************/\n/***/ function(module, exports) {\n\n\t// 7.2.1 RequireObjectCoercible(argument)\n\tmodule.exports = function(it){\n\t  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n\t  return it;\n\t};\n\n/***/ },\n/* 49 */\n/*!******************************************!*\\\n  !*** ./~/core-js/modules/$.enum-keys.js ***!\n  \\******************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t// all enumerable object keys, includes symbols\n\tvar $ = __webpack_require__(/*! ./$ */ 6);\n\tmodule.exports = function(it){\n\t  var keys       = $.getKeys(it)\n\t    , getSymbols = $.getSymbols;\n\t  if(getSymbols){\n\t    var symbols = getSymbols(it)\n\t      , isEnum  = $.isEnum\n\t      , i       = 0\n\t      , key;\n\t    while(symbols.length > i)if(isEnum.call(it, key = symbols[i++]))keys.push(key);\n\t  }\n\t  return keys;\n\t};\n\n/***/ },\n/* 50 */\n/*!******************************************!*\\\n  !*** ./~/core-js/modules/$.get-names.js ***!\n  \\******************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\n\tvar toString  = {}.toString\n\t  , toIObject = __webpack_require__(/*! ./$.to-iobject */ 15)\n\t  , getNames  = __webpack_require__(/*! ./$ */ 6).getNames;\n\t\n\tvar windowNames = typeof window == 'object' && Object.getOwnPropertyNames\n\t  ? Object.getOwnPropertyNames(window) : [];\n\t\n\tvar getWindowNames = function(it){\n\t  try {\n\t    return getNames(it);\n\t  } catch(e){\n\t    return windowNames.slice();\n\t  }\n\t};\n\t\n\tmodule.exports.get = function getOwnPropertyNames(it){\n\t  if(windowNames && toString.call(it) == '[object Window]')return getWindowNames(it);\n\t  return getNames(toIObject(it));\n\t};\n\n/***/ },\n/* 51 */\n/*!****************************************!*\\\n  !*** ./~/core-js/modules/$.iobject.js ***!\n  \\****************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t// indexed object, fallback for non-array-like ES3 strings\n\tvar cof = __webpack_require__(/*! ./$.cof */ 47);\n\tmodule.exports = 0 in Object('z') ? Object : function(it){\n\t  return cof(it) == 'String' ? it.split('') : Object(it);\n\t};\n\n/***/ },\n/* 52 */\n/*!********************************************!*\\\n  !*** ./~/core-js/modules/$.iter-create.js ***!\n  \\********************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar $ = __webpack_require__(/*! ./$ */ 6)\n\t  , IteratorPrototype = {};\n\t\n\t// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\n\t__webpack_require__(/*! ./$.hide */ 9)(IteratorPrototype, __webpack_require__(/*! ./$.wks */ 12)('iterator'), function(){ return this; });\n\t\n\tmodule.exports = function(Constructor, NAME, next){\n\t  Constructor.prototype = $.create(IteratorPrototype, {next: __webpack_require__(/*! ./$.property-desc */ 17)(1,next)});\n\t  __webpack_require__(/*! ./$.tag */ 19)(Constructor, NAME + ' Iterator');\n\t};\n\n/***/ },\n/* 53 */\n/*!********************************************!*\\\n  !*** ./~/core-js/modules/$.iter-define.js ***!\n  \\********************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar LIBRARY         = __webpack_require__(/*! ./$.library */ 31)\n\t  , $def            = __webpack_require__(/*! ./$.def */ 27)\n\t  , $redef          = __webpack_require__(/*! ./$.redef */ 18)\n\t  , hide            = __webpack_require__(/*! ./$.hide */ 9)\n\t  , has             = __webpack_require__(/*! ./$.has */ 16)\n\t  , SYMBOL_ITERATOR = __webpack_require__(/*! ./$.wks */ 12)('iterator')\n\t  , Iterators       = __webpack_require__(/*! ./$.iterators */ 30)\n\t  , BUGGY           = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`\n\t  , FF_ITERATOR     = '@@iterator'\n\t  , KEYS            = 'keys'\n\t  , VALUES          = 'values';\n\tvar returnThis = function(){ return this; };\n\tmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCE){\n\t  __webpack_require__(/*! ./$.iter-create */ 52)(Constructor, NAME, next);\n\t  var createMethod = function(kind){\n\t    switch(kind){\n\t      case KEYS: return function keys(){ return new Constructor(this, kind); };\n\t      case VALUES: return function values(){ return new Constructor(this, kind); };\n\t    } return function entries(){ return new Constructor(this, kind); };\n\t  };\n\t  var TAG      = NAME + ' Iterator'\n\t    , proto    = Base.prototype\n\t    , _native  = proto[SYMBOL_ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]\n\t    , _default = _native || createMethod(DEFAULT)\n\t    , methods, key;\n\t  // Fix native\n\t  if(_native){\n\t    var IteratorPrototype = __webpack_require__(/*! ./$ */ 6).getProto(_default.call(new Base));\n\t    // Set @@toStringTag to native iterators\n\t    __webpack_require__(/*! ./$.tag */ 19)(IteratorPrototype, TAG, true);\n\t    // FF fix\n\t    if(!LIBRARY && has(proto, FF_ITERATOR))hide(IteratorPrototype, SYMBOL_ITERATOR, returnThis);\n\t  }\n\t  // Define iterator\n\t  if(!LIBRARY || FORCE)hide(proto, SYMBOL_ITERATOR, _default);\n\t  // Plug for library\n\t  Iterators[NAME] = _default;\n\t  Iterators[TAG]  = returnThis;\n\t  if(DEFAULT){\n\t    methods = {\n\t      keys:    IS_SET            ? _default : createMethod(KEYS),\n\t      values:  DEFAULT == VALUES ? _default : createMethod(VALUES),\n\t      entries: DEFAULT != VALUES ? _default : createMethod('entries')\n\t    };\n\t    if(FORCE)for(key in methods){\n\t      if(!(key in proto))$redef(proto, key, methods[key]);\n\t    } else $def($def.P + $def.F * BUGGY, NAME, methods);\n\t  }\n\t};\n\n/***/ },\n/* 54 */\n/*!******************************************!*\\\n  !*** ./~/core-js/modules/$.iter-step.js ***!\n  \\******************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = function(done, value){\n\t  return {value: value, done: !!done};\n\t};\n\n/***/ },\n/* 55 */\n/*!**************************************!*\\\n  !*** ./~/core-js/modules/$.keyof.js ***!\n  \\**************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar $         = __webpack_require__(/*! ./$ */ 6)\n\t  , toIObject = __webpack_require__(/*! ./$.to-iobject */ 15);\n\tmodule.exports = function(object, el){\n\t  var O      = toIObject(object)\n\t    , keys   = $.getKeys(O)\n\t    , length = keys.length\n\t    , index  = 0\n\t    , key;\n\t  while(length > index)if(O[key = keys[index++]] === el)return key;\n\t};\n\n/***/ },\n/* 56 */\n/*!****************************************!*\\\n  !*** ./~/core-js/modules/$.unscope.js ***!\n  \\****************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t// 22.1.3.31 Array.prototype[@@unscopables]\n\tvar UNSCOPABLES = __webpack_require__(/*! ./$.wks */ 12)('unscopables');\n\tif(!(UNSCOPABLES in []))__webpack_require__(/*! ./$.hide */ 9)(Array.prototype, UNSCOPABLES, {});\n\tmodule.exports = function(key){\n\t  [][UNSCOPABLES][key] = true;\n\t};\n\n/***/ },\n/* 57 */\n/*!*************************************************!*\\\n  !*** ./~/core-js/modules/es6.array.iterator.js ***!\n  \\*************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar setUnscope = __webpack_require__(/*! ./$.unscope */ 56)\n\t  , step       = __webpack_require__(/*! ./$.iter-step */ 54)\n\t  , Iterators  = __webpack_require__(/*! ./$.iterators */ 30)\n\t  , toIObject  = __webpack_require__(/*! ./$.to-iobject */ 15);\n\t\n\t// 22.1.3.4 Array.prototype.entries()\n\t// 22.1.3.13 Array.prototype.keys()\n\t// 22.1.3.29 Array.prototype.values()\n\t// 22.1.3.30 Array.prototype[@@iterator]()\n\t__webpack_require__(/*! ./$.iter-define */ 53)(Array, 'Array', function(iterated, kind){\n\t  this._t = toIObject(iterated); // target\n\t  this._i = 0;                   // next index\n\t  this._k = kind;                // kind\n\t// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n\t}, function(){\n\t  var O     = this._t\n\t    , kind  = this._k\n\t    , index = this._i++;\n\t  if(!O || index >= O.length){\n\t    this._t = undefined;\n\t    return step(1);\n\t  }\n\t  if(kind == 'keys'  )return step(0, index);\n\t  if(kind == 'values')return step(0, O[index]);\n\t  return step(0, [index, O[index]]);\n\t}, 'values');\n\t\n\t// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\n\tIterators.Arguments = Iterators.Array;\n\t\n\tsetUnscope('keys');\n\tsetUnscope('values');\n\tsetUnscope('entries');\n\n/***/ },\n/* 58 */\n/*!*****************************************!*\\\n  !*** ./~/core-js/modules/es6.symbol.js ***!\n  \\*****************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t// ECMAScript 6 symbols shim\n\tvar $              = __webpack_require__(/*! ./$ */ 6)\n\t  , global         = __webpack_require__(/*! ./$.global */ 11)\n\t  , has            = __webpack_require__(/*! ./$.has */ 16)\n\t  , SUPPORT_DESC   = __webpack_require__(/*! ./$.support-desc */ 33)\n\t  , $def           = __webpack_require__(/*! ./$.def */ 27)\n\t  , $redef         = __webpack_require__(/*! ./$.redef */ 18)\n\t  , shared         = __webpack_require__(/*! ./$.shared */ 32)\n\t  , setTag         = __webpack_require__(/*! ./$.tag */ 19)\n\t  , uid            = __webpack_require__(/*! ./$.uid */ 20)\n\t  , wks            = __webpack_require__(/*! ./$.wks */ 12)\n\t  , keyOf          = __webpack_require__(/*! ./$.keyof */ 55)\n\t  , $names         = __webpack_require__(/*! ./$.get-names */ 50)\n\t  , enumKeys       = __webpack_require__(/*! ./$.enum-keys */ 49)\n\t  , isObject       = __webpack_require__(/*! ./$.is-object */ 29)\n\t  , anObject       = __webpack_require__(/*! ./$.an-object */ 46)\n\t  , toIObject      = __webpack_require__(/*! ./$.to-iobject */ 15)\n\t  , createDesc     = __webpack_require__(/*! ./$.property-desc */ 17)\n\t  , getDesc        = $.getDesc\n\t  , setDesc        = $.setDesc\n\t  , _create        = $.create\n\t  , getNames       = $names.get\n\t  , $Symbol        = global.Symbol\n\t  , setter         = false\n\t  , HIDDEN         = wks('_hidden')\n\t  , isEnum         = $.isEnum\n\t  , SymbolRegistry = shared('symbol-registry')\n\t  , AllSymbols     = shared('symbols')\n\t  , useNative      = typeof $Symbol == 'function'\n\t  , ObjectProto    = Object.prototype;\n\t\n\tvar setSymbolDesc = SUPPORT_DESC ? function(){ // fallback for old Android\n\t  try {\n\t    return _create(setDesc({}, HIDDEN, {\n\t      get: function(){\n\t        return setDesc(this, HIDDEN, {value: false})[HIDDEN];\n\t      }\n\t    }))[HIDDEN] || setDesc;\n\t  } catch(e){\n\t    return function(it, key, D){\n\t      var protoDesc = getDesc(ObjectProto, key);\n\t      if(protoDesc)delete ObjectProto[key];\n\t      setDesc(it, key, D);\n\t      if(protoDesc && it !== ObjectProto)setDesc(ObjectProto, key, protoDesc);\n\t    };\n\t  }\n\t}() : setDesc;\n\t\n\tvar wrap = function(tag){\n\t  var sym = AllSymbols[tag] = _create($Symbol.prototype);\n\t  sym._k = tag;\n\t  SUPPORT_DESC && setter && setSymbolDesc(ObjectProto, tag, {\n\t    configurable: true,\n\t    set: function(value){\n\t      if(has(this, HIDDEN) && has(this[HIDDEN], tag))this[HIDDEN][tag] = false;\n\t      setSymbolDesc(this, tag, createDesc(1, value));\n\t    }\n\t  });\n\t  return sym;\n\t};\n\t\n\tvar $defineProperty = function defineProperty(it, key, D){\n\t  if(D && has(AllSymbols, key)){\n\t    if(!D.enumerable){\n\t      if(!has(it, HIDDEN))setDesc(it, HIDDEN, createDesc(1, {}));\n\t      it[HIDDEN][key] = true;\n\t    } else {\n\t      if(has(it, HIDDEN) && it[HIDDEN][key])it[HIDDEN][key] = false;\n\t      D = _create(D, {enumerable: createDesc(0, false)});\n\t    } return setSymbolDesc(it, key, D);\n\t  } return setDesc(it, key, D);\n\t};\n\tvar $defineProperties = function defineProperties(it, P){\n\t  anObject(it);\n\t  var keys = enumKeys(P = toIObject(P))\n\t    , i    = 0\n\t    , l = keys.length\n\t    , key;\n\t  while(l > i)$defineProperty(it, key = keys[i++], P[key]);\n\t  return it;\n\t};\n\tvar $create = function create(it, P){\n\t  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n\t};\n\tvar $propertyIsEnumerable = function propertyIsEnumerable(key){\n\t  var E = isEnum.call(this, key);\n\t  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key]\n\t    ? E : true;\n\t};\n\tvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key){\n\t  var D = getDesc(it = toIObject(it), key);\n\t  if(D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key]))D.enumerable = true;\n\t  return D;\n\t};\n\tvar $getOwnPropertyNames = function getOwnPropertyNames(it){\n\t  var names  = getNames(toIObject(it))\n\t    , result = []\n\t    , i      = 0\n\t    , key;\n\t  while(names.length > i)if(!has(AllSymbols, key = names[i++]) && key != HIDDEN)result.push(key);\n\t  return result;\n\t};\n\tvar $getOwnPropertySymbols = function getOwnPropertySymbols(it){\n\t  var names  = getNames(toIObject(it))\n\t    , result = []\n\t    , i      = 0\n\t    , key;\n\t  while(names.length > i)if(has(AllSymbols, key = names[i++]))result.push(AllSymbols[key]);\n\t  return result;\n\t};\n\t\n\t// 19.4.1.1 Symbol([description])\n\tif(!useNative){\n\t  $Symbol = function Symbol(){\n\t    if(this instanceof $Symbol)throw TypeError('Symbol is not a constructor');\n\t    return wrap(uid(arguments[0]));\n\t  };\n\t  $redef($Symbol.prototype, 'toString', function toString(){\n\t    return this._k;\n\t  });\n\t\n\t  $.create     = $create;\n\t  $.isEnum     = $propertyIsEnumerable;\n\t  $.getDesc    = $getOwnPropertyDescriptor;\n\t  $.setDesc    = $defineProperty;\n\t  $.setDescs   = $defineProperties;\n\t  $.getNames   = $names.get = $getOwnPropertyNames;\n\t  $.getSymbols = $getOwnPropertySymbols;\n\t\n\t  if(SUPPORT_DESC && !__webpack_require__(/*! ./$.library */ 31)){\n\t    $redef(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n\t  }\n\t}\n\t\n\t// MS Edge converts symbol values to JSON as {}\n\t// WebKit converts symbol values in objects to JSON as null\n\tif(!useNative || __webpack_require__(/*! ./$.fails */ 28)(function(){\n\t  return JSON.stringify([{a: $Symbol()}, [$Symbol()]]) != '[{},[null]]';\n\t}))$redef($Symbol.prototype, 'toJSON', function toJSON(){\n\t  if(useNative && isObject(this))return this;\n\t});\n\t\n\tvar symbolStatics = {\n\t  // 19.4.2.1 Symbol.for(key)\n\t  'for': function(key){\n\t    return has(SymbolRegistry, key += '')\n\t      ? SymbolRegistry[key]\n\t      : SymbolRegistry[key] = $Symbol(key);\n\t  },\n\t  // 19.4.2.5 Symbol.keyFor(sym)\n\t  keyFor: function keyFor(key){\n\t    return keyOf(SymbolRegistry, key);\n\t  },\n\t  useSetter: function(){ setter = true; },\n\t  useSimple: function(){ setter = false; }\n\t};\n\t// 19.4.2.2 Symbol.hasInstance\n\t// 19.4.2.3 Symbol.isConcatSpreadable\n\t// 19.4.2.4 Symbol.iterator\n\t// 19.4.2.6 Symbol.match\n\t// 19.4.2.8 Symbol.replace\n\t// 19.4.2.9 Symbol.search\n\t// 19.4.2.10 Symbol.species\n\t// 19.4.2.11 Symbol.split\n\t// 19.4.2.12 Symbol.toPrimitive\n\t// 19.4.2.13 Symbol.toStringTag\n\t// 19.4.2.14 Symbol.unscopables\n\t$.each.call((\n\t    'hasInstance,isConcatSpreadable,iterator,match,replace,search,' +\n\t    'species,split,toPrimitive,toStringTag,unscopables'\n\t  ).split(','), function(it){\n\t    var sym = wks(it);\n\t    symbolStatics[it] = useNative ? sym : wrap(sym);\n\t  }\n\t);\n\t\n\tsetter = true;\n\t\n\t$def($def.G + $def.W, {Symbol: $Symbol});\n\t\n\t$def($def.S, 'Symbol', symbolStatics);\n\t\n\t$def($def.S + $def.F * !useNative, 'Object', {\n\t  // 19.1.2.2 Object.create(O [, Properties])\n\t  create: $create,\n\t  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n\t  defineProperty: $defineProperty,\n\t  // 19.1.2.3 Object.defineProperties(O, Properties)\n\t  defineProperties: $defineProperties,\n\t  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n\t  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n\t  // 19.1.2.7 Object.getOwnPropertyNames(O)\n\t  getOwnPropertyNames: $getOwnPropertyNames,\n\t  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n\t  getOwnPropertySymbols: $getOwnPropertySymbols\n\t});\n\t\n\t// 19.4.3.5 Symbol.prototype[@@toStringTag]\n\tsetTag($Symbol, 'Symbol');\n\t// 20.2.1.9 Math[@@toStringTag]\n\tsetTag(Math, 'Math', true);\n\t// 24.3.3 JSON[@@toStringTag]\n\tsetTag(global.JSON, 'JSON', true);\n\n/***/ },\n/* 59 */\n/*!***************************************************!*\\\n  !*** ./~/css-loader!./~/leaflet/dist/leaflet.css ***!\n  \\***************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(/*! ./../../css-loader/lib/css-base.js */ 34)();\n\texports.push([module.id, \".leaflet-image-layer,.leaflet-layer,.leaflet-map-pane,.leaflet-marker-icon,.leaflet-marker-pane,.leaflet-marker-shadow,.leaflet-overlay-pane,.leaflet-overlay-pane svg,.leaflet-popup-pane,.leaflet-shadow-pane,.leaflet-tile,.leaflet-tile-container,.leaflet-tile-pane,.leaflet-zoom-box{position:absolute;left:0;top:0}.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none}.leaflet-marker-icon,.leaflet-marker-shadow{display:block}.leaflet-container img{max-width:none!important}.leaflet-container img.leaflet-image-layer{max-width:15000px!important}.leaflet-tile{filter:inherit;visibility:hidden}.leaflet-tile-loaded{visibility:inherit}.leaflet-zoom-box{width:0;height:0}.leaflet-overlay-pane svg{-moz-user-select:none}.leaflet-tile-pane{z-index:2}.leaflet-objects-pane{z-index:3}.leaflet-overlay-pane{z-index:4}.leaflet-shadow-pane{z-index:5}.leaflet-marker-pane{z-index:6}.leaflet-popup-pane{z-index:7}.leaflet-vml-shape{width:1px;height:1px}.lvml{behavior:url(#default#VML);display:inline-block;position:absolute}.leaflet-control{position:relative;z-index:7;pointer-events:auto;float:left;clear:both}.leaflet-bottom,.leaflet-top{position:absolute;z-index:1000;pointer-events:none}.leaflet-top{top:0}.leaflet-right{right:0}.leaflet-bottom{bottom:0}.leaflet-left{left:0}.leaflet-right .leaflet-control{float:right;margin-right:10px}.leaflet-top .leaflet-control{margin-top:10px}.leaflet-bottom .leaflet-control{margin-bottom:10px}.leaflet-left .leaflet-control{margin-left:10px}.leaflet-fade-anim .leaflet-popup,.leaflet-fade-anim .leaflet-tile{opacity:0;-webkit-transition:opacity .2s linear;-moz-transition:opacity .2s linear;-o-transition:opacity .2s linear;transition:opacity .2s linear}.leaflet-fade-anim .leaflet-map-pane .leaflet-popup,.leaflet-fade-anim .leaflet-tile-loaded{opacity:1}.leaflet-zoom-anim .leaflet-zoom-animated{-webkit-transition:-webkit-transform .25s cubic-bezier(0,0,.25,1);-moz-transition:-moz-transform .25s cubic-bezier(0,0,.25,1);-o-transition:-o-transform .25s cubic-bezier(0,0,.25,1);transition:transform .25s cubic-bezier(0,0,.25,1)}.leaflet-pan-anim .leaflet-tile,.leaflet-touching .leaflet-zoom-animated,.leaflet-zoom-anim .leaflet-tile{-webkit-transition:none;-moz-transition:none;-o-transition:none;transition:none}.leaflet-zoom-anim .leaflet-zoom-hide{visibility:hidden}.leaflet-clickable{cursor:pointer}.leaflet-container{overflow:hidden;-ms-touch-action:none;cursor:-webkit-grab;cursor:-moz-grab;background:#ddd;outline:0;font:9pt/1.5 \\\"Helvetica Neue\\\",Arial,Helvetica,sans-serif}.leaflet-control,.leaflet-popup-pane{cursor:auto}.leaflet-dragging .leaflet-clickable,.leaflet-dragging .leaflet-container{cursor:move;cursor:-webkit-grabbing;cursor:-moz-grabbing}.leaflet-container a{color:#0078A8}.leaflet-container a.leaflet-active{outline:orange solid 2px}.leaflet-zoom-box{border:2px dotted #38f;background:rgba(255,255,255,.5)}.leaflet-bar{box-shadow:0 1px 5px rgba(0,0,0,.65);border-radius:4px}.leaflet-bar a,.leaflet-bar a:hover{background-color:#fff;border-bottom:1px solid #ccc;width:26px;height:26px;line-height:26px;display:block;text-align:center;text-decoration:none;color:#000}.leaflet-bar a,.leaflet-control-layers-toggle{background-position:50% 50%;background-repeat:no-repeat;display:block}.leaflet-bar a:hover{background-color:#f4f4f4}.leaflet-bar a:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.leaflet-bar a:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-bottom:none}.leaflet-bar a.leaflet-disabled{cursor:default;background-color:#f4f4f4;color:#bbb}.leaflet-touch .leaflet-bar a{width:30px;height:30px;line-height:30px}.leaflet-control-zoom-in,.leaflet-control-zoom-out{font:700 18px 'Lucida Console',Monaco,monospace;text-indent:1px}.leaflet-control-zoom-out{font-size:20px}.leaflet-touch .leaflet-control-zoom-in{font-size:22px}.leaflet-touch .leaflet-control-zoom-out{font-size:24px}.leaflet-control-layers{box-shadow:0 1px 5px rgba(0,0,0,.4);background:#fff;border-radius:5px}.leaflet-control-layers-toggle{width:36px;height:36px}.leaflet-retina .leaflet-control-layers-toggle{background-size:26px 26px}.leaflet-touch .leaflet-control-layers-toggle{width:44px;height:44px}.leaflet-control-layers .leaflet-control-layers-list,.leaflet-control-layers-expanded .leaflet-control-layers-toggle{display:none}.leaflet-control-layers-expanded .leaflet-control-layers-list{display:block;position:relative}.leaflet-control-layers-expanded{padding:6px 10px 6px 6px;color:#333;background:#fff}.leaflet-control-layers-selector{margin-top:2px;position:relative;top:1px}.leaflet-control-layers label{display:block}.leaflet-control-layers-separator{height:0;border-top:1px solid #ddd;margin:5px -10px 5px -6px}.leaflet-container .leaflet-control-attribution{background:#fff;background:rgba(255,255,255,.7);margin:0}.leaflet-control-attribution,.leaflet-control-scale-line{padding:0 5px;color:#333}.leaflet-control-attribution a{text-decoration:none}.leaflet-control-attribution a:hover{text-decoration:underline}.leaflet-container .leaflet-control-attribution,.leaflet-container .leaflet-control-scale{font-size:11px}.leaflet-left .leaflet-control-scale{margin-left:5px}.leaflet-bottom .leaflet-control-scale{margin-bottom:5px}.leaflet-control-scale-line{border:2px solid #777;border-top:none;line-height:1.1;padding:2px 5px 1px;font-size:11px;white-space:nowrap;overflow:hidden;-moz-box-sizing:content-box;box-sizing:content-box;background:#fff;background:rgba(255,255,255,.5)}.leaflet-control-scale-line:not(:first-child){border-top:2px solid #777;border-bottom:none;margin-top:-2px}.leaflet-control-scale-line:not(:first-child):not(:last-child){border-bottom:2px solid #777}.leaflet-touch .leaflet-bar,.leaflet-touch .leaflet-control-attribution,.leaflet-touch .leaflet-control-layers{box-shadow:none}.leaflet-touch .leaflet-bar,.leaflet-touch .leaflet-control-layers{border:2px solid rgba(0,0,0,.2);background-clip:padding-box}.leaflet-popup{position:absolute;text-align:center}.leaflet-popup-content-wrapper{padding:1px;text-align:left;border-radius:9pt}.leaflet-popup-content{margin:13px 19px;line-height:1.4}.leaflet-popup-content p{margin:18px 0}.leaflet-popup-tip-container{margin:0 auto;width:40px;height:20px;position:relative;overflow:hidden}.leaflet-popup-tip{width:17px;height:17px;padding:1px;margin:-10px auto 0;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg)}.leaflet-popup-content-wrapper,.leaflet-popup-tip{background:#fff;box-shadow:0 3px 14px rgba(0,0,0,.4)}.leaflet-container a.leaflet-popup-close-button{position:absolute;top:0;right:0;padding:4px 4px 0 0;text-align:center;width:18px;height:14px;font:1pc/14px Tahoma,Verdana,sans-serif;color:#c3c3c3;text-decoration:none;font-weight:700;background:0 0}.leaflet-container a.leaflet-popup-close-button:hover{color:#999}.leaflet-popup-scrolled{overflow:auto;border-bottom:1px solid #ddd;border-top:1px solid #ddd}.leaflet-oldie .leaflet-popup-content-wrapper{zoom:1}.leaflet-oldie .leaflet-popup-tip{width:24px;margin:0 auto;-ms-filter:\\\"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)\\\";filter:progid:DXImageTransform.Microsoft.Matrix(M11=.70710678, M12=.70710678, M21=-.70710678, M22=.70710678)}.leaflet-oldie .leaflet-popup-tip-container{margin-top:-1px}.leaflet-oldie .leaflet-control-layers,.leaflet-oldie .leaflet-control-zoom,.leaflet-oldie .leaflet-popup-content-wrapper,.leaflet-oldie .leaflet-popup-tip{border:1px solid #999}.leaflet-div-icon{background:#fff;border:1px solid #666}\", \"\"]);\n\n/***/ },\n/* 60 */,\n/* 61 */,\n/* 62 */,\n/* 63 */,\n/* 64 */,\n/* 65 */\n/*!***************************************************************!*\\\n  !*** ./~/leaflet.markercluster/dist/leaflet.markercluster.js ***!\n  \\***************************************************************/\n/***/ function(module, exports) {\n\n\t/*\r\n\t Leaflet.markercluster, Provides Beautiful Animated Marker Clustering functionality for Leaflet, a JS library for interactive maps.\r\n\t https://github.com/Leaflet/Leaflet.markercluster\r\n\t (c) 2012-2013, Dave Leaver, smartrak\r\n\t*/\r\n\t!function(t,e){L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,polygonOptions:{}},initialize:function(t){L.Util.setOptions(this,t),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.on(L.FeatureGroup.EVENTS,this._propagateEvent,this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.on(L.FeatureGroup.EVENTS,this._propagateEvent,this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[]},addLayer:function(t){if(t instanceof L.LayerGroup){var e=[];for(var i in t._layers)e.push(t._layers[i]);return this.addLayers(e)}if(!t.getLatLng)return this._nonPointGroup.addLayer(t),this;if(!this._map)return this._needsClustering.push(t),this;if(this.hasLayer(t))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(t,this._maxZoom);var n=t,s=this._map.getZoom();if(t.__parent)for(;n.__parent._zoom>=s;)n=n.__parent;return this._currentShownBounds.contains(n.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(t,n):this._animationAddLayerNonAnimated(t,n)),this},removeLayer:function(t){if(t instanceof L.LayerGroup){var e=[];for(var i in t._layers)e.push(t._layers[i]);return this.removeLayers(e)}return t.getLatLng?this._map?t.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(t)),this._removeLayer(t,!0),this._featureGroup.hasLayer(t)&&(this._featureGroup.removeLayer(t),t.setOpacity&&t.setOpacity(1)),this):this:(!this._arraySplice(this._needsClustering,t)&&this.hasLayer(t)&&this._needsRemoving.push(t),this):(this._nonPointGroup.removeLayer(t),this)},addLayers:function(t){var e,i,n,s=this._map,r=this._featureGroup,o=this._nonPointGroup;for(e=0,i=t.length;i>e;e++)if(n=t[e],n.getLatLng){if(!this.hasLayer(n))if(s){if(this._addLayer(n,this._maxZoom),n.__parent&&2===n.__parent.getChildCount()){var a=n.__parent.getAllChildMarkers(),h=a[0]===n?a[1]:a[0];r.removeLayer(h)}}else this._needsClustering.push(n)}else o.addLayer(n);return s&&(r.eachLayer(function(t){t instanceof L.MarkerCluster&&t._iconNeedsUpdate&&t._updateIcon()}),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)),this},removeLayers:function(t){var e,i,n,s=this._featureGroup,r=this._nonPointGroup;if(!this._map){for(e=0,i=t.length;i>e;e++)n=t[e],this._arraySplice(this._needsClustering,n),r.removeLayer(n);return this}for(e=0,i=t.length;i>e;e++)n=t[e],n.__parent?(this._removeLayer(n,!0,!0),s.hasLayer(n)&&(s.removeLayer(n),n.setOpacity&&n.setOpacity(1))):r.removeLayer(n);return this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),s.eachLayer(function(t){t instanceof L.MarkerCluster&&t._updateIcon()}),this},clearLayers:function(){return this._map||(this._needsClustering=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(t){delete t.__parent}),this._map&&this._generateInitialClusters(),this},getBounds:function(){var t=new L.LatLngBounds;if(this._topClusterLevel)t.extend(this._topClusterLevel._bounds);else for(var e=this._needsClustering.length-1;e>=0;e--)t.extend(this._needsClustering[e].getLatLng());return t.extend(this._nonPointGroup.getBounds()),t},eachLayer:function(t,e){var i,n=this._needsClustering.slice();for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(n),i=n.length-1;i>=0;i--)t.call(e,n[i]);this._nonPointGroup.eachLayer(t,e)},getLayers:function(){var t=[];return this.eachLayer(function(e){t.push(e)}),t},getLayer:function(t){var e=null;return this.eachLayer(function(i){L.stamp(i)===t&&(e=i)}),e},hasLayer:function(t){if(!t)return!1;var e,i=this._needsClustering;for(e=i.length-1;e>=0;e--)if(i[e]===t)return!0;for(i=this._needsRemoving,e=i.length-1;e>=0;e--)if(i[e]===t)return!1;return!(!t.__parent||t.__parent._group!==this)||this._nonPointGroup.hasLayer(t)},zoomToShowLayer:function(t,e){var i=function(){if((t._icon||t.__parent._icon)&&!this._inZoomAnimation)if(this._map.off(\"moveend\",i,this),this.off(\"animationend\",i,this),t._icon)e();else if(t.__parent._icon){var n=function(){this.off(\"spiderfied\",n,this),e()};this.on(\"spiderfied\",n,this),t.__parent.spiderfy()}};t._icon&&this._map.getBounds().contains(t.getLatLng())?e():t.__parent._zoom<this._map.getZoom()?(this._map.on(\"moveend\",i,this),this._map.panTo(t.getLatLng())):(this._map.on(\"moveend\",i,this),this.on(\"animationend\",i,this),this._map.setView(t.getLatLng(),t.__parent._zoom+1),t.__parent.zoomToBounds())},onAdd:function(t){this._map=t;var e,i,n;if(!isFinite(this._map.getMaxZoom()))throw\"Map has no maxZoom specified\";for(this._featureGroup.onAdd(t),this._nonPointGroup.onAdd(t),this._gridClusters||this._generateInitialClusters(),e=0,i=this._needsRemoving.length;i>e;e++)n=this._needsRemoving[e],this._removeLayer(n,!0);for(this._needsRemoving=[],e=0,i=this._needsClustering.length;i>e;e++)n=this._needsClustering[e],n.getLatLng?n.__parent||this._addLayer(n,this._maxZoom):this._featureGroup.addLayer(n);this._needsClustering=[],this._map.on(\"zoomend\",this._zoomEnd,this),this._map.on(\"moveend\",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),this._zoom=this._map.getZoom(),this._currentShownBounds=this._getExpandedVisibleBounds(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)},onRemove:function(t){t.off(\"zoomend\",this._zoomEnd,this),t.off(\"moveend\",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(\" leaflet-cluster-anim\",\"\"),this._spiderfierOnRemove&&this._spiderfierOnRemove(),this._hideCoverage(),this._featureGroup.onRemove(t),this._nonPointGroup.onRemove(t),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(t){for(var e=t;e&&!e._icon;)e=e.__parent;return e||null},_arraySplice:function(t,e){for(var i=t.length-1;i>=0;i--)if(t[i]===e)return t.splice(i,1),!0},_removeLayer:function(t,e,i){var n=this._gridClusters,s=this._gridUnclustered,r=this._featureGroup,o=this._map;if(e)for(var a=this._maxZoom;a>=0&&s[a].removeObject(t,o.project(t.getLatLng(),a));a--);var h,_=t.__parent,u=_._markers;for(this._arraySplice(u,t);_&&(_._childCount--,!(_._zoom<0));)e&&_._childCount<=1?(h=_._markers[0]===t?_._markers[1]:_._markers[0],n[_._zoom].removeObject(_,o.project(_._cLatLng,_._zoom)),s[_._zoom].addObject(h,o.project(h.getLatLng(),_._zoom)),this._arraySplice(_.__parent._childClusters,_),_.__parent._markers.push(h),h.__parent=_.__parent,_._icon&&(r.removeLayer(_),i||r.addLayer(h))):(_._recalculateBounds(),i&&_._icon||_._updateIcon()),_=_.__parent;delete t.__parent},_isOrIsParent:function(t,e){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},_propagateEvent:function(t){if(t.layer instanceof L.MarkerCluster){if(t.originalEvent&&this._isOrIsParent(t.layer._icon,t.originalEvent.relatedTarget))return;t.type=\"cluster\"+t.type}this.fire(t.type,t)},_defaultIconCreateFunction:function(t){var e=t.getChildCount(),i=\" marker-cluster-\";return i+=10>e?\"small\":100>e?\"medium\":\"large\",new L.DivIcon({html:\"<div><span>\"+e+\"</span></div>\",className:\"marker-cluster\"+i,iconSize:new L.Point(40,40)})},_bindEvents:function(){var t=this._map,e=this.options.spiderfyOnMaxZoom,i=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick;(e||n)&&this.on(\"clusterclick\",this._zoomOrSpiderfy,this),i&&(this.on(\"clustermouseover\",this._showCoverage,this),this.on(\"clustermouseout\",this._hideCoverage,this),t.on(\"zoomend\",this._hideCoverage,this))},_zoomOrSpiderfy:function(t){var e=this._map;e.getMaxZoom()===e.getZoom()?this.options.spiderfyOnMaxZoom&&t.layer.spiderfy():this.options.zoomToBoundsOnClick&&t.layer.zoomToBounds(),t.originalEvent&&13===t.originalEvent.keyCode&&e._container.focus()},_showCoverage:function(t){var e=this._map;this._inZoomAnimation||(this._shownPolygon&&e.removeLayer(this._shownPolygon),t.layer.getChildCount()>2&&t.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(t.layer.getConvexHull(),this.options.polygonOptions),e.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var t=this.options.spiderfyOnMaxZoom,e=this.options.showCoverageOnHover,i=this.options.zoomToBoundsOnClick,n=this._map;(t||i)&&this.off(\"clusterclick\",this._zoomOrSpiderfy,this),e&&(this.off(\"clustermouseover\",this._showCoverage,this),this.off(\"clustermouseout\",this._hideCoverage,this),n.off(\"zoomend\",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=this._map._zoom,this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var t=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._map._zoom,t),this._currentShownBounds=t}},_generateInitialClusters:function(){var t=this._map.getMaxZoom(),e=this.options.maxClusterRadius;this.options.disableClusteringAtZoom&&(t=this.options.disableClusteringAtZoom-1),this._maxZoom=t,this._gridClusters={},this._gridUnclustered={};for(var i=t;i>=0;i--)this._gridClusters[i]=new L.DistanceGrid(e),this._gridUnclustered[i]=new L.DistanceGrid(e);this._topClusterLevel=new L.MarkerCluster(this,-1)},_addLayer:function(t,e){var i,n,s=this._gridClusters,r=this._gridUnclustered;for(this.options.singleMarkerMode&&(t.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[t]}}));e>=0;e--){i=this._map.project(t.getLatLng(),e);var o=s[e].getNearObject(i);if(o)return o._addChild(t),t.__parent=o,void 0;if(o=r[e].getNearObject(i)){var a=o.__parent;a&&this._removeLayer(o,!1);var h=new L.MarkerCluster(this,e,o,t);s[e].addObject(h,this._map.project(h._cLatLng,e)),o.__parent=h,t.__parent=h;var _=h;for(n=e-1;n>a._zoom;n--)_=new L.MarkerCluster(this,n,_),s[n].addObject(_,this._map.project(o.getLatLng(),n));for(a._addChild(_),n=e;n>=0&&r[n].removeObject(o,this._map.project(o.getLatLng(),n));n--);return}r[e].addObject(t,i)}this._topClusterLevel._addChild(t),t.__parent=this._topClusterLevel},_enqueue:function(t){this._queue.push(t),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var t=0;t<this._queue.length;t++)this._queue[t].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){this._processQueue(),this._zoom<this._map._zoom&&this._currentShownBounds.contains(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,this._map._zoom)):this._zoom>this._map._zoom?(this._animationStart(),this._animationZoomOut(this._zoom,this._map._zoom)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(!this.options.removeOutsideVisibleBounds)return this.getBounds();var t=this._map,e=t.getBounds(),i=e._southWest,n=e._northEast,s=L.Browser.mobile?0:Math.abs(i.lat-n.lat),r=L.Browser.mobile?0:Math.abs(i.lng-n.lng);return new L.LatLngBounds(new L.LatLng(i.lat-s,i.lng-r,!0),new L.LatLng(n.lat+s,n.lng+r,!0))},_animationAddLayerNonAnimated:function(t,e){if(e===t)this._featureGroup.addLayer(t);else if(2===e._childCount){e._addToMap();var i=e.getAllChildMarkers();this._featureGroup.removeLayer(i[0]),this._featureGroup.removeLayer(i[1])}else e._updateIcon()}}),L.MarkerClusterGroup.include(L.DomUtil.TRANSITION?{_animationStart:function(){this._map._mapPane.className+=\" leaflet-cluster-anim\",this._inZoomAnimation++},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(\" leaflet-cluster-anim\",\"\")),this._inZoomAnimation--,this.fire(\"animationend\")},_animationZoomIn:function(t,e){var i,n=this._getExpandedVisibleBounds(),s=this._featureGroup;this._topClusterLevel._recursively(n,t,0,function(r){var o,a=r._latlng,h=r._markers;for(n.contains(a)||(a=null),r._isSingleParent()&&t+1===e?(s.removeLayer(r),r._recursivelyAddChildrenToMap(null,e,n)):(r.setOpacity(0),r._recursivelyAddChildrenToMap(a,e,n)),i=h.length-1;i>=0;i--)o=h[i],n.contains(o._latlng)||s.removeLayer(o)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(n,e),s.eachLayer(function(t){t instanceof L.MarkerCluster||!t._icon||t.setOpacity(1)}),this._topClusterLevel._recursively(n,t,e,function(t){t._recursivelyRestoreChildPositions(e)}),this._enqueue(function(){this._topClusterLevel._recursively(n,t,0,function(t){s.removeLayer(t),t.setOpacity(1)}),this._animationEnd()})},_animationZoomOut:function(t,e){this._animationZoomOutSingle(this._topClusterLevel,t-1,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,t,this._getExpandedVisibleBounds())},_animationZoomOutSingle:function(t,e,i){var n=this._getExpandedVisibleBounds();t._recursivelyAnimateChildrenInAndAddSelfToMap(n,e+1,i);var s=this;this._forceLayout(),t._recursivelyBecomeVisible(n,i),this._enqueue(function(){if(1===t._childCount){var r=t._markers[0];r.setLatLng(r.getLatLng()),r.setOpacity(1)}else t._recursively(n,i,0,function(t){t._recursivelyRemoveChildrenFromMap(n,e+1)});s._animationEnd()})},_animationAddLayer:function(t,e){var i=this,n=this._featureGroup;n.addLayer(t),e!==t&&(e._childCount>2?(e._updateIcon(),this._forceLayout(),this._animationStart(),t._setPos(this._map.latLngToLayerPoint(e.getLatLng())),t.setOpacity(0),this._enqueue(function(){n.removeLayer(t),t.setOpacity(1),i._animationEnd()})):(this._forceLayout(),i._animationStart(),i._animationZoomOutSingle(e,this._map.getMaxZoom(),this._map.getZoom())))},_forceLayout:function(){L.Util.falseFn(e.body.offsetWidth)}}:{_animationStart:function(){},_animationZoomIn:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds())},_animationZoomOut:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds())},_animationAddLayer:function(t,e){this._animationAddLayerNonAnimated(t,e)}}),L.markerClusterGroup=function(t){return new L.MarkerClusterGroup(t)},L.MarkerCluster=L.Marker.extend({initialize:function(t,e,i,n){L.Marker.prototype.initialize.call(this,i?i._cLatLng||i.getLatLng():new L.LatLng(0,0),{icon:this}),this._group=t,this._zoom=e,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._bounds=new L.LatLngBounds,i&&this._addChild(i),n&&this._addChild(n)},getAllChildMarkers:function(t){t=t||[];for(var e=this._childClusters.length-1;e>=0;e--)this._childClusters[e].getAllChildMarkers(t);for(var i=this._markers.length-1;i>=0;i--)t.push(this._markers[i]);return t},getChildCount:function(){return this._childCount},zoomToBounds:function(){for(var t,e=this._childClusters.slice(),i=this._group._map,n=i.getBoundsZoom(this._bounds),s=this._zoom+1,r=i.getZoom();e.length>0&&n>s;){s++;var o=[];for(t=0;t<e.length;t++)o=o.concat(e[t]._childClusters);e=o}n>s?this._group._map.setView(this._latlng,s):r>=n?this._group._map.setView(this._latlng,r+1):this._group._map.fitBounds(this._bounds)},getBounds:function(){var t=new L.LatLngBounds;return t.extend(this._bounds),t},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(t,e){this._iconNeedsUpdate=!0,this._expandBounds(t),t instanceof L.MarkerCluster?(e||(this._childClusters.push(t),t.__parent=this),this._childCount+=t._childCount):(e||this._markers.push(t),this._childCount++),this.__parent&&this.__parent._addChild(t,!0)},_expandBounds:function(t){var e,i=t._wLatLng||t._latlng;t instanceof L.MarkerCluster?(this._bounds.extend(t._bounds),e=t._childCount):(this._bounds.extend(i),e=1),this._cLatLng||(this._cLatLng=t._cLatLng||i);var n=this._childCount+e;this._wLatLng?(this._wLatLng.lat=(i.lat*e+this._wLatLng.lat*this._childCount)/n,this._wLatLng.lng=(i.lng*e+this._wLatLng.lng*this._childCount)/n):this._latlng=this._wLatLng=new L.LatLng(i.lat,i.lng)},_addToMap:function(t){t&&(this._backupLatlng=this._latlng,this.setLatLng(t)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(t,e,i){this._recursively(t,0,i-1,function(t){var i,n,s=t._markers;for(i=s.length-1;i>=0;i--)n=s[i],n._icon&&(n._setPos(e),n.setOpacity(0))},function(t){var i,n,s=t._childClusters;for(i=s.length-1;i>=0;i--)n=s[i],n._icon&&(n._setPos(e),n.setOpacity(0))})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(t,e,i){this._recursively(t,i,0,function(n){n._recursivelyAnimateChildrenIn(t,n._group._map.latLngToLayerPoint(n.getLatLng()).round(),e),n._isSingleParent()&&e-1===i?(n.setOpacity(1),n._recursivelyRemoveChildrenFromMap(t,e)):n.setOpacity(0),n._addToMap()})},_recursivelyBecomeVisible:function(t,e){this._recursively(t,0,e,null,function(t){t.setOpacity(1)})},_recursivelyAddChildrenToMap:function(t,e,i){this._recursively(i,-1,e,function(n){if(e!==n._zoom)for(var s=n._markers.length-1;s>=0;s--){var r=n._markers[s];i.contains(r._latlng)&&(t&&(r._backupLatlng=r.getLatLng(),r.setLatLng(t),r.setOpacity&&r.setOpacity(0)),n._group._featureGroup.addLayer(r))}},function(e){e._addToMap(t)})},_recursivelyRestoreChildPositions:function(t){for(var e=this._markers.length-1;e>=0;e--){var i=this._markers[e];i._backupLatlng&&(i.setLatLng(i._backupLatlng),delete i._backupLatlng)}if(t-1===this._zoom)for(var n=this._childClusters.length-1;n>=0;n--)this._childClusters[n]._restorePosition();else for(var s=this._childClusters.length-1;s>=0;s--)this._childClusters[s]._recursivelyRestoreChildPositions(t)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(t,e,i){var n,s;this._recursively(t,-1,e-1,function(t){for(s=t._markers.length-1;s>=0;s--)n=t._markers[s],i&&i.contains(n._latlng)||(t._group._featureGroup.removeLayer(n),n.setOpacity&&n.setOpacity(1))},function(t){for(s=t._childClusters.length-1;s>=0;s--)n=t._childClusters[s],i&&i.contains(n._latlng)||(t._group._featureGroup.removeLayer(n),n.setOpacity&&n.setOpacity(1))})},_recursively:function(t,e,i,n,s){var r,o,a=this._childClusters,h=this._zoom;if(e>h)for(r=a.length-1;r>=0;r--)o=a[r],t.intersects(o._bounds)&&o._recursively(t,e,i,n,s);else if(n&&n(this),s&&this._zoom===i&&s(this),i>h)for(r=a.length-1;r>=0;r--)o=a[r],t.intersects(o._bounds)&&o._recursively(t,e,i,n,s)},_recalculateBounds:function(){var t,e=this._markers,i=this._childClusters;for(this._bounds=new L.LatLngBounds,delete this._wLatLng,t=e.length-1;t>=0;t--)this._expandBounds(e[t]);for(t=i.length-1;t>=0;t--)this._expandBounds(i[t])},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}}),L.DistanceGrid=function(t){this._cellSize=t,this._sqCellSize=t*t,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(t,e){var i=this._getCoord(e.x),n=this._getCoord(e.y),s=this._grid,r=s[n]=s[n]||{},o=r[i]=r[i]||[],a=L.Util.stamp(t);this._objectPoint[a]=e,o.push(t)},updateObject:function(t,e){this.removeObject(t),this.addObject(t,e)},removeObject:function(t,e){var i,n,s=this._getCoord(e.x),r=this._getCoord(e.y),o=this._grid,a=o[r]=o[r]||{},h=a[s]=a[s]||[];for(delete this._objectPoint[L.Util.stamp(t)],i=0,n=h.length;n>i;i++)if(h[i]===t)return h.splice(i,1),1===n&&delete a[s],!0},eachObject:function(t,e){var i,n,s,r,o,a,h,_=this._grid;for(i in _){o=_[i];for(n in o)for(a=o[n],s=0,r=a.length;r>s;s++)h=t.call(e,a[s]),h&&(s--,r--)}},getNearObject:function(t){var e,i,n,s,r,o,a,h,_=this._getCoord(t.x),u=this._getCoord(t.y),l=this._objectPoint,d=this._sqCellSize,p=null;for(e=u-1;u+1>=e;e++)if(s=this._grid[e])for(i=_-1;_+1>=i;i++)if(r=s[i])for(n=0,o=r.length;o>n;n++)a=r[n],h=this._sqDist(l[L.Util.stamp(a)],t),d>h&&(d=h,p=a);return p},_getCoord:function(t){return Math.floor(t/this._cellSize)},_sqDist:function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n}},function(){L.QuickHull={getDistant:function(t,e){var i=e[1].lat-e[0].lat,n=e[0].lng-e[1].lng;return n*(t.lat-e[0].lat)+i*(t.lng-e[0].lng)},findMostDistantPointFromBaseLine:function(t,e){var i,n,s,r=0,o=null,a=[];for(i=e.length-1;i>=0;i--)n=e[i],s=this.getDistant(n,t),s>0&&(a.push(n),s>r&&(r=s,o=n));return{maxPoint:o,newPoints:a}},buildConvexHull:function(t,e){var i=[],n=this.findMostDistantPointFromBaseLine(t,e);return n.maxPoint?(i=i.concat(this.buildConvexHull([t[0],n.maxPoint],n.newPoints)),i=i.concat(this.buildConvexHull([n.maxPoint,t[1]],n.newPoints))):[t[0]]},getConvexHull:function(t){var e,i=!1,n=!1,s=null,r=null;for(e=t.length-1;e>=0;e--){var o=t[e];(i===!1||o.lat>i)&&(s=o,i=o.lat),(n===!1||o.lat<n)&&(r=o,n=o.lat)}var a=[].concat(this.buildConvexHull([r,s],t),this.buildConvexHull([s,r],t));return a}}}(),L.MarkerCluster.include({getConvexHull:function(){var t,e,i=this.getAllChildMarkers(),n=[];for(e=i.length-1;e>=0;e--)t=i[e].getLatLng(),n.push(t);return L.QuickHull.getConvexHull(n)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:Math.PI/6,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var t,e=this.getAllChildMarkers(),i=this._group,n=i._map,s=n.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,e.length>=this._circleSpiralSwitchover?t=this._generatePointsSpiral(e.length,s):(s.y+=10,t=this._generatePointsCircle(e.length,s)),this._animationSpiderfy(e,t)}},unspiderfy:function(t){this._group._inZoomAnimation||(this._animationUnspiderfy(t),this._group._spiderfied=null)},_generatePointsCircle:function(t,e){var i,n,s=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+t),r=s/this._2PI,o=this._2PI/t,a=[];for(a.length=t,i=t-1;i>=0;i--)n=this._circleStartAngle+i*o,a[i]=new L.Point(e.x+r*Math.cos(n),e.y+r*Math.sin(n))._round();return a},_generatePointsSpiral:function(t,e){var i,n=this._group.options.spiderfyDistanceMultiplier*this._spiralLengthStart,s=this._group.options.spiderfyDistanceMultiplier*this._spiralFootSeparation,r=this._group.options.spiderfyDistanceMultiplier*this._spiralLengthFactor,o=0,a=[];for(a.length=t,i=t-1;i>=0;i--)o+=s/n+5e-4*i,a[i]=new L.Point(e.x+n*Math.cos(o),e.y+n*Math.sin(o))._round(),n+=this._2PI*r/o;return a},_noanimationUnspiderfy:function(){var t,e,i=this._group,n=i._map,s=i._featureGroup,r=this.getAllChildMarkers();for(this.setOpacity(1),e=r.length-1;e>=0;e--)t=r[e],s.removeLayer(t),t._preSpiderfyLatlng&&(t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng),t.setZIndexOffset&&t.setZIndexOffset(0),t._spiderLeg&&(n.removeLayer(t._spiderLeg),delete t._spiderLeg);i._spiderfied=null}}),L.MarkerCluster.include(L.DomUtil.TRANSITION?{SVG_ANIMATION:function(){return e.createElementNS(\"http://www.w3.org/2000/svg\",\"animate\").toString().indexOf(\"SVGAnimate\")>-1}(),_animationSpiderfy:function(t,i){var n,s,r,o,a=this,h=this._group,_=h._map,u=h._featureGroup,l=_.latLngToLayerPoint(this._latlng);for(n=t.length-1;n>=0;n--)s=t[n],s.setOpacity?(s.setZIndexOffset(1e6),s.setOpacity(0),u.addLayer(s),s._setPos(l)):u.addLayer(s);h._forceLayout(),h._animationStart();var d=L.Path.SVG?0:.3,p=L.Path.SVG_NS;for(n=t.length-1;n>=0;n--)if(o=_.layerPointToLatLng(i[n]),s=t[n],s._preSpiderfyLatlng=s._latlng,s.setLatLng(o),s.setOpacity&&s.setOpacity(1),r=new L.Polyline([a._latlng,o],{weight:1.5,color:\"#222\",opacity:d}),_.addLayer(r),s._spiderLeg=r,L.Path.SVG&&this.SVG_ANIMATION){var c=r._path.getTotalLength();r._path.setAttribute(\"stroke-dasharray\",c+\",\"+c);var m=e.createElementNS(p,\"animate\");m.setAttribute(\"attributeName\",\"stroke-dashoffset\"),m.setAttribute(\"begin\",\"indefinite\"),m.setAttribute(\"from\",c),m.setAttribute(\"to\",0),m.setAttribute(\"dur\",.25),r._path.appendChild(m),m.beginElement(),m=e.createElementNS(p,\"animate\"),m.setAttribute(\"attributeName\",\"stroke-opacity\"),m.setAttribute(\"attributeName\",\"stroke-opacity\"),m.setAttribute(\"begin\",\"indefinite\"),m.setAttribute(\"from\",0),m.setAttribute(\"to\",.5),m.setAttribute(\"dur\",.25),r._path.appendChild(m),m.beginElement()}if(a.setOpacity(.3),L.Path.SVG)for(this._group._forceLayout(),n=t.length-1;n>=0;n--)s=t[n]._spiderLeg,s.options.opacity=.5,s._path.setAttribute(\"stroke-opacity\",.5);setTimeout(function(){h._animationEnd(),h.fire(\"spiderfied\")},200)},_animationUnspiderfy:function(t){var e,i,n,s=this._group,r=s._map,o=s._featureGroup,a=t?r._latLngToNewLayerPoint(this._latlng,t.zoom,t.center):r.latLngToLayerPoint(this._latlng),h=this.getAllChildMarkers(),_=L.Path.SVG&&this.SVG_ANIMATION;for(s._animationStart(),this.setOpacity(1),i=h.length-1;i>=0;i--)e=h[i],e._preSpiderfyLatlng&&(e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng,e.setOpacity?(e._setPos(a),e.setOpacity(0)):o.removeLayer(e),_&&(n=e._spiderLeg._path.childNodes[0],n.setAttribute(\"to\",n.getAttribute(\"from\")),n.setAttribute(\"from\",0),n.beginElement(),n=e._spiderLeg._path.childNodes[1],n.setAttribute(\"from\",.5),n.setAttribute(\"to\",0),n.setAttribute(\"stroke-opacity\",0),n.beginElement(),e._spiderLeg._path.setAttribute(\"stroke-opacity\",0)));setTimeout(function(){var t=0;for(i=h.length-1;i>=0;i--)e=h[i],e._spiderLeg&&t++;for(i=h.length-1;i>=0;i--)e=h[i],e._spiderLeg&&(e.setOpacity&&(e.setOpacity(1),e.setZIndexOffset(0)),t>1&&o.removeLayer(e),r.removeLayer(e._spiderLeg),delete e._spiderLeg);s._animationEnd()},200)}}:{_animationSpiderfy:function(t,e){var i,n,s,r,o=this._group,a=o._map,h=o._featureGroup;for(i=t.length-1;i>=0;i--)r=a.layerPointToLatLng(e[i]),n=t[i],n._preSpiderfyLatlng=n._latlng,n.setLatLng(r),n.setZIndexOffset&&n.setZIndexOffset(1e6),h.addLayer(n),s=new L.Polyline([this._latlng,r],{weight:1.5,color:\"#222\"}),a.addLayer(s),n._spiderLeg=s;this.setOpacity(.3),o.fire(\"spiderfied\")},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerClusterGroup.include({_spiderfied:null,_spiderfierOnAdd:function(){this._map.on(\"click\",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on(\"zoomstart\",this._unspiderfyZoomStart,this),this._map.on(\"zoomend\",this._noanimationUnspiderfy,this),L.Path.SVG&&!L.Browser.touch&&this._map._initPathRoot()},_spiderfierOnRemove:function(){this._map.off(\"click\",this._unspiderfyWrapper,this),this._map.off(\"zoomstart\",this._unspiderfyZoomStart,this),this._map.off(\"zoomanim\",this._unspiderfyZoomAnim,this),this._unspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on(\"zoomanim\",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(t){L.DomUtil.hasClass(this._map._mapPane,\"leaflet-touching\")||(this._map.off(\"zoomanim\",this._unspiderfyZoomAnim,this),this._unspiderfy(t))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(t){this._spiderfied&&this._spiderfied.unspiderfy(t)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(t){t._spiderLeg&&(this._featureGroup.removeLayer(t),t.setOpacity(1),t.setZIndexOffset(0),this._map.removeLayer(t._spiderLeg),delete t._spiderLeg)}})}(window,document);\n\n/***/ },\n/* 66 */,\n/* 67 */,\n/* 68 */,\n/* 69 */,\n/* 70 */,\n/* 71 */,\n/* 72 */,\n/* 73 */,\n/* 74 */,\n/* 75 */,\n/* 76 */,\n/* 77 */,\n/* 78 */,\n/* 79 */,\n/* 80 */,\n/* 81 */,\n/* 82 */,\n/* 83 */,\n/* 84 */,\n/* 85 */,\n/* 86 */,\n/* 87 */,\n/* 88 */,\n/* 89 */,\n/* 90 */,\n/* 91 */\n/*!************************************!*\\\n  !*** ./~/leaflet/dist/leaflet.css ***!\n  \\************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(/*! !./../../css-loader!./leaflet.css */ 59);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(/*! ./../../style-loader/addStyles.js */ 35)(content, {});\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./leaflet.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./leaflet.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n/* 92 */,\n/* 93 */,\n/* 94 */,\n/* 95 */,\n/* 96 */,\n/* 97 */,\n/* 98 */,\n/* 99 */,\n/* 100 */,\n/* 101 */,\n/* 102 */,\n/* 103 */,\n/* 104 */,\n/* 105 */,\n/* 106 */\n/*!**********************************************************!*\\\n  !*** (webpack)/~/node-libs-browser/~/process/browser.js ***!\n  \\**********************************************************/\n/***/ function(module, exports) {\n\n\t// shim for using process in browser\n\t\n\tvar process = module.exports = {};\n\tvar queue = [];\n\tvar draining = false;\n\tvar currentQueue;\n\tvar queueIndex = -1;\n\t\n\tfunction cleanUpNextTick() {\n\t    draining = false;\n\t    if (currentQueue.length) {\n\t        queue = currentQueue.concat(queue);\n\t    } else {\n\t        queueIndex = -1;\n\t    }\n\t    if (queue.length) {\n\t        drainQueue();\n\t    }\n\t}\n\t\n\tfunction drainQueue() {\n\t    if (draining) {\n\t        return;\n\t    }\n\t    var timeout = setTimeout(cleanUpNextTick);\n\t    draining = true;\n\t\n\t    var len = queue.length;\n\t    while(len) {\n\t        currentQueue = queue;\n\t        queue = [];\n\t        while (++queueIndex < len) {\n\t            currentQueue[queueIndex].run();\n\t        }\n\t        queueIndex = -1;\n\t        len = queue.length;\n\t    }\n\t    currentQueue = null;\n\t    draining = false;\n\t    clearTimeout(timeout);\n\t}\n\t\n\tprocess.nextTick = function (fun) {\n\t    var args = new Array(arguments.length - 1);\n\t    if (arguments.length > 1) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            args[i - 1] = arguments[i];\n\t        }\n\t    }\n\t    queue.push(new Item(fun, args));\n\t    if (queue.length === 1 && !draining) {\n\t        setTimeout(drainQueue, 0);\n\t    }\n\t};\n\t\n\t// v8 likes predictible objects\n\tfunction Item(fun, array) {\n\t    this.fun = fun;\n\t    this.array = array;\n\t}\n\tItem.prototype.run = function () {\n\t    this.fun.apply(null, this.array);\n\t};\n\tprocess.title = 'browser';\n\tprocess.browser = true;\n\tprocess.env = {};\n\tprocess.argv = [];\n\tprocess.version = ''; // empty string to avoid regexp issues\n\tprocess.versions = {};\n\t\n\tfunction noop() {}\n\t\n\tprocess.on = noop;\n\tprocess.addListener = noop;\n\tprocess.once = noop;\n\tprocess.off = noop;\n\tprocess.removeListener = noop;\n\tprocess.removeAllListeners = noop;\n\tprocess.emit = noop;\n\t\n\tprocess.binding = function (name) {\n\t    throw new Error('process.binding is not supported');\n\t};\n\t\n\t// TODO(shtylman)\n\tprocess.cwd = function () { return '/' };\n\tprocess.chdir = function (dir) {\n\t    throw new Error('process.chdir is not supported');\n\t};\n\tprocess.umask = function() { return 0; };\n\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** vendor.bundle.js\n **/"," \t// install a JSONP callback for chunk loading\n \tvar parentJsonpFunction = window[\"webpackJsonp\"];\n \twindow[\"webpackJsonp\"] = function webpackJsonpCallback(chunkIds, moreModules) {\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, callbacks = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId])\n \t\t\t\tcallbacks.push.apply(callbacks, installedChunks[chunkId]);\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules);\n \t\twhile(callbacks.length)\n \t\t\tcallbacks.shift().call(null, __webpack_require__);\n \t\tif(moreModules[0]) {\n \t\t\tinstalledModules[0] = 0;\n \t\t\treturn __webpack_require__(0);\n \t\t}\n \t};\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// \"0\" means \"already loaded\"\n \t// Array means \"loading\", array contains callbacks\n \tvar installedChunks = {\n \t\t0:0\n \t};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId, callback) {\n \t\t// \"0\" is the signal for \"already loaded\"\n \t\tif(installedChunks[chunkId] === 0)\n \t\t\treturn callback.call(null, __webpack_require__);\n\n \t\t// an array means \"currently loading\".\n \t\tif(installedChunks[chunkId] !== undefined) {\n \t\t\tinstalledChunks[chunkId].push(callback);\n \t\t} else {\n \t\t\t// start chunk loading\n \t\t\tinstalledChunks[chunkId] = [callback];\n \t\t\tvar head = document.getElementsByTagName('head')[0];\n \t\t\tvar script = document.createElement('script');\n \t\t\tscript.type = 'text/javascript';\n \t\t\tscript.charset = 'utf-8';\n \t\t\tscript.async = true;\n\n \t\t\tscript.src = __webpack_require__.p + \"\" + chunkId + \".bundle.js\";\n \t\t\thead.appendChild(script);\n \t\t}\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap c8bbfc65eec1b816403e\n **/","// TODO: Remover ou otimizar load abaixo\n// import 'core-js'\n// import 'babel/polyfill'\n// import 'es6-symbol/implement'\nimport 'core-js/fn/symbol'\nimport 'core-js/fn/array/iterator'\n// import 'core-js/fn/object/assign'\n// import 'core-js/fn/promise.js'\n// import 'es6.array.iterator'\n// import 'core-js/fn/symbol/iterator'\n\nimport 'riot'\nimport 'leaflet'\nimport 'leaflet/dist/leaflet.css'\nimport 'leaflet.markercluster'\nimport 'regeneratorRuntime'\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/vendor.js\n **/","/* Riot v2.2.4, @license MIT, (c) 2015 Muut Inc. + contributors */\n\n;(function(window, undefined) {\n  'use strict';\nvar riot = { version: 'v2.2.4', settings: {} },\n  //// be aware, internal usage\n\n  // counter to give a unique id to all the Tag instances\n  __uid = 0,\n\n  // riot specific prefixes\n  RIOT_PREFIX = 'riot-',\n  RIOT_TAG = RIOT_PREFIX + 'tag',\n\n  // for typeof == '' comparisons\n  T_STRING = 'string',\n  T_OBJECT = 'object',\n  T_UNDEF  = 'undefined',\n  T_FUNCTION = 'function',\n  // special native tags that cannot be treated like the others\n  SPECIAL_TAGS_REGEX = /^(?:opt(ion|group)|tbody|col|t[rhd])$/,\n  RESERVED_WORDS_BLACKLIST = ['_item', '_id', 'update', 'root', 'mount', 'unmount', 'mixin', 'isMounted', 'isLoop', 'tags', 'parent', 'opts', 'trigger', 'on', 'off', 'one'],\n\n  // version# for IE 8-11, 0 for others\n  IE_VERSION = (window && window.document || {}).documentMode | 0,\n\n  // Array.isArray for IE8 is in the polyfills\n  isArray = Array.isArray\n\nriot.observable = function(el) {\n\n  el = el || {}\n\n  var callbacks = {},\n      _id = 0\n\n  el.on = function(events, fn) {\n    if (isFunction(fn)) {\n      if (typeof fn.id === T_UNDEF) fn._id = _id++\n\n      events.replace(/\\S+/g, function(name, pos) {\n        (callbacks[name] = callbacks[name] || []).push(fn)\n        fn.typed = pos > 0\n      })\n    }\n    return el\n  }\n\n  el.off = function(events, fn) {\n    if (events == '*') callbacks = {}\n    else {\n      events.replace(/\\S+/g, function(name) {\n        if (fn) {\n          var arr = callbacks[name]\n          for (var i = 0, cb; (cb = arr && arr[i]); ++i) {\n            if (cb._id == fn._id) arr.splice(i--, 1)\n          }\n        } else {\n          callbacks[name] = []\n        }\n      })\n    }\n    return el\n  }\n\n  // only single event supported\n  el.one = function(name, fn) {\n    function on() {\n      el.off(name, on)\n      fn.apply(el, arguments)\n    }\n    return el.on(name, on)\n  }\n\n  el.trigger = function(name) {\n    var args = [].slice.call(arguments, 1),\n        fns = callbacks[name] || []\n\n    for (var i = 0, fn; (fn = fns[i]); ++i) {\n      if (!fn.busy) {\n        fn.busy = 1\n        fn.apply(el, fn.typed ? [name].concat(args) : args)\n        if (fns[i] !== fn) { i-- }\n        fn.busy = 0\n      }\n    }\n\n    if (callbacks.all && name != 'all') {\n      el.trigger.apply(el, ['all', name].concat(args))\n    }\n\n    return el\n  }\n\n  return el\n\n}\nriot.mixin = (function() {\n  var mixins = {}\n\n  return function(name, mixin) {\n    if (!mixin) return mixins[name]\n    mixins[name] = mixin\n  }\n\n})()\n\n;(function(riot, evt, win) {\n\n  // browsers only\n  if (!win) return\n\n  var loc = win.location,\n      fns = riot.observable(),\n      started = false,\n      current\n\n  function hash() {\n    return loc.href.split('#')[1] || ''   // why not loc.hash.splice(1) ?\n  }\n\n  function parser(path) {\n    return path.split('/')\n  }\n\n  function emit(path) {\n    if (path.type) path = hash()\n\n    if (path != current) {\n      fns.trigger.apply(null, ['H'].concat(parser(path)))\n      current = path\n    }\n  }\n\n  var r = riot.route = function(arg) {\n    // string\n    if (arg[0]) {\n      loc.hash = arg\n      emit(arg)\n\n    // function\n    } else {\n      fns.on('H', arg)\n    }\n  }\n\n  r.exec = function(fn) {\n    fn.apply(null, parser(hash()))\n  }\n\n  r.parser = function(fn) {\n    parser = fn\n  }\n\n  r.stop = function () {\n    if (started) {\n      if (win.removeEventListener) win.removeEventListener(evt, emit, false) //@IE8 - the if()\n      else win.detachEvent('on' + evt, emit) //@IE8\n      fns.off('*')\n      started = false\n    }\n  }\n\n  r.start = function () {\n    if (!started) {\n      if (win.addEventListener) win.addEventListener(evt, emit, false) //@IE8 - the if()\n      else win.attachEvent('on' + evt, emit) //IE8\n      started = true\n    }\n  }\n\n  // autostart the router\n  r.start()\n\n})(riot, 'hashchange', window)\n/*\n\n//// How it works?\n\n\nThree ways:\n\n1. Expressions: tmpl('{ value }', data).\n   Returns the result of evaluated expression as a raw object.\n\n2. Templates: tmpl('Hi { name } { surname }', data).\n   Returns a string with evaluated expressions.\n\n3. Filters: tmpl('{ show: !done, highlight: active }', data).\n   Returns a space separated list of trueish keys (mainly\n   used for setting html classes), e.g. \"show highlight\".\n\n\n// Template examples\n\ntmpl('{ title || \"Untitled\" }', data)\ntmpl('Results are { results ? \"ready\" : \"loading\" }', data)\ntmpl('Today is { new Date() }', data)\ntmpl('{ message.length > 140 && \"Message is too long\" }', data)\ntmpl('This item got { Math.round(rating) } stars', data)\ntmpl('<h1>{ title }</h1>{ body }', data)\n\n\n// Falsy expressions in templates\n\nIn templates (as opposed to single expressions) all falsy values\nexcept zero (undefined/null/false) will default to empty string:\n\ntmpl('{ undefined } - { false } - { null } - { 0 }', {})\n// will return: \" - - - 0\"\n\n*/\n\n\nvar brackets = (function(orig) {\n\n  var cachedBrackets,\n      r,\n      b,\n      re = /[{}]/g\n\n  return function(x) {\n\n    // make sure we use the current setting\n    var s = riot.settings.brackets || orig\n\n    // recreate cached vars if needed\n    if (cachedBrackets !== s) {\n      cachedBrackets = s\n      b = s.split(' ')\n      r = b.map(function (e) { return e.replace(/(?=.)/g, '\\\\') })\n    }\n\n    // if regexp given, rewrite it with current brackets (only if differ from default)\n    return x instanceof RegExp ? (\n        s === orig ? x :\n        new RegExp(x.source.replace(re, function(b) { return r[~~(b === '}')] }), x.global ? 'g' : '')\n      ) :\n      // else, get specific bracket\n      b[x]\n  }\n})('{ }')\n\n\nvar tmpl = (function() {\n\n  var cache = {},\n      OGLOB = '\"in d?d:' + (window ? 'window).' : 'global).'),\n      reVars =\n      /(['\"\\/])(?:[^\\\\]*?|\\\\.|.)*?\\1|\\.\\w*|\\w*:|\\b(?:(?:new|typeof|in|instanceof) |(?:this|true|false|null|undefined)\\b|function\\s*\\()|([A-Za-z_$]\\w*)/g\n\n  // build a template (or get it from cache), render with data\n  return function(str, data) {\n    return str && (cache[str] || (cache[str] = tmpl(str)))(data)\n  }\n\n\n  // create a template instance\n\n  function tmpl(s, p) {\n\n    if (s.indexOf(brackets(0)) < 0) {\n      // return raw text\n      s = s.replace(/\\n|\\r\\n?/g, '\\n')\n      return function () { return s }\n    }\n\n    // temporarily convert \\{ and \\} to a non-character\n    s = s\n      .replace(brackets(/\\\\{/g), '\\uFFF0')\n      .replace(brackets(/\\\\}/g), '\\uFFF1')\n\n    // split string to expression and non-expresion parts\n    p = split(s, extract(s, brackets(/{/), brackets(/}/)))\n\n    // is it a single expression or a template? i.e. {x} or <b>{x}</b>\n    s = (p.length === 2 && !p[0]) ?\n\n      // if expression, evaluate it\n      expr(p[1]) :\n\n      // if template, evaluate all expressions in it\n      '[' + p.map(function(s, i) {\n\n        // is it an expression or a string (every second part is an expression)\n        return i % 2 ?\n\n          // evaluate the expressions\n          expr(s, true) :\n\n          // process string parts of the template:\n          '\"' + s\n\n            // preserve new lines\n            .replace(/\\n|\\r\\n?/g, '\\\\n')\n\n            // escape quotes\n            .replace(/\"/g, '\\\\\"') +\n\n          '\"'\n\n      }).join(',') + '].join(\"\")'\n\n    return new Function('d', 'return ' + s\n      // bring escaped { and } back\n      .replace(/\\uFFF0/g, brackets(0))\n      .replace(/\\uFFF1/g, brackets(1)) + ';')\n\n  }\n\n\n  // parse { ... } expression\n\n  function expr(s, n) {\n    s = s\n\n      // convert new lines to spaces\n      .replace(/\\n|\\r\\n?/g, ' ')\n\n      // trim whitespace, brackets, strip comments\n      .replace(brackets(/^[{ ]+|[ }]+$|\\/\\*.+?\\*\\//g), '')\n\n    // is it an object literal? i.e. { key : value }\n    return /^\\s*[\\w- \"']+ *:/.test(s) ?\n\n      // if object literal, return trueish keys\n      // e.g.: { show: isOpen(), done: item.done } -> \"show done\"\n      '[' +\n\n          // extract key:val pairs, ignoring any nested objects\n          extract(s,\n\n              // name part: name:, \"name\":, 'name':, name :\n              /[\"' ]*[\\w- ]+[\"' ]*:/,\n\n              // expression part: everything upto a comma followed by a name (see above) or end of line\n              /,(?=[\"' ]*[\\w- ]+[\"' ]*:)|}|$/\n              ).map(function(pair) {\n\n                // get key, val parts\n                return pair.replace(/^[ \"']*(.+?)[ \"']*: *(.+?),? *$/, function(_, k, v) {\n\n                  // wrap all conditional parts to ignore errors\n                  return v.replace(/[^&|=!><]+/g, wrap) + '?\"' + k + '\":\"\",'\n\n                })\n\n              }).join('') +\n\n        '].join(\" \").trim()' :\n\n      // if js expression, evaluate as javascript\n      wrap(s, n)\n\n  }\n\n\n  // execute js w/o breaking on errors or undefined vars\n\n  function wrap(s, nonull) {\n    s = s.trim()\n    return !s ? '' : '(function(v){try{v=' +\n\n      // prefix vars (name => data.name)\n      s.replace(reVars, function(s, _, v) { return v ? '((\"' + v + OGLOB + v + ')' : s }) +\n\n      // default to empty string for falsy values except zero\n      '}catch(e){}return ' + (nonull === true ? '!v&&v!==0?\"\":v' : 'v') + '}).call(d)'\n  }\n\n\n  // split string by an array of substrings\n\n  function split(str, substrings) {\n    var parts = []\n    substrings.map(function(sub, i) {\n\n      // push matched expression and part before it\n      i = str.indexOf(sub)\n      parts.push(str.slice(0, i), sub)\n      str = str.slice(i + sub.length)\n    })\n    if (str) parts.push(str)\n\n    // push the remaining part\n    return parts\n  }\n\n\n  // match strings between opening and closing regexp, skipping any inner/nested matches\n\n  function extract(str, open, close) {\n\n    var start,\n        level = 0,\n        matches = [],\n        re = new RegExp('(' + open.source + ')|(' + close.source + ')', 'g')\n\n    str.replace(re, function(_, open, close, pos) {\n\n      // if outer inner bracket, mark position\n      if (!level && open) start = pos\n\n      // in(de)crease bracket level\n      level += open ? 1 : -1\n\n      // if outer closing bracket, grab the match\n      if (!level && close != null) matches.push(str.slice(start, pos + close.length))\n\n    })\n\n    return matches\n  }\n\n})()\n\n/*\n  lib/browser/tag/mkdom.js\n\n  Includes hacks needed for the Internet Explorer version 9 and bellow\n\n*/\n// http://kangax.github.io/compat-table/es5/#ie8\n// http://codeplanet.io/dropping-ie8/\n\nvar mkdom = (function (checkIE) {\n\n  var rootEls = {\n        'tr': 'tbody',\n        'th': 'tr',\n        'td': 'tr',\n        'tbody': 'table',\n        'col': 'colgroup'\n      },\n      GENERIC = 'div'\n\n  checkIE = checkIE && checkIE < 10\n\n  // creates any dom element in a div, table, or colgroup container\n  function _mkdom(html) {\n\n    var match = html && html.match(/^\\s*<([-\\w]+)/),\n        tagName = match && match[1].toLowerCase(),\n        rootTag = rootEls[tagName] || GENERIC,\n        el = mkEl(rootTag)\n\n    el.stub = true\n\n    if (checkIE && tagName && (match = tagName.match(SPECIAL_TAGS_REGEX)))\n      ie9elem(el, html, tagName, !!match[1])\n    else\n      el.innerHTML = html\n\n    return el\n  }\n\n  // creates tr, th, td, option, optgroup element for IE8-9\n  /* istanbul ignore next */\n  function ie9elem(el, html, tagName, select) {\n\n    var div = mkEl(GENERIC),\n        tag = select ? 'select>' : 'table>',\n        child\n\n    div.innerHTML = '<' + tag + html + '</' + tag\n\n    child = div.getElementsByTagName(tagName)[0]\n    if (child)\n      el.appendChild(child)\n\n  }\n  // end ie9elem()\n\n  return _mkdom\n\n})(IE_VERSION)\n\n// { key, i in items} -> { key, i, items }\nfunction loopKeys(expr) {\n  var b0 = brackets(0),\n      els = expr.trim().slice(b0.length).match(/^\\s*(\\S+?)\\s*(?:,\\s*(\\S+))?\\s+in\\s+(.+)$/)\n  return els ? { key: els[1], pos: els[2], val: b0 + els[3] } : { val: expr }\n}\n\nfunction mkitem(expr, key, val) {\n  var item = {}\n  item[expr.key] = key\n  if (expr.pos) item[expr.pos] = val\n  return item\n}\n\n\n/* Beware: heavy stuff */\nfunction _each(dom, parent, expr) {\n\n  remAttr(dom, 'each')\n\n  var tagName = getTagName(dom),\n      template = dom.outerHTML,\n      hasImpl = !!tagImpl[tagName],\n      impl = tagImpl[tagName] || {\n        tmpl: template\n      },\n      root = dom.parentNode,\n      placeholder = document.createComment('riot placeholder'),\n      tags = [],\n      child = getTag(dom),\n      checksum\n\n  root.insertBefore(placeholder, dom)\n\n  expr = loopKeys(expr)\n\n  // clean template code\n  parent\n    .one('premount', function () {\n      if (root.stub) root = parent.root\n      // remove the original DOM node\n      dom.parentNode.removeChild(dom)\n    })\n    .on('update', function () {\n      var items = tmpl(expr.val, parent)\n\n      // object loop. any changes cause full redraw\n      if (!isArray(items)) {\n\n        checksum = items ? JSON.stringify(items) : ''\n\n        items = !items ? [] :\n          Object.keys(items).map(function (key) {\n            return mkitem(expr, key, items[key])\n          })\n      }\n\n      var frag = document.createDocumentFragment(),\n          i = tags.length,\n          j = items.length\n\n      // unmount leftover items\n      while (i > j) {\n        tags[--i].unmount()\n        tags.splice(i, 1)\n      }\n\n      for (i = 0; i < j; ++i) {\n        var _item = !checksum && !!expr.key ? mkitem(expr, items[i], i) : items[i]\n\n        if (!tags[i]) {\n          // mount new\n          (tags[i] = new Tag(impl, {\n              parent: parent,\n              isLoop: true,\n              hasImpl: hasImpl,\n              root: SPECIAL_TAGS_REGEX.test(tagName) ? root : dom.cloneNode(),\n              item: _item\n            }, dom.innerHTML)\n          ).mount()\n\n          frag.appendChild(tags[i].root)\n        } else\n          tags[i].update(_item)\n\n        tags[i]._item = _item\n\n      }\n\n      root.insertBefore(frag, placeholder)\n\n      if (child) parent.tags[tagName] = tags\n\n    }).one('updated', function() {\n      var keys = Object.keys(parent)// only set new values\n      walk(root, function(node) {\n        // only set element node and not isLoop\n        if (node.nodeType == 1 && !node.isLoop && !node._looped) {\n          node._visited = false // reset _visited for loop node\n          node._looped = true // avoid set multiple each\n          setNamed(node, parent, keys)\n        }\n      })\n    })\n\n}\n\n\nfunction parseNamedElements(root, tag, childTags) {\n\n  walk(root, function(dom) {\n    if (dom.nodeType == 1) {\n      dom.isLoop = dom.isLoop || (dom.parentNode && dom.parentNode.isLoop || dom.getAttribute('each')) ? 1 : 0\n\n      // custom child tag\n      var child = getTag(dom)\n\n      if (child && !dom.isLoop) {\n        childTags.push(initChildTag(child, dom, tag))\n      }\n\n      if (!dom.isLoop)\n        setNamed(dom, tag, [])\n    }\n\n  })\n\n}\n\nfunction parseExpressions(root, tag, expressions) {\n\n  function addExpr(dom, val, extra) {\n    if (val.indexOf(brackets(0)) >= 0) {\n      var expr = { dom: dom, expr: val }\n      expressions.push(extend(expr, extra))\n    }\n  }\n\n  walk(root, function(dom) {\n    var type = dom.nodeType\n\n    // text node\n    if (type == 3 && dom.parentNode.tagName != 'STYLE') addExpr(dom, dom.nodeValue)\n    if (type != 1) return\n\n    /* element */\n\n    // loop\n    var attr = dom.getAttribute('each')\n\n    if (attr) { _each(dom, tag, attr); return false }\n\n    // attribute expressions\n    each(dom.attributes, function(attr) {\n      var name = attr.name,\n        bool = name.split('__')[1]\n\n      addExpr(dom, attr.value, { attr: bool || name, bool: bool })\n      if (bool) { remAttr(dom, name); return false }\n\n    })\n\n    // skip custom tags\n    if (getTag(dom)) return false\n\n  })\n\n}\nfunction Tag(impl, conf, innerHTML) {\n\n  var self = riot.observable(this),\n      opts = inherit(conf.opts) || {},\n      dom = mkdom(impl.tmpl),\n      parent = conf.parent,\n      isLoop = conf.isLoop,\n      hasImpl = conf.hasImpl,\n      item = cleanUpData(conf.item),\n      expressions = [],\n      childTags = [],\n      root = conf.root,\n      fn = impl.fn,\n      tagName = root.tagName.toLowerCase(),\n      attr = {},\n      propsInSyncWithParent = []\n\n  if (fn && root._tag) {\n    root._tag.unmount(true)\n  }\n\n  // not yet mounted\n  this.isMounted = false\n  root.isLoop = isLoop\n\n  // keep a reference to the tag just created\n  // so we will be able to mount this tag multiple times\n  root._tag = this\n\n  // create a unique id to this tag\n  // it could be handy to use it also to improve the virtual dom rendering speed\n  this._id = __uid++\n\n  extend(this, { parent: parent, root: root, opts: opts, tags: {} }, item)\n\n  // grab attributes\n  each(root.attributes, function(el) {\n    var val = el.value\n    // remember attributes with expressions only\n    if (brackets(/{.*}/).test(val)) attr[el.name] = val\n  })\n\n  if (dom.innerHTML && !/^(select|optgroup|table|tbody|tr|col(?:group)?)$/.test(tagName))\n    // replace all the yield tags with the tag inner html\n    dom.innerHTML = replaceYield(dom.innerHTML, innerHTML)\n\n  // options\n  function updateOpts() {\n    var ctx = hasImpl && isLoop ? self : parent || self\n\n    // update opts from current DOM attributes\n    each(root.attributes, function(el) {\n      opts[el.name] = tmpl(el.value, ctx)\n    })\n    // recover those with expressions\n    each(Object.keys(attr), function(name) {\n      opts[name] = tmpl(attr[name], ctx)\n    })\n  }\n\n  function normalizeData(data) {\n    for (var key in item) {\n      if (typeof self[key] !== T_UNDEF)\n        self[key] = data[key]\n    }\n  }\n\n  function inheritFromParent () {\n    if (!self.parent || !isLoop) return\n    each(Object.keys(self.parent), function(k) {\n      // some properties must be always in sync with the parent tag\n      var mustSync = !~RESERVED_WORDS_BLACKLIST.indexOf(k) && ~propsInSyncWithParent.indexOf(k)\n      if (typeof self[k] === T_UNDEF || mustSync) {\n        // track the property to keep in sync\n        // so we can keep it updated\n        if (!mustSync) propsInSyncWithParent.push(k)\n        self[k] = self.parent[k]\n      }\n    })\n  }\n\n  this.update = function(data) {\n    // make sure the data passed will not override\n    // the component core methods\n    data = cleanUpData(data)\n    // inherit properties from the parent\n    inheritFromParent()\n    // normalize the tag properties in case an item object was initially passed\n    if (data && typeof item === T_OBJECT) {\n      normalizeData(data)\n      item = data\n    }\n    extend(self, data)\n    updateOpts()\n    self.trigger('update', data)\n    update(expressions, self)\n    self.trigger('updated')\n  }\n\n  this.mixin = function() {\n    each(arguments, function(mix) {\n      mix = typeof mix === T_STRING ? riot.mixin(mix) : mix\n      each(Object.keys(mix), function(key) {\n        // bind methods to self\n        if (key != 'init')\n          self[key] = isFunction(mix[key]) ? mix[key].bind(self) : mix[key]\n      })\n      // init method will be called automatically\n      if (mix.init) mix.init.bind(self)()\n    })\n  }\n\n  this.mount = function() {\n\n    updateOpts()\n\n    // initialiation\n    if (fn) fn.call(self, opts)\n\n    // parse layout after init. fn may calculate args for nested custom tags\n    parseExpressions(dom, self, expressions)\n\n    // mount the child tags\n    toggle(true)\n\n    // update the root adding custom attributes coming from the compiler\n    // it fixes also #1087\n    if (impl.attrs || hasImpl) {\n      walkAttributes(impl.attrs, function (k, v) { root.setAttribute(k, v) })\n      parseExpressions(self.root, self, expressions)\n    }\n\n    if (!self.parent || isLoop) self.update(item)\n\n    // internal use only, fixes #403\n    self.trigger('premount')\n\n    if (isLoop && !hasImpl) {\n      // update the root attribute for the looped elements\n      self.root = root = dom.firstChild\n\n    } else {\n      while (dom.firstChild) root.appendChild(dom.firstChild)\n      if (root.stub) self.root = root = parent.root\n    }\n    // if it's not a child tag we can trigger its mount event\n    if (!self.parent || self.parent.isMounted) {\n      self.isMounted = true\n      self.trigger('mount')\n    }\n    // otherwise we need to wait that the parent event gets triggered\n    else self.parent.one('mount', function() {\n      // avoid to trigger the `mount` event for the tags\n      // not visible included in an if statement\n      if (!isInStub(self.root)) {\n        self.parent.isMounted = self.isMounted = true\n        self.trigger('mount')\n      }\n    })\n  }\n\n\n  this.unmount = function(keepRootTag) {\n    var el = root,\n        p = el.parentNode,\n        ptag\n\n    if (p) {\n\n      if (parent) {\n        ptag = getImmediateCustomParentTag(parent)\n        // remove this tag from the parent tags object\n        // if there are multiple nested tags with same name..\n        // remove this element form the array\n        if (isArray(ptag.tags[tagName]))\n          each(ptag.tags[tagName], function(tag, i) {\n            if (tag._id == self._id)\n              ptag.tags[tagName].splice(i, 1)\n          })\n        else\n          // otherwise just delete the tag instance\n          ptag.tags[tagName] = undefined\n      }\n\n      else\n        while (el.firstChild) el.removeChild(el.firstChild)\n\n      if (!keepRootTag)\n        p.removeChild(el)\n      else\n        // the riot-tag attribute isn't needed anymore, remove it\n        p.removeAttribute('riot-tag')\n    }\n\n\n    self.trigger('unmount')\n    toggle()\n    self.off('*')\n    // somehow ie8 does not like `delete root._tag`\n    root._tag = null\n\n  }\n\n  function toggle(isMount) {\n\n    // mount/unmount children\n    each(childTags, function(child) { child[isMount ? 'mount' : 'unmount']() })\n\n    // listen/unlisten parent (events flow one way from parent to children)\n    if (parent) {\n      var evt = isMount ? 'on' : 'off'\n\n      // the loop tags will be always in sync with the parent automatically\n      if (isLoop)\n        parent[evt]('unmount', self.unmount)\n      else\n        parent[evt]('update', self.update)[evt]('unmount', self.unmount)\n    }\n  }\n\n  // named elements available for fn\n  parseNamedElements(dom, this, childTags)\n\n\n}\n\nfunction setEventHandler(name, handler, dom, tag) {\n\n  dom[name] = function(e) {\n\n    var item = tag._item,\n        ptag = tag.parent,\n        el\n\n    if (!item)\n      while (ptag && !item) {\n        item = ptag._item\n        ptag = ptag.parent\n      }\n\n    // cross browser event fix\n    e = e || window.event\n\n    // ignore error on some browsers\n    try {\n      e.currentTarget = dom\n      if (!e.target) e.target = e.srcElement\n      if (!e.which) e.which = e.charCode || e.keyCode\n    } catch (ignored) { /**/ }\n\n    e.item = item\n\n    // prevent default behaviour (by default)\n    if (handler.call(tag, e) !== true && !/radio|check/.test(dom.type)) {\n      if (e.preventDefault) e.preventDefault()\n      e.returnValue = false\n    }\n\n    if (!e.preventUpdate) {\n      el = item ? getImmediateCustomParentTag(ptag) : tag\n      el.update()\n    }\n\n  }\n\n}\n\n// used by if- attribute\nfunction insertTo(root, node, before) {\n  if (root) {\n    root.insertBefore(before, node)\n    root.removeChild(node)\n  }\n}\n\nfunction update(expressions, tag) {\n\n  each(expressions, function(expr, i) {\n\n    var dom = expr.dom,\n        attrName = expr.attr,\n        value = tmpl(expr.expr, tag),\n        parent = expr.dom.parentNode\n\n    if (expr.bool)\n      value = value ? attrName : false\n    else if (value == null)\n      value = ''\n\n    // leave out riot- prefixes from strings inside textarea\n    // fix #815: any value -> string\n    if (parent && parent.tagName == 'TEXTAREA') value = ('' + value).replace(/riot-/g, '')\n\n    // no change\n    if (expr.value === value) return\n    expr.value = value\n\n    // text node\n    if (!attrName) {\n      dom.nodeValue = '' + value    // #815 related\n      return\n    }\n\n    // remove original attribute\n    remAttr(dom, attrName)\n    // event handler\n    if (isFunction(value)) {\n      setEventHandler(attrName, value, dom, tag)\n\n    // if- conditional\n    } else if (attrName == 'if') {\n      var stub = expr.stub,\n          add = function() { insertTo(stub.parentNode, stub, dom) },\n          remove = function() { insertTo(dom.parentNode, dom, stub) }\n\n      // add to DOM\n      if (value) {\n        if (stub) {\n          add()\n          dom.inStub = false\n          // avoid to trigger the mount event if the tags is not visible yet\n          // maybe we can optimize this avoiding to mount the tag at all\n          if (!isInStub(dom)) {\n            walk(dom, function(el) {\n              if (el._tag && !el._tag.isMounted) el._tag.isMounted = !!el._tag.trigger('mount')\n            })\n          }\n        }\n      // remove from DOM\n      } else {\n        stub = expr.stub = stub || document.createTextNode('')\n        // if the parentNode is defined we can easily replace the tag\n        if (dom.parentNode)\n          remove()\n        else\n        // otherwise we need to wait the updated event\n          (tag.parent || tag).one('updated', remove)\n\n        dom.inStub = true\n      }\n    // show / hide\n    } else if (/^(show|hide)$/.test(attrName)) {\n      if (attrName == 'hide') value = !value\n      dom.style.display = value ? '' : 'none'\n\n    // field value\n    } else if (attrName == 'value') {\n      dom.value = value\n\n    // <img src=\"{ expr }\">\n    } else if (startsWith(attrName, RIOT_PREFIX) && attrName != RIOT_TAG) {\n      if (value)\n        dom.setAttribute(attrName.slice(RIOT_PREFIX.length), value)\n\n    } else {\n      if (expr.bool) {\n        dom[attrName] = value\n        if (!value) return\n      }\n\n      if (typeof value !== T_OBJECT) dom.setAttribute(attrName, value)\n\n    }\n\n  })\n\n}\nfunction each(els, fn) {\n  for (var i = 0, len = (els || []).length, el; i < len; i++) {\n    el = els[i]\n    // return false -> remove current item during loop\n    if (el != null && fn(el, i) === false) i--\n  }\n  return els\n}\n\nfunction isFunction(v) {\n  return typeof v === T_FUNCTION || false   // avoid IE problems\n}\n\nfunction remAttr(dom, name) {\n  dom.removeAttribute(name)\n}\n\nfunction getTag(dom) {\n  return dom.tagName && tagImpl[dom.getAttribute(RIOT_TAG) || dom.tagName.toLowerCase()]\n}\n\nfunction initChildTag(child, dom, parent) {\n  var tag = new Tag(child, { root: dom, parent: parent }, dom.innerHTML),\n      tagName = getTagName(dom),\n      ptag = getImmediateCustomParentTag(parent),\n      cachedTag\n\n  // fix for the parent attribute in the looped elements\n  tag.parent = ptag\n\n  cachedTag = ptag.tags[tagName]\n\n  // if there are multiple children tags having the same name\n  if (cachedTag) {\n    // if the parent tags property is not yet an array\n    // create it adding the first cached tag\n    if (!isArray(cachedTag))\n      ptag.tags[tagName] = [cachedTag]\n    // add the new nested tag to the array\n    if (!~ptag.tags[tagName].indexOf(tag))\n      ptag.tags[tagName].push(tag)\n  } else {\n    ptag.tags[tagName] = tag\n  }\n\n  // empty the child node once we got its template\n  // to avoid that its children get compiled multiple times\n  dom.innerHTML = ''\n\n  return tag\n}\n\nfunction getImmediateCustomParentTag(tag) {\n  var ptag = tag\n  while (!getTag(ptag.root)) {\n    if (!ptag.parent) break\n    ptag = ptag.parent\n  }\n  return ptag\n}\n\nfunction getTagName(dom) {\n  var child = getTag(dom),\n    namedTag = dom.getAttribute('name'),\n    tagName = namedTag && namedTag.indexOf(brackets(0)) < 0 ? namedTag : child ? child.name : dom.tagName.toLowerCase()\n\n  return tagName\n}\n\nfunction extend(src) {\n  var obj, args = arguments\n  for (var i = 1; i < args.length; ++i) {\n    if ((obj = args[i])) {\n      for (var key in obj) {      // eslint-disable-line guard-for-in\n        src[key] = obj[key]\n      }\n    }\n  }\n  return src\n}\n\n// with this function we avoid that the current Tag methods get overridden\nfunction cleanUpData(data) {\n  if (!(data instanceof Tag) && !(data && typeof data.trigger == T_FUNCTION)) return data\n\n  var o = {}\n  for (var key in data) {\n    if (!~RESERVED_WORDS_BLACKLIST.indexOf(key))\n      o[key] = data[key]\n  }\n  return o\n}\n\nfunction walk(dom, fn) {\n  if (dom) {\n    if (fn(dom) === false) return\n    else {\n      dom = dom.firstChild\n\n      while (dom) {\n        walk(dom, fn)\n        dom = dom.nextSibling\n      }\n    }\n  }\n}\n\n// minimize risk: only zero or one _space_ between attr & value\nfunction walkAttributes(html, fn) {\n  var m,\n      re = /([-\\w]+) ?= ?(?:\"([^\"]*)|'([^']*)|({[^}]*}))/g\n\n  while ((m = re.exec(html))) {\n    fn(m[1].toLowerCase(), m[2] || m[3] || m[4])\n  }\n}\n\nfunction isInStub(dom) {\n  while (dom) {\n    if (dom.inStub) return true\n    dom = dom.parentNode\n  }\n  return false\n}\n\nfunction mkEl(name) {\n  return document.createElement(name)\n}\n\nfunction replaceYield(tmpl, innerHTML) {\n  return tmpl.replace(/<(yield)\\/?>(<\\/\\1>)?/gi, innerHTML || '')\n}\n\nfunction $$(selector, ctx) {\n  return (ctx || document).querySelectorAll(selector)\n}\n\nfunction $(selector, ctx) {\n  return (ctx || document).querySelector(selector)\n}\n\nfunction inherit(parent) {\n  function Child() {}\n  Child.prototype = parent\n  return new Child()\n}\n\nfunction setNamed(dom, parent, keys) {\n  if (dom._visited) return\n  var p,\n      v = dom.getAttribute('id') || dom.getAttribute('name')\n\n  if (v) {\n    if (keys.indexOf(v) < 0) {\n      p = parent[v]\n      if (!p)\n        parent[v] = dom\n      else if (isArray(p))\n        p.push(dom)\n      else\n        parent[v] = [p, dom]\n    }\n    dom._visited = true\n  }\n}\n\n// faster String startsWith alternative\nfunction startsWith(src, str) {\n  return src.slice(0, str.length) === str\n}\n\n/*\n Virtual dom is an array of custom tags on the document.\n Updates and unmounts propagate downwards from parent to children.\n*/\n\nvar virtualDom = [],\n    tagImpl = {},\n    styleNode\n\nfunction injectStyle(css) {\n\n  if (riot.render) return // skip injection on the server\n\n  if (!styleNode) {\n    styleNode = mkEl('style')\n    styleNode.setAttribute('type', 'text/css')\n  }\n\n  var head = document.head || document.getElementsByTagName('head')[0]\n\n  if (styleNode.styleSheet)\n    styleNode.styleSheet.cssText += css\n  else\n    styleNode.innerHTML += css\n\n  if (!styleNode._rendered)\n    if (styleNode.styleSheet) {\n      document.body.appendChild(styleNode)\n    } else {\n      var rs = $('style[type=riot]')\n      if (rs) {\n        rs.parentNode.insertBefore(styleNode, rs)\n        rs.parentNode.removeChild(rs)\n      } else head.appendChild(styleNode)\n\n    }\n\n  styleNode._rendered = true\n\n}\n\nfunction mountTo(root, tagName, opts) {\n  var tag = tagImpl[tagName],\n      // cache the inner HTML to fix #855\n      innerHTML = root._innerHTML = root._innerHTML || root.innerHTML\n\n  // clear the inner html\n  root.innerHTML = ''\n\n  if (tag && root) tag = new Tag(tag, { root: root, opts: opts }, innerHTML)\n\n  if (tag && tag.mount) {\n    tag.mount()\n    virtualDom.push(tag)\n    return tag.on('unmount', function() {\n      virtualDom.splice(virtualDom.indexOf(tag), 1)\n    })\n  }\n\n}\n\nriot.tag = function(name, html, css, attrs, fn) {\n  if (isFunction(attrs)) {\n    fn = attrs\n    if (/^[\\w\\-]+\\s?=/.test(css)) {\n      attrs = css\n      css = ''\n    } else attrs = ''\n  }\n  if (css) {\n    if (isFunction(css)) fn = css\n    else injectStyle(css)\n  }\n  tagImpl[name] = { name: name, tmpl: html, attrs: attrs, fn: fn }\n  return name\n}\n\nriot.mount = function(selector, tagName, opts) {\n\n  var els,\n      allTags,\n      tags = []\n\n  // helper functions\n\n  function addRiotTags(arr) {\n    var list = ''\n    each(arr, function (e) {\n      list += ', *[' + RIOT_TAG + '=\"' + e.trim() + '\"]'\n    })\n    return list\n  }\n\n  function selectAllTags() {\n    var keys = Object.keys(tagImpl)\n    return keys + addRiotTags(keys)\n  }\n\n  function pushTags(root) {\n    var last\n    if (root.tagName) {\n      if (tagName && (!(last = root.getAttribute(RIOT_TAG)) || last != tagName))\n        root.setAttribute(RIOT_TAG, tagName)\n\n      var tag = mountTo(root,\n        tagName || root.getAttribute(RIOT_TAG) || root.tagName.toLowerCase(), opts)\n\n      if (tag) tags.push(tag)\n    }\n    else if (root.length) {\n      each(root, pushTags)   // assume nodeList\n    }\n  }\n\n  // ----- mount code -----\n\n  if (typeof tagName === T_OBJECT) {\n    opts = tagName\n    tagName = 0\n  }\n\n  // crawl the DOM to find the tag\n  if (typeof selector === T_STRING) {\n    if (selector === '*')\n      // select all the tags registered\n      // and also the tags found with the riot-tag attribute set\n      selector = allTags = selectAllTags()\n    else\n      // or just the ones named like the selector\n      selector += addRiotTags(selector.split(','))\n\n    els = $$(selector)\n  }\n  else\n    // probably you have passed already a tag or a NodeList\n    els = selector\n\n  // select all the registered and mount them inside their root elements\n  if (tagName === '*') {\n    // get all custom tags\n    tagName = allTags || selectAllTags()\n    // if the root els it's just a single tag\n    if (els.tagName)\n      els = $$(tagName, els)\n    else {\n      // select all the children for all the different root elements\n      var nodeList = []\n      each(els, function (_el) {\n        nodeList.push($$(tagName, _el))\n      })\n      els = nodeList\n    }\n    // get rid of the tagName\n    tagName = 0\n  }\n\n  if (els.tagName)\n    pushTags(els)\n  else\n    each(els, pushTags)\n\n  return tags\n}\n\n// update everything\nriot.update = function() {\n  return each(virtualDom, function(tag) {\n    tag.update()\n  })\n}\n\n// @deprecated\nriot.mountTo = riot.mount\n\n  // share methods for other riot parts, e.g. compiler\n  riot.util = { brackets: brackets, tmpl: tmpl }\n\n  // support CommonJS, AMD & browser\n  /* istanbul ignore next */\n  if (typeof exports === T_OBJECT)\n    module.exports = riot\n  else if (typeof define === 'function' && define.amd)\n    define(function() { return (window.riot = riot) })\n  else\n    window.riot = riot\n\n})(typeof window != 'undefined' ? window : void 0);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/riot/riot.js\n ** module id = 1\n ** module chunks = 0\n **/","/**\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * https://raw.github.com/facebook/regenerator/master/LICENSE file. An\n * additional grant of patent rights can be found in the PATENTS file in\n * the same directory.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var hasOwn = Object.prototype.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var iteratorSymbol =\n    typeof Symbol === \"function\" && Symbol.iterator || \"@@iterator\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided, then outerFn.prototype instanceof Generator.\n    var generator = Object.create((outerFn || Generator).prototype);\n\n    generator._invoke = makeInvokeMethod(\n      innerFn, self || null,\n      new Context(tryLocsList || [])\n    );\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype;\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    genFun.__proto__ = GeneratorFunctionPrototype;\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `value instanceof AwaitArgument` to determine if the yielded value is\n  // meant to be awaited. Some may consider the name of this method too\n  // cutesy, but they are curmudgeons.\n  runtime.awrap = function(arg) {\n    return new AwaitArgument(arg);\n  };\n\n  function AwaitArgument(arg) {\n    this.arg = arg;\n  }\n\n  function AsyncIterator(generator) {\n    // This invoke function is written in a style that assumes some\n    // calling function (or Promise) will handle exceptions.\n    function invoke(method, arg) {\n      var result = generator[method](arg);\n      var value = result.value;\n      return value instanceof AwaitArgument\n        ? Promise.resolve(value.arg).then(invokeNext, invokeThrow)\n        : Promise.resolve(value).then(function(unwrapped) {\n            // When a yielded Promise is resolved, its final value becomes\n            // the .value of the Promise<{value,done}> result for the\n            // current iteration. If the Promise is rejected, however, the\n            // result for this iteration will be rejected with the same\n            // reason. Note that rejections of yielded Promises are not\n            // thrown back into the generator function, as is the case\n            // when an awaited Promise is rejected. This difference in\n            // behavior between yield and await is important, because it\n            // allows the consumer to decide what to do with the yielded\n            // rejection (swallow it and continue, manually .throw it back\n            // into the generator, abandon iteration, whatever). With\n            // await, by contrast, there is no opportunity to examine the\n            // rejection reason outside the generator function, so the\n            // only option is to throw it from the await expression, and\n            // let the generator function handle the exception.\n            result.value = unwrapped;\n            return result;\n          });\n    }\n\n    if (typeof process === \"object\" && process.domain) {\n      invoke = process.domain.bind(invoke);\n    }\n\n    var invokeNext = invoke.bind(generator, \"next\");\n    var invokeThrow = invoke.bind(generator, \"throw\");\n    var invokeReturn = invoke.bind(generator, \"return\");\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      var enqueueResult =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(function() {\n          return invoke(method, arg);\n        }) : new Promise(function(resolve) {\n          resolve(invoke(method, arg));\n        });\n\n      // Avoid propagating enqueueResult failures to Promises returned by\n      // later invocations of the iterator.\n      previousPromise = enqueueResult[\"catch\"](function(ignored){});\n\n      return enqueueResult;\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          if (method === \"return\" ||\n              (method === \"throw\" && delegate.iterator[method] === undefined)) {\n            // A return or throw (when the delegate iterator has no throw\n            // method) always terminates the yield* loop.\n            context.delegate = null;\n\n            // If the delegate iterator has a return method, give it a\n            // chance to clean up.\n            var returnMethod = delegate.iterator[\"return\"];\n            if (returnMethod) {\n              var record = tryCatch(returnMethod, delegate.iterator, arg);\n              if (record.type === \"throw\") {\n                // If the return method threw an exception, let that\n                // exception prevail over the original return or throw.\n                method = \"throw\";\n                arg = record.arg;\n                continue;\n              }\n            }\n\n            if (method === \"return\") {\n              // Continue with the outer return, now that the delegate\n              // iterator has been terminated.\n              continue;\n            }\n          }\n\n          var record = tryCatch(\n            delegate.iterator[method],\n            delegate.iterator,\n            arg\n          );\n\n          if (record.type === \"throw\") {\n            context.delegate = null;\n\n            // Like returning generator.throw(uncaught), but without the\n            // overhead of an extra function call.\n            method = \"throw\";\n            arg = record.arg;\n            continue;\n          }\n\n          // Delegate generator ran and handled its own exceptions so\n          // regardless of what the method was, we continue as if it is\n          // \"next\" with an undefined arg.\n          method = \"next\";\n          arg = undefined;\n\n          var info = record.arg;\n          if (info.done) {\n            context[delegate.resultName] = info.value;\n            context.next = delegate.nextLoc;\n          } else {\n            state = GenStateSuspendedYield;\n            return info;\n          }\n\n          context.delegate = null;\n        }\n\n        if (method === \"next\") {\n          if (state === GenStateSuspendedYield) {\n            context.sent = arg;\n          } else {\n            context.sent = undefined;\n          }\n\n        } else if (method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw arg;\n          }\n\n          if (context.dispatchException(arg)) {\n            // If the dispatched exception was caught by a catch block,\n            // then let that catch block handle the exception normally.\n            method = \"next\";\n            arg = undefined;\n          }\n\n        } else if (method === \"return\") {\n          context.abrupt(\"return\", arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          var info = {\n            value: record.arg,\n            done: context.done\n          };\n\n          if (record.arg === ContinueSentinel) {\n            if (context.delegate && method === \"next\") {\n              // Deliberately forget the last sent value so that we don't\n              // accidentally pass it on to the delegate.\n              arg = undefined;\n            }\n          } else {\n            return info;\n          }\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(arg) call above.\n          method = \"throw\";\n          arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      this.sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n        return !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.next = finallyEntry.finallyLoc;\n      } else {\n        this.complete(record);\n      }\n\n      return ContinueSentinel;\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = record.arg;\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // Among the various tricks for obtaining a reference to the global\n  // object, this seems to be the most reliable technique that does not\n  // use indirect eval (which violates Content Security Policy).\n  typeof global === \"object\" ? global :\n  typeof window === \"object\" ? window :\n  typeof self === \"object\" ? self : this\n);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/regeneratorRuntime.js\n ** module id = 3\n ** module chunks = 0\n **/","var $Object = Object;\nmodule.exports = {\n  create:     $Object.create,\n  getProto:   $Object.getPrototypeOf,\n  isEnum:     {}.propertyIsEnumerable,\n  getDesc:    $Object.getOwnPropertyDescriptor,\n  setDesc:    $Object.defineProperty,\n  setDescs:   $Object.defineProperties,\n  getKeys:    $Object.keys,\n  getNames:   $Object.getOwnPropertyNames,\n  getSymbols: $Object.getOwnPropertySymbols,\n  each:       [].forEach\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/modules/$.js\n ** module id = 6\n ** module chunks = 0\n **/","var $          = require('./$')\n  , createDesc = require('./$.property-desc');\nmodule.exports = require('./$.support-desc') ? function(object, key, value){\n  return $.setDesc(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/modules/$.hide.js\n ** module id = 9\n ** module chunks = 0\n **/","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar UNDEFINED = 'undefined';\nvar global = module.exports = typeof window != UNDEFINED && window.Math == Math\n  ? window : typeof self != UNDEFINED && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/modules/$.global.js\n ** module id = 11\n ** module chunks = 0\n **/","var store  = require('./$.shared')('wks')\n  , Symbol = require('./$.global').Symbol;\nmodule.exports = function(name){\n  return store[name] || (store[name] =\n    Symbol && Symbol[name] || (Symbol || require('./$.uid'))('Symbol.' + name));\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/modules/$.wks.js\n ** module id = 12\n ** module chunks = 0\n **/","var core = module.exports = {};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/modules/$.core.js\n ** module id = 14\n ** module chunks = 0\n **/","// to indexed object, toObject with fallback for non-array-like ES3 strings\r\nvar IObject = require('./$.iobject')\r\n  , defined = require('./$.defined');\r\nmodule.exports = function(it){\r\n  return IObject(defined(it));\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/modules/$.to-iobject.js\n ** module id = 15\n ** module chunks = 0\n **/","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/modules/$.has.js\n ** module id = 16\n ** module chunks = 0\n **/","module.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/modules/$.property-desc.js\n ** module id = 17\n ** module chunks = 0\n **/","// add fake Function#toString\n// for correct work wrapped methods / constructors with methods like LoDash isNative\nvar global    = require('./$.global')\n  , hide      = require('./$.hide')\n  , SRC       = require('./$.uid')('src')\n  , TO_STRING = 'toString'\n  , $toString = Function[TO_STRING]\n  , TPL       = ('' + $toString).split(TO_STRING);\n\nrequire('./$.core').inspectSource = function(it){\n  return $toString.call(it);\n};\n\n(module.exports = function(O, key, val, safe){\n  if(typeof val == 'function'){\n    hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n    if(!('name' in val))val.name = key;\n  }\n  if(O === global){\n    O[key] = val;\n  } else {\n    if(!safe)delete O[key];\n    hide(O, key, val);\n  }\n})(Function.prototype, TO_STRING, function toString(){\n  return typeof this == 'function' && this[SRC] || $toString.call(this);\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/modules/$.redef.js\n ** module id = 18\n ** module chunks = 0\n **/","var has  = require('./$.has')\n  , hide = require('./$.hide')\n  , TAG  = require('./$.wks')('toStringTag');\n\nmodule.exports = function(it, tag, stat){\n  if(it && !has(it = stat ? it : it.prototype, TAG))hide(it, TAG, tag);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/modules/$.tag.js\n ** module id = 19\n ** module chunks = 0\n **/","var id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/modules/$.uid.js\n ** module id = 20\n ** module chunks = 0\n **/","/*\n Leaflet, a JavaScript library for mobile-friendly interactive maps. http://leafletjs.com\n (c) 2010-2013, Vladimir Agafonkin\n (c) 2010-2011, CloudMade\n*/\n(function (window, document, undefined) {\r\nvar oldL = window.L,\r\n    L = {};\r\n\r\nL.version = '0.7.5';\r\n\r\n// define Leaflet for Node module pattern loaders, including Browserify\r\nif (typeof module === 'object' && typeof module.exports === 'object') {\r\n\tmodule.exports = L;\r\n\r\n// define Leaflet as an AMD module\r\n} else if (typeof define === 'function' && define.amd) {\r\n\tdefine(L);\r\n}\r\n\r\n// define Leaflet as a global L variable, saving the original L to restore later if needed\r\n\r\nL.noConflict = function () {\r\n\twindow.L = oldL;\r\n\treturn this;\r\n};\r\n\r\nwindow.L = L;\r\n\n\n/*\r\n * L.Util contains various utility functions used throughout Leaflet code.\r\n */\r\n\r\nL.Util = {\r\n\textend: function (dest) { // (Object[, Object, ...]) ->\r\n\t\tvar sources = Array.prototype.slice.call(arguments, 1),\r\n\t\t    i, j, len, src;\r\n\r\n\t\tfor (j = 0, len = sources.length; j < len; j++) {\r\n\t\t\tsrc = sources[j] || {};\r\n\t\t\tfor (i in src) {\r\n\t\t\t\tif (src.hasOwnProperty(i)) {\r\n\t\t\t\t\tdest[i] = src[i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn dest;\r\n\t},\r\n\r\n\tbind: function (fn, obj) { // (Function, Object) -> Function\r\n\t\tvar args = arguments.length > 2 ? Array.prototype.slice.call(arguments, 2) : null;\r\n\t\treturn function () {\r\n\t\t\treturn fn.apply(obj, args || arguments);\r\n\t\t};\r\n\t},\r\n\r\n\tstamp: (function () {\r\n\t\tvar lastId = 0,\r\n\t\t    key = '_leaflet_id';\r\n\t\treturn function (obj) {\r\n\t\t\tobj[key] = obj[key] || ++lastId;\r\n\t\t\treturn obj[key];\r\n\t\t};\r\n\t}()),\r\n\r\n\tinvokeEach: function (obj, method, context) {\r\n\t\tvar i, args;\r\n\r\n\t\tif (typeof obj === 'object') {\r\n\t\t\targs = Array.prototype.slice.call(arguments, 3);\r\n\r\n\t\t\tfor (i in obj) {\r\n\t\t\t\tmethod.apply(context, [i, obj[i]].concat(args));\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t},\r\n\r\n\tlimitExecByInterval: function (fn, time, context) {\r\n\t\tvar lock, execOnUnlock;\r\n\r\n\t\treturn function wrapperFn() {\r\n\t\t\tvar args = arguments;\r\n\r\n\t\t\tif (lock) {\r\n\t\t\t\texecOnUnlock = true;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tlock = true;\r\n\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\tlock = false;\r\n\r\n\t\t\t\tif (execOnUnlock) {\r\n\t\t\t\t\twrapperFn.apply(context, args);\r\n\t\t\t\t\texecOnUnlock = false;\r\n\t\t\t\t}\r\n\t\t\t}, time);\r\n\r\n\t\t\tfn.apply(context, args);\r\n\t\t};\r\n\t},\r\n\r\n\tfalseFn: function () {\r\n\t\treturn false;\r\n\t},\r\n\r\n\tformatNum: function (num, digits) {\r\n\t\tvar pow = Math.pow(10, digits || 5);\r\n\t\treturn Math.round(num * pow) / pow;\r\n\t},\r\n\r\n\ttrim: function (str) {\r\n\t\treturn str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\r\n\t},\r\n\r\n\tsplitWords: function (str) {\r\n\t\treturn L.Util.trim(str).split(/\\s+/);\r\n\t},\r\n\r\n\tsetOptions: function (obj, options) {\r\n\t\tobj.options = L.extend({}, obj.options, options);\r\n\t\treturn obj.options;\r\n\t},\r\n\r\n\tgetParamString: function (obj, existingUrl, uppercase) {\r\n\t\tvar params = [];\r\n\t\tfor (var i in obj) {\r\n\t\t\tparams.push(encodeURIComponent(uppercase ? i.toUpperCase() : i) + '=' + encodeURIComponent(obj[i]));\r\n\t\t}\r\n\t\treturn ((!existingUrl || existingUrl.indexOf('?') === -1) ? '?' : '&') + params.join('&');\r\n\t},\r\n\ttemplate: function (str, data) {\r\n\t\treturn str.replace(/\\{ *([\\w_]+) *\\}/g, function (str, key) {\r\n\t\t\tvar value = data[key];\r\n\t\t\tif (value === undefined) {\r\n\t\t\t\tthrow new Error('No value provided for variable ' + str);\r\n\t\t\t} else if (typeof value === 'function') {\r\n\t\t\t\tvalue = value(data);\r\n\t\t\t}\r\n\t\t\treturn value;\r\n\t\t});\r\n\t},\r\n\r\n\tisArray: Array.isArray || function (obj) {\r\n\t\treturn (Object.prototype.toString.call(obj) === '[object Array]');\r\n\t},\r\n\r\n\temptyImageUrl: 'data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs='\r\n};\r\n\r\n(function () {\r\n\r\n\t// inspired by http://paulirish.com/2011/requestanimationframe-for-smart-animating/\r\n\r\n\tfunction getPrefixed(name) {\r\n\t\tvar i, fn,\r\n\t\t    prefixes = ['webkit', 'moz', 'o', 'ms'];\r\n\r\n\t\tfor (i = 0; i < prefixes.length && !fn; i++) {\r\n\t\t\tfn = window[prefixes[i] + name];\r\n\t\t}\r\n\r\n\t\treturn fn;\r\n\t}\r\n\r\n\tvar lastTime = 0;\r\n\r\n\tfunction timeoutDefer(fn) {\r\n\t\tvar time = +new Date(),\r\n\t\t    timeToCall = Math.max(0, 16 - (time - lastTime));\r\n\r\n\t\tlastTime = time + timeToCall;\r\n\t\treturn window.setTimeout(fn, timeToCall);\r\n\t}\r\n\r\n\tvar requestFn = window.requestAnimationFrame ||\r\n\t        getPrefixed('RequestAnimationFrame') || timeoutDefer;\r\n\r\n\tvar cancelFn = window.cancelAnimationFrame ||\r\n\t        getPrefixed('CancelAnimationFrame') ||\r\n\t        getPrefixed('CancelRequestAnimationFrame') ||\r\n\t        function (id) { window.clearTimeout(id); };\r\n\r\n\r\n\tL.Util.requestAnimFrame = function (fn, context, immediate, element) {\r\n\t\tfn = L.bind(fn, context);\r\n\r\n\t\tif (immediate && requestFn === timeoutDefer) {\r\n\t\t\tfn();\r\n\t\t} else {\r\n\t\t\treturn requestFn.call(window, fn, element);\r\n\t\t}\r\n\t};\r\n\r\n\tL.Util.cancelAnimFrame = function (id) {\r\n\t\tif (id) {\r\n\t\t\tcancelFn.call(window, id);\r\n\t\t}\r\n\t};\r\n\r\n}());\r\n\r\n// shortcuts for most used utility functions\r\nL.extend = L.Util.extend;\r\nL.bind = L.Util.bind;\r\nL.stamp = L.Util.stamp;\r\nL.setOptions = L.Util.setOptions;\r\n\n\n/*\r\n * L.Class powers the OOP facilities of the library.\r\n * Thanks to John Resig and Dean Edwards for inspiration!\r\n */\r\n\r\nL.Class = function () {};\r\n\r\nL.Class.extend = function (props) {\r\n\r\n\t// extended class with the new prototype\r\n\tvar NewClass = function () {\r\n\r\n\t\t// call the constructor\r\n\t\tif (this.initialize) {\r\n\t\t\tthis.initialize.apply(this, arguments);\r\n\t\t}\r\n\r\n\t\t// call all constructor hooks\r\n\t\tif (this._initHooks) {\r\n\t\t\tthis.callInitHooks();\r\n\t\t}\r\n\t};\r\n\r\n\t// instantiate class without calling constructor\r\n\tvar F = function () {};\r\n\tF.prototype = this.prototype;\r\n\r\n\tvar proto = new F();\r\n\tproto.constructor = NewClass;\r\n\r\n\tNewClass.prototype = proto;\r\n\r\n\t//inherit parent's statics\r\n\tfor (var i in this) {\r\n\t\tif (this.hasOwnProperty(i) && i !== 'prototype') {\r\n\t\t\tNewClass[i] = this[i];\r\n\t\t}\r\n\t}\r\n\r\n\t// mix static properties into the class\r\n\tif (props.statics) {\r\n\t\tL.extend(NewClass, props.statics);\r\n\t\tdelete props.statics;\r\n\t}\r\n\r\n\t// mix includes into the prototype\r\n\tif (props.includes) {\r\n\t\tL.Util.extend.apply(null, [proto].concat(props.includes));\r\n\t\tdelete props.includes;\r\n\t}\r\n\r\n\t// merge options\r\n\tif (props.options && proto.options) {\r\n\t\tprops.options = L.extend({}, proto.options, props.options);\r\n\t}\r\n\r\n\t// mix given properties into the prototype\r\n\tL.extend(proto, props);\r\n\r\n\tproto._initHooks = [];\r\n\r\n\tvar parent = this;\r\n\t// jshint camelcase: false\r\n\tNewClass.__super__ = parent.prototype;\r\n\r\n\t// add method for calling all hooks\r\n\tproto.callInitHooks = function () {\r\n\r\n\t\tif (this._initHooksCalled) { return; }\r\n\r\n\t\tif (parent.prototype.callInitHooks) {\r\n\t\t\tparent.prototype.callInitHooks.call(this);\r\n\t\t}\r\n\r\n\t\tthis._initHooksCalled = true;\r\n\r\n\t\tfor (var i = 0, len = proto._initHooks.length; i < len; i++) {\r\n\t\t\tproto._initHooks[i].call(this);\r\n\t\t}\r\n\t};\r\n\r\n\treturn NewClass;\r\n};\r\n\r\n\r\n// method for adding properties to prototype\r\nL.Class.include = function (props) {\r\n\tL.extend(this.prototype, props);\r\n};\r\n\r\n// merge new default options to the Class\r\nL.Class.mergeOptions = function (options) {\r\n\tL.extend(this.prototype.options, options);\r\n};\r\n\r\n// add a constructor hook\r\nL.Class.addInitHook = function (fn) { // (Function) || (String, args...)\r\n\tvar args = Array.prototype.slice.call(arguments, 1);\r\n\r\n\tvar init = typeof fn === 'function' ? fn : function () {\r\n\t\tthis[fn].apply(this, args);\r\n\t};\r\n\r\n\tthis.prototype._initHooks = this.prototype._initHooks || [];\r\n\tthis.prototype._initHooks.push(init);\r\n};\r\n\n\n/*\r\n * L.Mixin.Events is used to add custom events functionality to Leaflet classes.\r\n */\r\n\r\nvar eventsKey = '_leaflet_events';\r\n\r\nL.Mixin = {};\r\n\r\nL.Mixin.Events = {\r\n\r\n\taddEventListener: function (types, fn, context) { // (String, Function[, Object]) or (Object[, Object])\r\n\r\n\t\t// types can be a map of types/handlers\r\n\t\tif (L.Util.invokeEach(types, this.addEventListener, this, fn, context)) { return this; }\r\n\r\n\t\tvar events = this[eventsKey] = this[eventsKey] || {},\r\n\t\t    contextId = context && context !== this && L.stamp(context),\r\n\t\t    i, len, event, type, indexKey, indexLenKey, typeIndex;\r\n\r\n\t\t// types can be a string of space-separated words\r\n\t\ttypes = L.Util.splitWords(types);\r\n\r\n\t\tfor (i = 0, len = types.length; i < len; i++) {\r\n\t\t\tevent = {\r\n\t\t\t\taction: fn,\r\n\t\t\t\tcontext: context || this\r\n\t\t\t};\r\n\t\t\ttype = types[i];\r\n\r\n\t\t\tif (contextId) {\r\n\t\t\t\t// store listeners of a particular context in a separate hash (if it has an id)\r\n\t\t\t\t// gives a major performance boost when removing thousands of map layers\r\n\r\n\t\t\t\tindexKey = type + '_idx';\r\n\t\t\t\tindexLenKey = indexKey + '_len';\r\n\r\n\t\t\t\ttypeIndex = events[indexKey] = events[indexKey] || {};\r\n\r\n\t\t\t\tif (!typeIndex[contextId]) {\r\n\t\t\t\t\ttypeIndex[contextId] = [];\r\n\r\n\t\t\t\t\t// keep track of the number of keys in the index to quickly check if it's empty\r\n\t\t\t\t\tevents[indexLenKey] = (events[indexLenKey] || 0) + 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttypeIndex[contextId].push(event);\r\n\r\n\r\n\t\t\t} else {\r\n\t\t\t\tevents[type] = events[type] || [];\r\n\t\t\t\tevents[type].push(event);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\thasEventListeners: function (type) { // (String) -> Boolean\r\n\t\tvar events = this[eventsKey];\r\n\t\treturn !!events && ((type in events && events[type].length > 0) ||\r\n\t\t                    (type + '_idx' in events && events[type + '_idx_len'] > 0));\r\n\t},\r\n\r\n\tremoveEventListener: function (types, fn, context) { // ([String, Function, Object]) or (Object[, Object])\r\n\r\n\t\tif (!this[eventsKey]) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tif (!types) {\r\n\t\t\treturn this.clearAllEventListeners();\r\n\t\t}\r\n\r\n\t\tif (L.Util.invokeEach(types, this.removeEventListener, this, fn, context)) { return this; }\r\n\r\n\t\tvar events = this[eventsKey],\r\n\t\t    contextId = context && context !== this && L.stamp(context),\r\n\t\t    i, len, type, listeners, j, indexKey, indexLenKey, typeIndex, removed;\r\n\r\n\t\ttypes = L.Util.splitWords(types);\r\n\r\n\t\tfor (i = 0, len = types.length; i < len; i++) {\r\n\t\t\ttype = types[i];\r\n\t\t\tindexKey = type + '_idx';\r\n\t\t\tindexLenKey = indexKey + '_len';\r\n\r\n\t\t\ttypeIndex = events[indexKey];\r\n\r\n\t\t\tif (!fn) {\r\n\t\t\t\t// clear all listeners for a type if function isn't specified\r\n\t\t\t\tdelete events[type];\r\n\t\t\t\tdelete events[indexKey];\r\n\t\t\t\tdelete events[indexLenKey];\r\n\r\n\t\t\t} else {\r\n\t\t\t\tlisteners = contextId && typeIndex ? typeIndex[contextId] : events[type];\r\n\r\n\t\t\t\tif (listeners) {\r\n\t\t\t\t\tfor (j = listeners.length - 1; j >= 0; j--) {\r\n\t\t\t\t\t\tif ((listeners[j].action === fn) && (!context || (listeners[j].context === context))) {\r\n\t\t\t\t\t\t\tremoved = listeners.splice(j, 1);\r\n\t\t\t\t\t\t\t// set the old action to a no-op, because it is possible\r\n\t\t\t\t\t\t\t// that the listener is being iterated over as part of a dispatch\r\n\t\t\t\t\t\t\tremoved[0].action = L.Util.falseFn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (context && typeIndex && (listeners.length === 0)) {\r\n\t\t\t\t\t\tdelete typeIndex[contextId];\r\n\t\t\t\t\t\tevents[indexLenKey]--;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tclearAllEventListeners: function () {\r\n\t\tdelete this[eventsKey];\r\n\t\treturn this;\r\n\t},\r\n\r\n\tfireEvent: function (type, data) { // (String[, Object])\r\n\t\tif (!this.hasEventListeners(type)) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tvar event = L.Util.extend({}, data, { type: type, target: this });\r\n\r\n\t\tvar events = this[eventsKey],\r\n\t\t    listeners, i, len, typeIndex, contextId;\r\n\r\n\t\tif (events[type]) {\r\n\t\t\t// make sure adding/removing listeners inside other listeners won't cause infinite loop\r\n\t\t\tlisteners = events[type].slice();\r\n\r\n\t\t\tfor (i = 0, len = listeners.length; i < len; i++) {\r\n\t\t\t\tlisteners[i].action.call(listeners[i].context, event);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// fire event for the context-indexed listeners as well\r\n\t\ttypeIndex = events[type + '_idx'];\r\n\r\n\t\tfor (contextId in typeIndex) {\r\n\t\t\tlisteners = typeIndex[contextId].slice();\r\n\r\n\t\t\tif (listeners) {\r\n\t\t\t\tfor (i = 0, len = listeners.length; i < len; i++) {\r\n\t\t\t\t\tlisteners[i].action.call(listeners[i].context, event);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\taddOneTimeEventListener: function (types, fn, context) {\r\n\r\n\t\tif (L.Util.invokeEach(types, this.addOneTimeEventListener, this, fn, context)) { return this; }\r\n\r\n\t\tvar handler = L.bind(function () {\r\n\t\t\tthis\r\n\t\t\t    .removeEventListener(types, fn, context)\r\n\t\t\t    .removeEventListener(types, handler, context);\r\n\t\t}, this);\r\n\r\n\t\treturn this\r\n\t\t    .addEventListener(types, fn, context)\r\n\t\t    .addEventListener(types, handler, context);\r\n\t}\r\n};\r\n\r\nL.Mixin.Events.on = L.Mixin.Events.addEventListener;\r\nL.Mixin.Events.off = L.Mixin.Events.removeEventListener;\r\nL.Mixin.Events.once = L.Mixin.Events.addOneTimeEventListener;\r\nL.Mixin.Events.fire = L.Mixin.Events.fireEvent;\r\n\n\n/*\r\n * L.Browser handles different browser and feature detections for internal Leaflet use.\r\n */\r\n\r\n(function () {\r\n\r\n\tvar ie = 'ActiveXObject' in window,\r\n\t\tielt9 = ie && !document.addEventListener,\r\n\r\n\t    // terrible browser detection to work around Safari / iOS / Android browser bugs\r\n\t    ua = navigator.userAgent.toLowerCase(),\r\n\t    webkit = ua.indexOf('webkit') !== -1,\r\n\t    chrome = ua.indexOf('chrome') !== -1,\r\n\t    phantomjs = ua.indexOf('phantom') !== -1,\r\n\t    android = ua.indexOf('android') !== -1,\r\n\t    android23 = ua.search('android [23]') !== -1,\r\n\t\tgecko = ua.indexOf('gecko') !== -1,\r\n\r\n\t    mobile = typeof orientation !== undefined + '',\r\n\t    msPointer = !window.PointerEvent && window.MSPointerEvent,\r\n\t\tpointer = (window.PointerEvent && window.navigator.pointerEnabled && window.navigator.maxTouchPoints) ||\r\n\t\t\t\t  msPointer,\r\n\t    retina = ('devicePixelRatio' in window && window.devicePixelRatio > 1) ||\r\n\t             ('matchMedia' in window && window.matchMedia('(min-resolution:144dpi)') &&\r\n\t              window.matchMedia('(min-resolution:144dpi)').matches),\r\n\r\n\t    doc = document.documentElement,\r\n\t    ie3d = ie && ('transition' in doc.style),\r\n\t    webkit3d = ('WebKitCSSMatrix' in window) && ('m11' in new window.WebKitCSSMatrix()) && !android23,\r\n\t    gecko3d = 'MozPerspective' in doc.style,\r\n\t    opera3d = 'OTransition' in doc.style,\r\n\t    any3d = !window.L_DISABLE_3D && (ie3d || webkit3d || gecko3d || opera3d) && !phantomjs;\r\n\r\n\tvar touch = !window.L_NO_TOUCH && !phantomjs && (pointer || 'ontouchstart' in window ||\r\n\t\t(window.DocumentTouch && document instanceof window.DocumentTouch));\r\n\r\n\tL.Browser = {\r\n\t\tie: ie,\r\n\t\tielt9: ielt9,\r\n\t\twebkit: webkit,\r\n\t\tgecko: gecko && !webkit && !window.opera && !ie,\r\n\r\n\t\tandroid: android,\r\n\t\tandroid23: android23,\r\n\r\n\t\tchrome: chrome,\r\n\r\n\t\tie3d: ie3d,\r\n\t\twebkit3d: webkit3d,\r\n\t\tgecko3d: gecko3d,\r\n\t\topera3d: opera3d,\r\n\t\tany3d: any3d,\r\n\r\n\t\tmobile: mobile,\r\n\t\tmobileWebkit: mobile && webkit,\r\n\t\tmobileWebkit3d: mobile && webkit3d,\r\n\t\tmobileOpera: mobile && window.opera,\r\n\r\n\t\ttouch: touch,\r\n\t\tmsPointer: msPointer,\r\n\t\tpointer: pointer,\r\n\r\n\t\tretina: retina\r\n\t};\r\n\r\n}());\r\n\n\n/*\r\n * L.Point represents a point with x and y coordinates.\r\n */\r\n\r\nL.Point = function (/*Number*/ x, /*Number*/ y, /*Boolean*/ round) {\r\n\tthis.x = (round ? Math.round(x) : x);\r\n\tthis.y = (round ? Math.round(y) : y);\r\n};\r\n\r\nL.Point.prototype = {\r\n\r\n\tclone: function () {\r\n\t\treturn new L.Point(this.x, this.y);\r\n\t},\r\n\r\n\t// non-destructive, returns a new point\r\n\tadd: function (point) {\r\n\t\treturn this.clone()._add(L.point(point));\r\n\t},\r\n\r\n\t// destructive, used directly for performance in situations where it's safe to modify existing point\r\n\t_add: function (point) {\r\n\t\tthis.x += point.x;\r\n\t\tthis.y += point.y;\r\n\t\treturn this;\r\n\t},\r\n\r\n\tsubtract: function (point) {\r\n\t\treturn this.clone()._subtract(L.point(point));\r\n\t},\r\n\r\n\t_subtract: function (point) {\r\n\t\tthis.x -= point.x;\r\n\t\tthis.y -= point.y;\r\n\t\treturn this;\r\n\t},\r\n\r\n\tdivideBy: function (num) {\r\n\t\treturn this.clone()._divideBy(num);\r\n\t},\r\n\r\n\t_divideBy: function (num) {\r\n\t\tthis.x /= num;\r\n\t\tthis.y /= num;\r\n\t\treturn this;\r\n\t},\r\n\r\n\tmultiplyBy: function (num) {\r\n\t\treturn this.clone()._multiplyBy(num);\r\n\t},\r\n\r\n\t_multiplyBy: function (num) {\r\n\t\tthis.x *= num;\r\n\t\tthis.y *= num;\r\n\t\treturn this;\r\n\t},\r\n\r\n\tround: function () {\r\n\t\treturn this.clone()._round();\r\n\t},\r\n\r\n\t_round: function () {\r\n\t\tthis.x = Math.round(this.x);\r\n\t\tthis.y = Math.round(this.y);\r\n\t\treturn this;\r\n\t},\r\n\r\n\tfloor: function () {\r\n\t\treturn this.clone()._floor();\r\n\t},\r\n\r\n\t_floor: function () {\r\n\t\tthis.x = Math.floor(this.x);\r\n\t\tthis.y = Math.floor(this.y);\r\n\t\treturn this;\r\n\t},\r\n\r\n\tdistanceTo: function (point) {\r\n\t\tpoint = L.point(point);\r\n\r\n\t\tvar x = point.x - this.x,\r\n\t\t    y = point.y - this.y;\r\n\r\n\t\treturn Math.sqrt(x * x + y * y);\r\n\t},\r\n\r\n\tequals: function (point) {\r\n\t\tpoint = L.point(point);\r\n\r\n\t\treturn point.x === this.x &&\r\n\t\t       point.y === this.y;\r\n\t},\r\n\r\n\tcontains: function (point) {\r\n\t\tpoint = L.point(point);\r\n\r\n\t\treturn Math.abs(point.x) <= Math.abs(this.x) &&\r\n\t\t       Math.abs(point.y) <= Math.abs(this.y);\r\n\t},\r\n\r\n\ttoString: function () {\r\n\t\treturn 'Point(' +\r\n\t\t        L.Util.formatNum(this.x) + ', ' +\r\n\t\t        L.Util.formatNum(this.y) + ')';\r\n\t}\r\n};\r\n\r\nL.point = function (x, y, round) {\r\n\tif (x instanceof L.Point) {\r\n\t\treturn x;\r\n\t}\r\n\tif (L.Util.isArray(x)) {\r\n\t\treturn new L.Point(x[0], x[1]);\r\n\t}\r\n\tif (x === undefined || x === null) {\r\n\t\treturn x;\r\n\t}\r\n\treturn new L.Point(x, y, round);\r\n};\r\n\n\n/*\r\n * L.Bounds represents a rectangular area on the screen in pixel coordinates.\r\n */\r\n\r\nL.Bounds = function (a, b) { //(Point, Point) or Point[]\r\n\tif (!a) { return; }\r\n\r\n\tvar points = b ? [a, b] : a;\r\n\r\n\tfor (var i = 0, len = points.length; i < len; i++) {\r\n\t\tthis.extend(points[i]);\r\n\t}\r\n};\r\n\r\nL.Bounds.prototype = {\r\n\t// extend the bounds to contain the given point\r\n\textend: function (point) { // (Point)\r\n\t\tpoint = L.point(point);\r\n\r\n\t\tif (!this.min && !this.max) {\r\n\t\t\tthis.min = point.clone();\r\n\t\t\tthis.max = point.clone();\r\n\t\t} else {\r\n\t\t\tthis.min.x = Math.min(point.x, this.min.x);\r\n\t\t\tthis.max.x = Math.max(point.x, this.max.x);\r\n\t\t\tthis.min.y = Math.min(point.y, this.min.y);\r\n\t\t\tthis.max.y = Math.max(point.y, this.max.y);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\tgetCenter: function (round) { // (Boolean) -> Point\r\n\t\treturn new L.Point(\r\n\t\t        (this.min.x + this.max.x) / 2,\r\n\t\t        (this.min.y + this.max.y) / 2, round);\r\n\t},\r\n\r\n\tgetBottomLeft: function () { // -> Point\r\n\t\treturn new L.Point(this.min.x, this.max.y);\r\n\t},\r\n\r\n\tgetTopRight: function () { // -> Point\r\n\t\treturn new L.Point(this.max.x, this.min.y);\r\n\t},\r\n\r\n\tgetSize: function () {\r\n\t\treturn this.max.subtract(this.min);\r\n\t},\r\n\r\n\tcontains: function (obj) { // (Bounds) or (Point) -> Boolean\r\n\t\tvar min, max;\r\n\r\n\t\tif (typeof obj[0] === 'number' || obj instanceof L.Point) {\r\n\t\t\tobj = L.point(obj);\r\n\t\t} else {\r\n\t\t\tobj = L.bounds(obj);\r\n\t\t}\r\n\r\n\t\tif (obj instanceof L.Bounds) {\r\n\t\t\tmin = obj.min;\r\n\t\t\tmax = obj.max;\r\n\t\t} else {\r\n\t\t\tmin = max = obj;\r\n\t\t}\r\n\r\n\t\treturn (min.x >= this.min.x) &&\r\n\t\t       (max.x <= this.max.x) &&\r\n\t\t       (min.y >= this.min.y) &&\r\n\t\t       (max.y <= this.max.y);\r\n\t},\r\n\r\n\tintersects: function (bounds) { // (Bounds) -> Boolean\r\n\t\tbounds = L.bounds(bounds);\r\n\r\n\t\tvar min = this.min,\r\n\t\t    max = this.max,\r\n\t\t    min2 = bounds.min,\r\n\t\t    max2 = bounds.max,\r\n\t\t    xIntersects = (max2.x >= min.x) && (min2.x <= max.x),\r\n\t\t    yIntersects = (max2.y >= min.y) && (min2.y <= max.y);\r\n\r\n\t\treturn xIntersects && yIntersects;\r\n\t},\r\n\r\n\tisValid: function () {\r\n\t\treturn !!(this.min && this.max);\r\n\t}\r\n};\r\n\r\nL.bounds = function (a, b) { // (Bounds) or (Point, Point) or (Point[])\r\n\tif (!a || a instanceof L.Bounds) {\r\n\t\treturn a;\r\n\t}\r\n\treturn new L.Bounds(a, b);\r\n};\r\n\n\n/*\r\n * L.Transformation is an utility class to perform simple point transformations through a 2d-matrix.\r\n */\r\n\r\nL.Transformation = function (a, b, c, d) {\r\n\tthis._a = a;\r\n\tthis._b = b;\r\n\tthis._c = c;\r\n\tthis._d = d;\r\n};\r\n\r\nL.Transformation.prototype = {\r\n\ttransform: function (point, scale) { // (Point, Number) -> Point\r\n\t\treturn this._transform(point.clone(), scale);\r\n\t},\r\n\r\n\t// destructive transform (faster)\r\n\t_transform: function (point, scale) {\r\n\t\tscale = scale || 1;\r\n\t\tpoint.x = scale * (this._a * point.x + this._b);\r\n\t\tpoint.y = scale * (this._c * point.y + this._d);\r\n\t\treturn point;\r\n\t},\r\n\r\n\tuntransform: function (point, scale) {\r\n\t\tscale = scale || 1;\r\n\t\treturn new L.Point(\r\n\t\t        (point.x / scale - this._b) / this._a,\r\n\t\t        (point.y / scale - this._d) / this._c);\r\n\t}\r\n};\r\n\n\n/*\r\n * L.DomUtil contains various utility functions for working with DOM.\r\n */\r\n\r\nL.DomUtil = {\r\n\tget: function (id) {\r\n\t\treturn (typeof id === 'string' ? document.getElementById(id) : id);\r\n\t},\r\n\r\n\tgetStyle: function (el, style) {\r\n\r\n\t\tvar value = el.style[style];\r\n\r\n\t\tif (!value && el.currentStyle) {\r\n\t\t\tvalue = el.currentStyle[style];\r\n\t\t}\r\n\r\n\t\tif ((!value || value === 'auto') && document.defaultView) {\r\n\t\t\tvar css = document.defaultView.getComputedStyle(el, null);\r\n\t\t\tvalue = css ? css[style] : null;\r\n\t\t}\r\n\r\n\t\treturn value === 'auto' ? null : value;\r\n\t},\r\n\r\n\tgetViewportOffset: function (element) {\r\n\r\n\t\tvar top = 0,\r\n\t\t    left = 0,\r\n\t\t    el = element,\r\n\t\t    docBody = document.body,\r\n\t\t    docEl = document.documentElement,\r\n\t\t    pos;\r\n\r\n\t\tdo {\r\n\t\t\ttop  += el.offsetTop  || 0;\r\n\t\t\tleft += el.offsetLeft || 0;\r\n\r\n\t\t\t//add borders\r\n\t\t\ttop += parseInt(L.DomUtil.getStyle(el, 'borderTopWidth'), 10) || 0;\r\n\t\t\tleft += parseInt(L.DomUtil.getStyle(el, 'borderLeftWidth'), 10) || 0;\r\n\r\n\t\t\tpos = L.DomUtil.getStyle(el, 'position');\r\n\r\n\t\t\tif (el.offsetParent === docBody && pos === 'absolute') { break; }\r\n\r\n\t\t\tif (pos === 'fixed') {\r\n\t\t\t\ttop  += docBody.scrollTop  || docEl.scrollTop  || 0;\r\n\t\t\t\tleft += docBody.scrollLeft || docEl.scrollLeft || 0;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tif (pos === 'relative' && !el.offsetLeft) {\r\n\t\t\t\tvar width = L.DomUtil.getStyle(el, 'width'),\r\n\t\t\t\t    maxWidth = L.DomUtil.getStyle(el, 'max-width'),\r\n\t\t\t\t    r = el.getBoundingClientRect();\r\n\r\n\t\t\t\tif (width !== 'none' || maxWidth !== 'none') {\r\n\t\t\t\t\tleft += r.left + el.clientLeft;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//calculate full y offset since we're breaking out of the loop\r\n\t\t\t\ttop += r.top + (docBody.scrollTop  || docEl.scrollTop  || 0);\r\n\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tel = el.offsetParent;\r\n\r\n\t\t} while (el);\r\n\r\n\t\tel = element;\r\n\r\n\t\tdo {\r\n\t\t\tif (el === docBody) { break; }\r\n\r\n\t\t\ttop  -= el.scrollTop  || 0;\r\n\t\t\tleft -= el.scrollLeft || 0;\r\n\r\n\t\t\tel = el.parentNode;\r\n\t\t} while (el);\r\n\r\n\t\treturn new L.Point(left, top);\r\n\t},\r\n\r\n\tdocumentIsLtr: function () {\r\n\t\tif (!L.DomUtil._docIsLtrCached) {\r\n\t\t\tL.DomUtil._docIsLtrCached = true;\r\n\t\t\tL.DomUtil._docIsLtr = L.DomUtil.getStyle(document.body, 'direction') === 'ltr';\r\n\t\t}\r\n\t\treturn L.DomUtil._docIsLtr;\r\n\t},\r\n\r\n\tcreate: function (tagName, className, container) {\r\n\r\n\t\tvar el = document.createElement(tagName);\r\n\t\tel.className = className;\r\n\r\n\t\tif (container) {\r\n\t\t\tcontainer.appendChild(el);\r\n\t\t}\r\n\r\n\t\treturn el;\r\n\t},\r\n\r\n\thasClass: function (el, name) {\r\n\t\tif (el.classList !== undefined) {\r\n\t\t\treturn el.classList.contains(name);\r\n\t\t}\r\n\t\tvar className = L.DomUtil._getClass(el);\r\n\t\treturn className.length > 0 && new RegExp('(^|\\\\s)' + name + '(\\\\s|$)').test(className);\r\n\t},\r\n\r\n\taddClass: function (el, name) {\r\n\t\tif (el.classList !== undefined) {\r\n\t\t\tvar classes = L.Util.splitWords(name);\r\n\t\t\tfor (var i = 0, len = classes.length; i < len; i++) {\r\n\t\t\t\tel.classList.add(classes[i]);\r\n\t\t\t}\r\n\t\t} else if (!L.DomUtil.hasClass(el, name)) {\r\n\t\t\tvar className = L.DomUtil._getClass(el);\r\n\t\t\tL.DomUtil._setClass(el, (className ? className + ' ' : '') + name);\r\n\t\t}\r\n\t},\r\n\r\n\tremoveClass: function (el, name) {\r\n\t\tif (el.classList !== undefined) {\r\n\t\t\tel.classList.remove(name);\r\n\t\t} else {\r\n\t\t\tL.DomUtil._setClass(el, L.Util.trim((' ' + L.DomUtil._getClass(el) + ' ').replace(' ' + name + ' ', ' ')));\r\n\t\t}\r\n\t},\r\n\r\n\t_setClass: function (el, name) {\r\n\t\tif (el.className.baseVal === undefined) {\r\n\t\t\tel.className = name;\r\n\t\t} else {\r\n\t\t\t// in case of SVG element\r\n\t\t\tel.className.baseVal = name;\r\n\t\t}\r\n\t},\r\n\r\n\t_getClass: function (el) {\r\n\t\treturn el.className.baseVal === undefined ? el.className : el.className.baseVal;\r\n\t},\r\n\r\n\tsetOpacity: function (el, value) {\r\n\r\n\t\tif ('opacity' in el.style) {\r\n\t\t\tel.style.opacity = value;\r\n\r\n\t\t} else if ('filter' in el.style) {\r\n\r\n\t\t\tvar filter = false,\r\n\t\t\t    filterName = 'DXImageTransform.Microsoft.Alpha';\r\n\r\n\t\t\t// filters collection throws an error if we try to retrieve a filter that doesn't exist\r\n\t\t\ttry {\r\n\t\t\t\tfilter = el.filters.item(filterName);\r\n\t\t\t} catch (e) {\r\n\t\t\t\t// don't set opacity to 1 if we haven't already set an opacity,\r\n\t\t\t\t// it isn't needed and breaks transparent pngs.\r\n\t\t\t\tif (value === 1) { return; }\r\n\t\t\t}\r\n\r\n\t\t\tvalue = Math.round(value * 100);\r\n\r\n\t\t\tif (filter) {\r\n\t\t\t\tfilter.Enabled = (value !== 100);\r\n\t\t\t\tfilter.Opacity = value;\r\n\t\t\t} else {\r\n\t\t\t\tel.style.filter += ' progid:' + filterName + '(opacity=' + value + ')';\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\ttestProp: function (props) {\r\n\r\n\t\tvar style = document.documentElement.style;\r\n\r\n\t\tfor (var i = 0; i < props.length; i++) {\r\n\t\t\tif (props[i] in style) {\r\n\t\t\t\treturn props[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\tgetTranslateString: function (point) {\r\n\t\t// on WebKit browsers (Chrome/Safari/iOS Safari/Android) using translate3d instead of translate\r\n\t\t// makes animation smoother as it ensures HW accel is used. Firefox 13 doesn't care\r\n\t\t// (same speed either way), Opera 12 doesn't support translate3d\r\n\r\n\t\tvar is3d = L.Browser.webkit3d,\r\n\t\t    open = 'translate' + (is3d ? '3d' : '') + '(',\r\n\t\t    close = (is3d ? ',0' : '') + ')';\r\n\r\n\t\treturn open + point.x + 'px,' + point.y + 'px' + close;\r\n\t},\r\n\r\n\tgetScaleString: function (scale, origin) {\r\n\r\n\t\tvar preTranslateStr = L.DomUtil.getTranslateString(origin.add(origin.multiplyBy(-1 * scale))),\r\n\t\t    scaleStr = ' scale(' + scale + ') ';\r\n\r\n\t\treturn preTranslateStr + scaleStr;\r\n\t},\r\n\r\n\tsetPosition: function (el, point, disable3D) { // (HTMLElement, Point[, Boolean])\r\n\r\n\t\t// jshint camelcase: false\r\n\t\tel._leaflet_pos = point;\r\n\r\n\t\tif (!disable3D && L.Browser.any3d) {\r\n\t\t\tel.style[L.DomUtil.TRANSFORM] =  L.DomUtil.getTranslateString(point);\r\n\t\t} else {\r\n\t\t\tel.style.left = point.x + 'px';\r\n\t\t\tel.style.top = point.y + 'px';\r\n\t\t}\r\n\t},\r\n\r\n\tgetPosition: function (el) {\r\n\t\t// this method is only used for elements previously positioned using setPosition,\r\n\t\t// so it's safe to cache the position for performance\r\n\r\n\t\t// jshint camelcase: false\r\n\t\treturn el._leaflet_pos;\r\n\t}\r\n};\r\n\r\n\r\n// prefix style property names\r\n\r\nL.DomUtil.TRANSFORM = L.DomUtil.testProp(\r\n        ['transform', 'WebkitTransform', 'OTransform', 'MozTransform', 'msTransform']);\r\n\r\n// webkitTransition comes first because some browser versions that drop vendor prefix don't do\r\n// the same for the transitionend event, in particular the Android 4.1 stock browser\r\n\r\nL.DomUtil.TRANSITION = L.DomUtil.testProp(\r\n        ['webkitTransition', 'transition', 'OTransition', 'MozTransition', 'msTransition']);\r\n\r\nL.DomUtil.TRANSITION_END =\r\n        L.DomUtil.TRANSITION === 'webkitTransition' || L.DomUtil.TRANSITION === 'OTransition' ?\r\n        L.DomUtil.TRANSITION + 'End' : 'transitionend';\r\n\r\n(function () {\r\n    if ('onselectstart' in document) {\r\n        L.extend(L.DomUtil, {\r\n            disableTextSelection: function () {\r\n                L.DomEvent.on(window, 'selectstart', L.DomEvent.preventDefault);\r\n            },\r\n\r\n            enableTextSelection: function () {\r\n                L.DomEvent.off(window, 'selectstart', L.DomEvent.preventDefault);\r\n            }\r\n        });\r\n    } else {\r\n        var userSelectProperty = L.DomUtil.testProp(\r\n            ['userSelect', 'WebkitUserSelect', 'OUserSelect', 'MozUserSelect', 'msUserSelect']);\r\n\r\n        L.extend(L.DomUtil, {\r\n            disableTextSelection: function () {\r\n                if (userSelectProperty) {\r\n                    var style = document.documentElement.style;\r\n                    this._userSelect = style[userSelectProperty];\r\n                    style[userSelectProperty] = 'none';\r\n                }\r\n            },\r\n\r\n            enableTextSelection: function () {\r\n                if (userSelectProperty) {\r\n                    document.documentElement.style[userSelectProperty] = this._userSelect;\r\n                    delete this._userSelect;\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n\tL.extend(L.DomUtil, {\r\n\t\tdisableImageDrag: function () {\r\n\t\t\tL.DomEvent.on(window, 'dragstart', L.DomEvent.preventDefault);\r\n\t\t},\r\n\r\n\t\tenableImageDrag: function () {\r\n\t\t\tL.DomEvent.off(window, 'dragstart', L.DomEvent.preventDefault);\r\n\t\t}\r\n\t});\r\n})();\r\n\n\n/*\r\n * L.LatLng represents a geographical point with latitude and longitude coordinates.\r\n */\r\n\r\nL.LatLng = function (lat, lng, alt) { // (Number, Number, Number)\r\n\tlat = parseFloat(lat);\r\n\tlng = parseFloat(lng);\r\n\r\n\tif (isNaN(lat) || isNaN(lng)) {\r\n\t\tthrow new Error('Invalid LatLng object: (' + lat + ', ' + lng + ')');\r\n\t}\r\n\r\n\tthis.lat = lat;\r\n\tthis.lng = lng;\r\n\r\n\tif (alt !== undefined) {\r\n\t\tthis.alt = parseFloat(alt);\r\n\t}\r\n};\r\n\r\nL.extend(L.LatLng, {\r\n\tDEG_TO_RAD: Math.PI / 180,\r\n\tRAD_TO_DEG: 180 / Math.PI,\r\n\tMAX_MARGIN: 1.0E-9 // max margin of error for the \"equals\" check\r\n});\r\n\r\nL.LatLng.prototype = {\r\n\tequals: function (obj) { // (LatLng) -> Boolean\r\n\t\tif (!obj) { return false; }\r\n\r\n\t\tobj = L.latLng(obj);\r\n\r\n\t\tvar margin = Math.max(\r\n\t\t        Math.abs(this.lat - obj.lat),\r\n\t\t        Math.abs(this.lng - obj.lng));\r\n\r\n\t\treturn margin <= L.LatLng.MAX_MARGIN;\r\n\t},\r\n\r\n\ttoString: function (precision) { // (Number) -> String\r\n\t\treturn 'LatLng(' +\r\n\t\t        L.Util.formatNum(this.lat, precision) + ', ' +\r\n\t\t        L.Util.formatNum(this.lng, precision) + ')';\r\n\t},\r\n\r\n\t// Haversine distance formula, see http://en.wikipedia.org/wiki/Haversine_formula\r\n\t// TODO move to projection code, LatLng shouldn't know about Earth\r\n\tdistanceTo: function (other) { // (LatLng) -> Number\r\n\t\tother = L.latLng(other);\r\n\r\n\t\tvar R = 6378137, // earth radius in meters\r\n\t\t    d2r = L.LatLng.DEG_TO_RAD,\r\n\t\t    dLat = (other.lat - this.lat) * d2r,\r\n\t\t    dLon = (other.lng - this.lng) * d2r,\r\n\t\t    lat1 = this.lat * d2r,\r\n\t\t    lat2 = other.lat * d2r,\r\n\t\t    sin1 = Math.sin(dLat / 2),\r\n\t\t    sin2 = Math.sin(dLon / 2);\r\n\r\n\t\tvar a = sin1 * sin1 + sin2 * sin2 * Math.cos(lat1) * Math.cos(lat2);\r\n\r\n\t\treturn R * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n\t},\r\n\r\n\twrap: function (a, b) { // (Number, Number) -> LatLng\r\n\t\tvar lng = this.lng;\r\n\r\n\t\ta = a || -180;\r\n\t\tb = b ||  180;\r\n\r\n\t\tlng = (lng + b) % (b - a) + (lng < a || lng === b ? b : a);\r\n\r\n\t\treturn new L.LatLng(this.lat, lng);\r\n\t}\r\n};\r\n\r\nL.latLng = function (a, b) { // (LatLng) or ([Number, Number]) or (Number, Number)\r\n\tif (a instanceof L.LatLng) {\r\n\t\treturn a;\r\n\t}\r\n\tif (L.Util.isArray(a)) {\r\n\t\tif (typeof a[0] === 'number' || typeof a[0] === 'string') {\r\n\t\t\treturn new L.LatLng(a[0], a[1], a[2]);\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\tif (a === undefined || a === null) {\r\n\t\treturn a;\r\n\t}\r\n\tif (typeof a === 'object' && 'lat' in a) {\r\n\t\treturn new L.LatLng(a.lat, 'lng' in a ? a.lng : a.lon);\r\n\t}\r\n\tif (b === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\treturn new L.LatLng(a, b);\r\n};\r\n\r\n\n\n/*\r\n * L.LatLngBounds represents a rectangular area on the map in geographical coordinates.\r\n */\r\n\r\nL.LatLngBounds = function (southWest, northEast) { // (LatLng, LatLng) or (LatLng[])\r\n\tif (!southWest) { return; }\r\n\r\n\tvar latlngs = northEast ? [southWest, northEast] : southWest;\r\n\r\n\tfor (var i = 0, len = latlngs.length; i < len; i++) {\r\n\t\tthis.extend(latlngs[i]);\r\n\t}\r\n};\r\n\r\nL.LatLngBounds.prototype = {\r\n\t// extend the bounds to contain the given point or bounds\r\n\textend: function (obj) { // (LatLng) or (LatLngBounds)\r\n\t\tif (!obj) { return this; }\r\n\r\n\t\tvar latLng = L.latLng(obj);\r\n\t\tif (latLng !== null) {\r\n\t\t\tobj = latLng;\r\n\t\t} else {\r\n\t\t\tobj = L.latLngBounds(obj);\r\n\t\t}\r\n\r\n\t\tif (obj instanceof L.LatLng) {\r\n\t\t\tif (!this._southWest && !this._northEast) {\r\n\t\t\t\tthis._southWest = new L.LatLng(obj.lat, obj.lng);\r\n\t\t\t\tthis._northEast = new L.LatLng(obj.lat, obj.lng);\r\n\t\t\t} else {\r\n\t\t\t\tthis._southWest.lat = Math.min(obj.lat, this._southWest.lat);\r\n\t\t\t\tthis._southWest.lng = Math.min(obj.lng, this._southWest.lng);\r\n\r\n\t\t\t\tthis._northEast.lat = Math.max(obj.lat, this._northEast.lat);\r\n\t\t\t\tthis._northEast.lng = Math.max(obj.lng, this._northEast.lng);\r\n\t\t\t}\r\n\t\t} else if (obj instanceof L.LatLngBounds) {\r\n\t\t\tthis.extend(obj._southWest);\r\n\t\t\tthis.extend(obj._northEast);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// extend the bounds by a percentage\r\n\tpad: function (bufferRatio) { // (Number) -> LatLngBounds\r\n\t\tvar sw = this._southWest,\r\n\t\t    ne = this._northEast,\r\n\t\t    heightBuffer = Math.abs(sw.lat - ne.lat) * bufferRatio,\r\n\t\t    widthBuffer = Math.abs(sw.lng - ne.lng) * bufferRatio;\r\n\r\n\t\treturn new L.LatLngBounds(\r\n\t\t        new L.LatLng(sw.lat - heightBuffer, sw.lng - widthBuffer),\r\n\t\t        new L.LatLng(ne.lat + heightBuffer, ne.lng + widthBuffer));\r\n\t},\r\n\r\n\tgetCenter: function () { // -> LatLng\r\n\t\treturn new L.LatLng(\r\n\t\t        (this._southWest.lat + this._northEast.lat) / 2,\r\n\t\t        (this._southWest.lng + this._northEast.lng) / 2);\r\n\t},\r\n\r\n\tgetSouthWest: function () {\r\n\t\treturn this._southWest;\r\n\t},\r\n\r\n\tgetNorthEast: function () {\r\n\t\treturn this._northEast;\r\n\t},\r\n\r\n\tgetNorthWest: function () {\r\n\t\treturn new L.LatLng(this.getNorth(), this.getWest());\r\n\t},\r\n\r\n\tgetSouthEast: function () {\r\n\t\treturn new L.LatLng(this.getSouth(), this.getEast());\r\n\t},\r\n\r\n\tgetWest: function () {\r\n\t\treturn this._southWest.lng;\r\n\t},\r\n\r\n\tgetSouth: function () {\r\n\t\treturn this._southWest.lat;\r\n\t},\r\n\r\n\tgetEast: function () {\r\n\t\treturn this._northEast.lng;\r\n\t},\r\n\r\n\tgetNorth: function () {\r\n\t\treturn this._northEast.lat;\r\n\t},\r\n\r\n\tcontains: function (obj) { // (LatLngBounds) or (LatLng) -> Boolean\r\n\t\tif (typeof obj[0] === 'number' || obj instanceof L.LatLng) {\r\n\t\t\tobj = L.latLng(obj);\r\n\t\t} else {\r\n\t\t\tobj = L.latLngBounds(obj);\r\n\t\t}\r\n\r\n\t\tvar sw = this._southWest,\r\n\t\t    ne = this._northEast,\r\n\t\t    sw2, ne2;\r\n\r\n\t\tif (obj instanceof L.LatLngBounds) {\r\n\t\t\tsw2 = obj.getSouthWest();\r\n\t\t\tne2 = obj.getNorthEast();\r\n\t\t} else {\r\n\t\t\tsw2 = ne2 = obj;\r\n\t\t}\r\n\r\n\t\treturn (sw2.lat >= sw.lat) && (ne2.lat <= ne.lat) &&\r\n\t\t       (sw2.lng >= sw.lng) && (ne2.lng <= ne.lng);\r\n\t},\r\n\r\n\tintersects: function (bounds) { // (LatLngBounds)\r\n\t\tbounds = L.latLngBounds(bounds);\r\n\r\n\t\tvar sw = this._southWest,\r\n\t\t    ne = this._northEast,\r\n\t\t    sw2 = bounds.getSouthWest(),\r\n\t\t    ne2 = bounds.getNorthEast(),\r\n\r\n\t\t    latIntersects = (ne2.lat >= sw.lat) && (sw2.lat <= ne.lat),\r\n\t\t    lngIntersects = (ne2.lng >= sw.lng) && (sw2.lng <= ne.lng);\r\n\r\n\t\treturn latIntersects && lngIntersects;\r\n\t},\r\n\r\n\ttoBBoxString: function () {\r\n\t\treturn [this.getWest(), this.getSouth(), this.getEast(), this.getNorth()].join(',');\r\n\t},\r\n\r\n\tequals: function (bounds) { // (LatLngBounds)\r\n\t\tif (!bounds) { return false; }\r\n\r\n\t\tbounds = L.latLngBounds(bounds);\r\n\r\n\t\treturn this._southWest.equals(bounds.getSouthWest()) &&\r\n\t\t       this._northEast.equals(bounds.getNorthEast());\r\n\t},\r\n\r\n\tisValid: function () {\r\n\t\treturn !!(this._southWest && this._northEast);\r\n\t}\r\n};\r\n\r\n//TODO International date line?\r\n\r\nL.latLngBounds = function (a, b) { // (LatLngBounds) or (LatLng, LatLng)\r\n\tif (!a || a instanceof L.LatLngBounds) {\r\n\t\treturn a;\r\n\t}\r\n\treturn new L.LatLngBounds(a, b);\r\n};\r\n\n\n/*\r\n * L.Projection contains various geographical projections used by CRS classes.\r\n */\r\n\r\nL.Projection = {};\r\n\n\n/*\r\n * Spherical Mercator is the most popular map projection, used by EPSG:3857 CRS used by default.\r\n */\r\n\r\nL.Projection.SphericalMercator = {\r\n\tMAX_LATITUDE: 85.0511287798,\r\n\r\n\tproject: function (latlng) { // (LatLng) -> Point\r\n\t\tvar d = L.LatLng.DEG_TO_RAD,\r\n\t\t    max = this.MAX_LATITUDE,\r\n\t\t    lat = Math.max(Math.min(max, latlng.lat), -max),\r\n\t\t    x = latlng.lng * d,\r\n\t\t    y = lat * d;\r\n\r\n\t\ty = Math.log(Math.tan((Math.PI / 4) + (y / 2)));\r\n\r\n\t\treturn new L.Point(x, y);\r\n\t},\r\n\r\n\tunproject: function (point) { // (Point, Boolean) -> LatLng\r\n\t\tvar d = L.LatLng.RAD_TO_DEG,\r\n\t\t    lng = point.x * d,\r\n\t\t    lat = (2 * Math.atan(Math.exp(point.y)) - (Math.PI / 2)) * d;\r\n\r\n\t\treturn new L.LatLng(lat, lng);\r\n\t}\r\n};\r\n\n\n/*\r\n * Simple equirectangular (Plate Carree) projection, used by CRS like EPSG:4326 and Simple.\r\n */\r\n\r\nL.Projection.LonLat = {\r\n\tproject: function (latlng) {\r\n\t\treturn new L.Point(latlng.lng, latlng.lat);\r\n\t},\r\n\r\n\tunproject: function (point) {\r\n\t\treturn new L.LatLng(point.y, point.x);\r\n\t}\r\n};\r\n\n\n/*\r\n * L.CRS is a base object for all defined CRS (Coordinate Reference Systems) in Leaflet.\r\n */\r\n\r\nL.CRS = {\r\n\tlatLngToPoint: function (latlng, zoom) { // (LatLng, Number) -> Point\r\n\t\tvar projectedPoint = this.projection.project(latlng),\r\n\t\t    scale = this.scale(zoom);\r\n\r\n\t\treturn this.transformation._transform(projectedPoint, scale);\r\n\t},\r\n\r\n\tpointToLatLng: function (point, zoom) { // (Point, Number[, Boolean]) -> LatLng\r\n\t\tvar scale = this.scale(zoom),\r\n\t\t    untransformedPoint = this.transformation.untransform(point, scale);\r\n\r\n\t\treturn this.projection.unproject(untransformedPoint);\r\n\t},\r\n\r\n\tproject: function (latlng) {\r\n\t\treturn this.projection.project(latlng);\r\n\t},\r\n\r\n\tscale: function (zoom) {\r\n\t\treturn 256 * Math.pow(2, zoom);\r\n\t},\r\n\r\n\tgetSize: function (zoom) {\r\n\t\tvar s = this.scale(zoom);\r\n\t\treturn L.point(s, s);\r\n\t}\r\n};\r\n\n\n/*\n * A simple CRS that can be used for flat non-Earth maps like panoramas or game maps.\n */\n\nL.CRS.Simple = L.extend({}, L.CRS, {\n\tprojection: L.Projection.LonLat,\n\ttransformation: new L.Transformation(1, 0, -1, 0),\n\n\tscale: function (zoom) {\n\t\treturn Math.pow(2, zoom);\n\t}\n});\n\n\n/*\r\n * L.CRS.EPSG3857 (Spherical Mercator) is the most common CRS for web mapping\r\n * and is used by Leaflet by default.\r\n */\r\n\r\nL.CRS.EPSG3857 = L.extend({}, L.CRS, {\r\n\tcode: 'EPSG:3857',\r\n\r\n\tprojection: L.Projection.SphericalMercator,\r\n\ttransformation: new L.Transformation(0.5 / Math.PI, 0.5, -0.5 / Math.PI, 0.5),\r\n\r\n\tproject: function (latlng) { // (LatLng) -> Point\r\n\t\tvar projectedPoint = this.projection.project(latlng),\r\n\t\t    earthRadius = 6378137;\r\n\t\treturn projectedPoint.multiplyBy(earthRadius);\r\n\t}\r\n});\r\n\r\nL.CRS.EPSG900913 = L.extend({}, L.CRS.EPSG3857, {\r\n\tcode: 'EPSG:900913'\r\n});\r\n\n\n/*\r\n * L.CRS.EPSG4326 is a CRS popular among advanced GIS specialists.\r\n */\r\n\r\nL.CRS.EPSG4326 = L.extend({}, L.CRS, {\r\n\tcode: 'EPSG:4326',\r\n\r\n\tprojection: L.Projection.LonLat,\r\n\ttransformation: new L.Transformation(1 / 360, 0.5, -1 / 360, 0.5)\r\n});\r\n\n\n/*\r\n * L.Map is the central class of the API - it is used to create a map.\r\n */\r\n\r\nL.Map = L.Class.extend({\r\n\r\n\tincludes: L.Mixin.Events,\r\n\r\n\toptions: {\r\n\t\tcrs: L.CRS.EPSG3857,\r\n\r\n\t\t/*\r\n\t\tcenter: LatLng,\r\n\t\tzoom: Number,\r\n\t\tlayers: Array,\r\n\t\t*/\r\n\r\n\t\tfadeAnimation: L.DomUtil.TRANSITION && !L.Browser.android23,\r\n\t\ttrackResize: true,\r\n\t\tmarkerZoomAnimation: L.DomUtil.TRANSITION && L.Browser.any3d\r\n\t},\r\n\r\n\tinitialize: function (id, options) { // (HTMLElement or String, Object)\r\n\t\toptions = L.setOptions(this, options);\r\n\r\n\r\n\t\tthis._initContainer(id);\r\n\t\tthis._initLayout();\r\n\r\n\t\t// hack for https://github.com/Leaflet/Leaflet/issues/1980\r\n\t\tthis._onResize = L.bind(this._onResize, this);\r\n\r\n\t\tthis._initEvents();\r\n\r\n\t\tif (options.maxBounds) {\r\n\t\t\tthis.setMaxBounds(options.maxBounds);\r\n\t\t}\r\n\r\n\t\tif (options.center && options.zoom !== undefined) {\r\n\t\t\tthis.setView(L.latLng(options.center), options.zoom, {reset: true});\r\n\t\t}\r\n\r\n\t\tthis._handlers = [];\r\n\r\n\t\tthis._layers = {};\r\n\t\tthis._zoomBoundLayers = {};\r\n\t\tthis._tileLayersNum = 0;\r\n\r\n\t\tthis.callInitHooks();\r\n\r\n\t\tthis._addLayers(options.layers);\r\n\t},\r\n\r\n\r\n\t// public methods that modify map state\r\n\r\n\t// replaced by animation-powered implementation in Map.PanAnimation.js\r\n\tsetView: function (center, zoom) {\r\n\t\tzoom = zoom === undefined ? this.getZoom() : zoom;\r\n\t\tthis._resetView(L.latLng(center), this._limitZoom(zoom));\r\n\t\treturn this;\r\n\t},\r\n\r\n\tsetZoom: function (zoom, options) {\r\n\t\tif (!this._loaded) {\r\n\t\t\tthis._zoom = this._limitZoom(zoom);\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\treturn this.setView(this.getCenter(), zoom, {zoom: options});\r\n\t},\r\n\r\n\tzoomIn: function (delta, options) {\r\n\t\treturn this.setZoom(this._zoom + (delta || 1), options);\r\n\t},\r\n\r\n\tzoomOut: function (delta, options) {\r\n\t\treturn this.setZoom(this._zoom - (delta || 1), options);\r\n\t},\r\n\r\n\tsetZoomAround: function (latlng, zoom, options) {\r\n\t\tvar scale = this.getZoomScale(zoom),\r\n\t\t    viewHalf = this.getSize().divideBy(2),\r\n\t\t    containerPoint = latlng instanceof L.Point ? latlng : this.latLngToContainerPoint(latlng),\r\n\r\n\t\t    centerOffset = containerPoint.subtract(viewHalf).multiplyBy(1 - 1 / scale),\r\n\t\t    newCenter = this.containerPointToLatLng(viewHalf.add(centerOffset));\r\n\r\n\t\treturn this.setView(newCenter, zoom, {zoom: options});\r\n\t},\r\n\r\n\tfitBounds: function (bounds, options) {\r\n\r\n\t\toptions = options || {};\r\n\t\tbounds = bounds.getBounds ? bounds.getBounds() : L.latLngBounds(bounds);\r\n\r\n\t\tvar paddingTL = L.point(options.paddingTopLeft || options.padding || [0, 0]),\r\n\t\t    paddingBR = L.point(options.paddingBottomRight || options.padding || [0, 0]),\r\n\r\n\t\t    zoom = this.getBoundsZoom(bounds, false, paddingTL.add(paddingBR));\r\n\r\n\t\tzoom = (options.maxZoom) ? Math.min(options.maxZoom, zoom) : zoom;\r\n\r\n\t\tvar paddingOffset = paddingBR.subtract(paddingTL).divideBy(2),\r\n\r\n\t\t    swPoint = this.project(bounds.getSouthWest(), zoom),\r\n\t\t    nePoint = this.project(bounds.getNorthEast(), zoom),\r\n\t\t    center = this.unproject(swPoint.add(nePoint).divideBy(2).add(paddingOffset), zoom);\r\n\r\n\t\treturn this.setView(center, zoom, options);\r\n\t},\r\n\r\n\tfitWorld: function (options) {\r\n\t\treturn this.fitBounds([[-90, -180], [90, 180]], options);\r\n\t},\r\n\r\n\tpanTo: function (center, options) { // (LatLng)\r\n\t\treturn this.setView(center, this._zoom, {pan: options});\r\n\t},\r\n\r\n\tpanBy: function (offset) { // (Point)\r\n\t\t// replaced with animated panBy in Map.PanAnimation.js\r\n\t\tthis.fire('movestart');\r\n\r\n\t\tthis._rawPanBy(L.point(offset));\r\n\r\n\t\tthis.fire('move');\r\n\t\treturn this.fire('moveend');\r\n\t},\r\n\r\n\tsetMaxBounds: function (bounds) {\r\n\t\tbounds = L.latLngBounds(bounds);\r\n\r\n\t\tthis.options.maxBounds = bounds;\r\n\r\n\t\tif (!bounds) {\r\n\t\t\treturn this.off('moveend', this._panInsideMaxBounds, this);\r\n\t\t}\r\n\r\n\t\tif (this._loaded) {\r\n\t\t\tthis._panInsideMaxBounds();\r\n\t\t}\r\n\r\n\t\treturn this.on('moveend', this._panInsideMaxBounds, this);\r\n\t},\r\n\r\n\tpanInsideBounds: function (bounds, options) {\r\n\t\tvar center = this.getCenter(),\r\n\t\t\tnewCenter = this._limitCenter(center, this._zoom, bounds);\r\n\r\n\t\tif (center.equals(newCenter)) { return this; }\r\n\r\n\t\treturn this.panTo(newCenter, options);\r\n\t},\r\n\r\n\taddLayer: function (layer) {\r\n\t\t// TODO method is too big, refactor\r\n\r\n\t\tvar id = L.stamp(layer);\r\n\r\n\t\tif (this._layers[id]) { return this; }\r\n\r\n\t\tthis._layers[id] = layer;\r\n\r\n\t\t// TODO getMaxZoom, getMinZoom in ILayer (instead of options)\r\n\t\tif (layer.options && (!isNaN(layer.options.maxZoom) || !isNaN(layer.options.minZoom))) {\r\n\t\t\tthis._zoomBoundLayers[id] = layer;\r\n\t\t\tthis._updateZoomLevels();\r\n\t\t}\r\n\r\n\t\t// TODO looks ugly, refactor!!!\r\n\t\tif (this.options.zoomAnimation && L.TileLayer && (layer instanceof L.TileLayer)) {\r\n\t\t\tthis._tileLayersNum++;\r\n\t\t\tthis._tileLayersToLoad++;\r\n\t\t\tlayer.on('load', this._onTileLayerLoad, this);\r\n\t\t}\r\n\r\n\t\tif (this._loaded) {\r\n\t\t\tthis._layerAdd(layer);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tremoveLayer: function (layer) {\r\n\t\tvar id = L.stamp(layer);\r\n\r\n\t\tif (!this._layers[id]) { return this; }\r\n\r\n\t\tif (this._loaded) {\r\n\t\t\tlayer.onRemove(this);\r\n\t\t}\r\n\r\n\t\tdelete this._layers[id];\r\n\r\n\t\tif (this._loaded) {\r\n\t\t\tthis.fire('layerremove', {layer: layer});\r\n\t\t}\r\n\r\n\t\tif (this._zoomBoundLayers[id]) {\r\n\t\t\tdelete this._zoomBoundLayers[id];\r\n\t\t\tthis._updateZoomLevels();\r\n\t\t}\r\n\r\n\t\t// TODO looks ugly, refactor\r\n\t\tif (this.options.zoomAnimation && L.TileLayer && (layer instanceof L.TileLayer)) {\r\n\t\t\tthis._tileLayersNum--;\r\n\t\t\tthis._tileLayersToLoad--;\r\n\t\t\tlayer.off('load', this._onTileLayerLoad, this);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\thasLayer: function (layer) {\r\n\t\tif (!layer) { return false; }\r\n\r\n\t\treturn (L.stamp(layer) in this._layers);\r\n\t},\r\n\r\n\teachLayer: function (method, context) {\r\n\t\tfor (var i in this._layers) {\r\n\t\t\tmethod.call(context, this._layers[i]);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\tinvalidateSize: function (options) {\r\n\t\tif (!this._loaded) { return this; }\r\n\r\n\t\toptions = L.extend({\r\n\t\t\tanimate: false,\r\n\t\t\tpan: true\r\n\t\t}, options === true ? {animate: true} : options);\r\n\r\n\t\tvar oldSize = this.getSize();\r\n\t\tthis._sizeChanged = true;\r\n\t\tthis._initialCenter = null;\r\n\r\n\t\tvar newSize = this.getSize(),\r\n\t\t    oldCenter = oldSize.divideBy(2).round(),\r\n\t\t    newCenter = newSize.divideBy(2).round(),\r\n\t\t    offset = oldCenter.subtract(newCenter);\r\n\r\n\t\tif (!offset.x && !offset.y) { return this; }\r\n\r\n\t\tif (options.animate && options.pan) {\r\n\t\t\tthis.panBy(offset);\r\n\r\n\t\t} else {\r\n\t\t\tif (options.pan) {\r\n\t\t\t\tthis._rawPanBy(offset);\r\n\t\t\t}\r\n\r\n\t\t\tthis.fire('move');\r\n\r\n\t\t\tif (options.debounceMoveend) {\r\n\t\t\t\tclearTimeout(this._sizeTimer);\r\n\t\t\t\tthis._sizeTimer = setTimeout(L.bind(this.fire, this, 'moveend'), 200);\r\n\t\t\t} else {\r\n\t\t\t\tthis.fire('moveend');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this.fire('resize', {\r\n\t\t\toldSize: oldSize,\r\n\t\t\tnewSize: newSize\r\n\t\t});\r\n\t},\r\n\r\n\t// TODO handler.addTo\r\n\taddHandler: function (name, HandlerClass) {\r\n\t\tif (!HandlerClass) { return this; }\r\n\r\n\t\tvar handler = this[name] = new HandlerClass(this);\r\n\r\n\t\tthis._handlers.push(handler);\r\n\r\n\t\tif (this.options[name]) {\r\n\t\t\thandler.enable();\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tremove: function () {\r\n\t\tif (this._loaded) {\r\n\t\t\tthis.fire('unload');\r\n\t\t}\r\n\r\n\t\tthis._initEvents('off');\r\n\r\n\t\ttry {\r\n\t\t\t// throws error in IE6-8\r\n\t\t\tdelete this._container._leaflet;\r\n\t\t} catch (e) {\r\n\t\t\tthis._container._leaflet = undefined;\r\n\t\t}\r\n\r\n\t\tthis._clearPanes();\r\n\t\tif (this._clearControlPos) {\r\n\t\t\tthis._clearControlPos();\r\n\t\t}\r\n\r\n\t\tthis._clearHandlers();\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\r\n\t// public methods for getting map state\r\n\r\n\tgetCenter: function () { // (Boolean) -> LatLng\r\n\t\tthis._checkIfLoaded();\r\n\r\n\t\tif (this._initialCenter && !this._moved()) {\r\n\t\t\treturn this._initialCenter;\r\n\t\t}\r\n\t\treturn this.layerPointToLatLng(this._getCenterLayerPoint());\r\n\t},\r\n\r\n\tgetZoom: function () {\r\n\t\treturn this._zoom;\r\n\t},\r\n\r\n\tgetBounds: function () {\r\n\t\tvar bounds = this.getPixelBounds(),\r\n\t\t    sw = this.unproject(bounds.getBottomLeft()),\r\n\t\t    ne = this.unproject(bounds.getTopRight());\r\n\r\n\t\treturn new L.LatLngBounds(sw, ne);\r\n\t},\r\n\r\n\tgetMinZoom: function () {\r\n\t\treturn this.options.minZoom === undefined ?\r\n\t\t\t(this._layersMinZoom === undefined ? 0 : this._layersMinZoom) :\r\n\t\t\tthis.options.minZoom;\r\n\t},\r\n\r\n\tgetMaxZoom: function () {\r\n\t\treturn this.options.maxZoom === undefined ?\r\n\t\t\t(this._layersMaxZoom === undefined ? Infinity : this._layersMaxZoom) :\r\n\t\t\tthis.options.maxZoom;\r\n\t},\r\n\r\n\tgetBoundsZoom: function (bounds, inside, padding) { // (LatLngBounds[, Boolean, Point]) -> Number\r\n\t\tbounds = L.latLngBounds(bounds);\r\n\r\n\t\tvar zoom = this.getMinZoom() - (inside ? 1 : 0),\r\n\t\t    maxZoom = this.getMaxZoom(),\r\n\t\t    size = this.getSize(),\r\n\r\n\t\t    nw = bounds.getNorthWest(),\r\n\t\t    se = bounds.getSouthEast(),\r\n\r\n\t\t    zoomNotFound = true,\r\n\t\t    boundsSize;\r\n\r\n\t\tpadding = L.point(padding || [0, 0]);\r\n\r\n\t\tdo {\r\n\t\t\tzoom++;\r\n\t\t\tboundsSize = this.project(se, zoom).subtract(this.project(nw, zoom)).add(padding);\r\n\t\t\tzoomNotFound = !inside ? size.contains(boundsSize) : boundsSize.x < size.x || boundsSize.y < size.y;\r\n\r\n\t\t} while (zoomNotFound && zoom <= maxZoom);\r\n\r\n\t\tif (zoomNotFound && inside) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn inside ? zoom : zoom - 1;\r\n\t},\r\n\r\n\tgetSize: function () {\r\n\t\tif (!this._size || this._sizeChanged) {\r\n\t\t\tthis._size = new L.Point(\r\n\t\t\t\tthis._container.clientWidth,\r\n\t\t\t\tthis._container.clientHeight);\r\n\r\n\t\t\tthis._sizeChanged = false;\r\n\t\t}\r\n\t\treturn this._size.clone();\r\n\t},\r\n\r\n\tgetPixelBounds: function () {\r\n\t\tvar topLeftPoint = this._getTopLeftPoint();\r\n\t\treturn new L.Bounds(topLeftPoint, topLeftPoint.add(this.getSize()));\r\n\t},\r\n\r\n\tgetPixelOrigin: function () {\r\n\t\tthis._checkIfLoaded();\r\n\t\treturn this._initialTopLeftPoint;\r\n\t},\r\n\r\n\tgetPanes: function () {\r\n\t\treturn this._panes;\r\n\t},\r\n\r\n\tgetContainer: function () {\r\n\t\treturn this._container;\r\n\t},\r\n\r\n\r\n\t// TODO replace with universal implementation after refactoring projections\r\n\r\n\tgetZoomScale: function (toZoom) {\r\n\t\tvar crs = this.options.crs;\r\n\t\treturn crs.scale(toZoom) / crs.scale(this._zoom);\r\n\t},\r\n\r\n\tgetScaleZoom: function (scale) {\r\n\t\treturn this._zoom + (Math.log(scale) / Math.LN2);\r\n\t},\r\n\r\n\r\n\t// conversion methods\r\n\r\n\tproject: function (latlng, zoom) { // (LatLng[, Number]) -> Point\r\n\t\tzoom = zoom === undefined ? this._zoom : zoom;\r\n\t\treturn this.options.crs.latLngToPoint(L.latLng(latlng), zoom);\r\n\t},\r\n\r\n\tunproject: function (point, zoom) { // (Point[, Number]) -> LatLng\r\n\t\tzoom = zoom === undefined ? this._zoom : zoom;\r\n\t\treturn this.options.crs.pointToLatLng(L.point(point), zoom);\r\n\t},\r\n\r\n\tlayerPointToLatLng: function (point) { // (Point)\r\n\t\tvar projectedPoint = L.point(point).add(this.getPixelOrigin());\r\n\t\treturn this.unproject(projectedPoint);\r\n\t},\r\n\r\n\tlatLngToLayerPoint: function (latlng) { // (LatLng)\r\n\t\tvar projectedPoint = this.project(L.latLng(latlng))._round();\r\n\t\treturn projectedPoint._subtract(this.getPixelOrigin());\r\n\t},\r\n\r\n\tcontainerPointToLayerPoint: function (point) { // (Point)\r\n\t\treturn L.point(point).subtract(this._getMapPanePos());\r\n\t},\r\n\r\n\tlayerPointToContainerPoint: function (point) { // (Point)\r\n\t\treturn L.point(point).add(this._getMapPanePos());\r\n\t},\r\n\r\n\tcontainerPointToLatLng: function (point) {\r\n\t\tvar layerPoint = this.containerPointToLayerPoint(L.point(point));\r\n\t\treturn this.layerPointToLatLng(layerPoint);\r\n\t},\r\n\r\n\tlatLngToContainerPoint: function (latlng) {\r\n\t\treturn this.layerPointToContainerPoint(this.latLngToLayerPoint(L.latLng(latlng)));\r\n\t},\r\n\r\n\tmouseEventToContainerPoint: function (e) { // (MouseEvent)\r\n\t\treturn L.DomEvent.getMousePosition(e, this._container);\r\n\t},\r\n\r\n\tmouseEventToLayerPoint: function (e) { // (MouseEvent)\r\n\t\treturn this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e));\r\n\t},\r\n\r\n\tmouseEventToLatLng: function (e) { // (MouseEvent)\r\n\t\treturn this.layerPointToLatLng(this.mouseEventToLayerPoint(e));\r\n\t},\r\n\r\n\r\n\t// map initialization methods\r\n\r\n\t_initContainer: function (id) {\r\n\t\tvar container = this._container = L.DomUtil.get(id);\r\n\r\n\t\tif (!container) {\r\n\t\t\tthrow new Error('Map container not found.');\r\n\t\t} else if (container._leaflet) {\r\n\t\t\tthrow new Error('Map container is already initialized.');\r\n\t\t}\r\n\r\n\t\tcontainer._leaflet = true;\r\n\t},\r\n\r\n\t_initLayout: function () {\r\n\t\tvar container = this._container;\r\n\r\n\t\tL.DomUtil.addClass(container, 'leaflet-container' +\r\n\t\t\t(L.Browser.touch ? ' leaflet-touch' : '') +\r\n\t\t\t(L.Browser.retina ? ' leaflet-retina' : '') +\r\n\t\t\t(L.Browser.ielt9 ? ' leaflet-oldie' : '') +\r\n\t\t\t(this.options.fadeAnimation ? ' leaflet-fade-anim' : ''));\r\n\r\n\t\tvar position = L.DomUtil.getStyle(container, 'position');\r\n\r\n\t\tif (position !== 'absolute' && position !== 'relative' && position !== 'fixed') {\r\n\t\t\tcontainer.style.position = 'relative';\r\n\t\t}\r\n\r\n\t\tthis._initPanes();\r\n\r\n\t\tif (this._initControlPos) {\r\n\t\t\tthis._initControlPos();\r\n\t\t}\r\n\t},\r\n\r\n\t_initPanes: function () {\r\n\t\tvar panes = this._panes = {};\r\n\r\n\t\tthis._mapPane = panes.mapPane = this._createPane('leaflet-map-pane', this._container);\r\n\r\n\t\tthis._tilePane = panes.tilePane = this._createPane('leaflet-tile-pane', this._mapPane);\r\n\t\tpanes.objectsPane = this._createPane('leaflet-objects-pane', this._mapPane);\r\n\t\tpanes.shadowPane = this._createPane('leaflet-shadow-pane');\r\n\t\tpanes.overlayPane = this._createPane('leaflet-overlay-pane');\r\n\t\tpanes.markerPane = this._createPane('leaflet-marker-pane');\r\n\t\tpanes.popupPane = this._createPane('leaflet-popup-pane');\r\n\r\n\t\tvar zoomHide = ' leaflet-zoom-hide';\r\n\r\n\t\tif (!this.options.markerZoomAnimation) {\r\n\t\t\tL.DomUtil.addClass(panes.markerPane, zoomHide);\r\n\t\t\tL.DomUtil.addClass(panes.shadowPane, zoomHide);\r\n\t\t\tL.DomUtil.addClass(panes.popupPane, zoomHide);\r\n\t\t}\r\n\t},\r\n\r\n\t_createPane: function (className, container) {\r\n\t\treturn L.DomUtil.create('div', className, container || this._panes.objectsPane);\r\n\t},\r\n\r\n\t_clearPanes: function () {\r\n\t\tthis._container.removeChild(this._mapPane);\r\n\t},\r\n\r\n\t_addLayers: function (layers) {\r\n\t\tlayers = layers ? (L.Util.isArray(layers) ? layers : [layers]) : [];\r\n\r\n\t\tfor (var i = 0, len = layers.length; i < len; i++) {\r\n\t\t\tthis.addLayer(layers[i]);\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t// private methods that modify map state\r\n\r\n\t_resetView: function (center, zoom, preserveMapOffset, afterZoomAnim) {\r\n\r\n\t\tvar zoomChanged = (this._zoom !== zoom);\r\n\r\n\t\tif (!afterZoomAnim) {\r\n\t\t\tthis.fire('movestart');\r\n\r\n\t\t\tif (zoomChanged) {\r\n\t\t\t\tthis.fire('zoomstart');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis._zoom = zoom;\r\n\t\tthis._initialCenter = center;\r\n\r\n\t\tthis._initialTopLeftPoint = this._getNewTopLeftPoint(center);\r\n\r\n\t\tif (!preserveMapOffset) {\r\n\t\t\tL.DomUtil.setPosition(this._mapPane, new L.Point(0, 0));\r\n\t\t} else {\r\n\t\t\tthis._initialTopLeftPoint._add(this._getMapPanePos());\r\n\t\t}\r\n\r\n\t\tthis._tileLayersToLoad = this._tileLayersNum;\r\n\r\n\t\tvar loading = !this._loaded;\r\n\t\tthis._loaded = true;\r\n\r\n\t\tthis.fire('viewreset', {hard: !preserveMapOffset});\r\n\r\n\t\tif (loading) {\r\n\t\t\tthis.fire('load');\r\n\t\t\tthis.eachLayer(this._layerAdd, this);\r\n\t\t}\r\n\r\n\t\tthis.fire('move');\r\n\r\n\t\tif (zoomChanged || afterZoomAnim) {\r\n\t\t\tthis.fire('zoomend');\r\n\t\t}\r\n\r\n\t\tthis.fire('moveend', {hard: !preserveMapOffset});\r\n\t},\r\n\r\n\t_rawPanBy: function (offset) {\r\n\t\tL.DomUtil.setPosition(this._mapPane, this._getMapPanePos().subtract(offset));\r\n\t},\r\n\r\n\t_getZoomSpan: function () {\r\n\t\treturn this.getMaxZoom() - this.getMinZoom();\r\n\t},\r\n\r\n\t_updateZoomLevels: function () {\r\n\t\tvar i,\r\n\t\t\tminZoom = Infinity,\r\n\t\t\tmaxZoom = -Infinity,\r\n\t\t\toldZoomSpan = this._getZoomSpan();\r\n\r\n\t\tfor (i in this._zoomBoundLayers) {\r\n\t\t\tvar layer = this._zoomBoundLayers[i];\r\n\t\t\tif (!isNaN(layer.options.minZoom)) {\r\n\t\t\t\tminZoom = Math.min(minZoom, layer.options.minZoom);\r\n\t\t\t}\r\n\t\t\tif (!isNaN(layer.options.maxZoom)) {\r\n\t\t\t\tmaxZoom = Math.max(maxZoom, layer.options.maxZoom);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (i === undefined) { // we have no tilelayers\r\n\t\t\tthis._layersMaxZoom = this._layersMinZoom = undefined;\r\n\t\t} else {\r\n\t\t\tthis._layersMaxZoom = maxZoom;\r\n\t\t\tthis._layersMinZoom = minZoom;\r\n\t\t}\r\n\r\n\t\tif (oldZoomSpan !== this._getZoomSpan()) {\r\n\t\t\tthis.fire('zoomlevelschange');\r\n\t\t}\r\n\t},\r\n\r\n\t_panInsideMaxBounds: function () {\r\n\t\tthis.panInsideBounds(this.options.maxBounds);\r\n\t},\r\n\r\n\t_checkIfLoaded: function () {\r\n\t\tif (!this._loaded) {\r\n\t\t\tthrow new Error('Set map center and zoom first.');\r\n\t\t}\r\n\t},\r\n\r\n\t// map events\r\n\r\n\t_initEvents: function (onOff) {\r\n\t\tif (!L.DomEvent) { return; }\r\n\r\n\t\tonOff = onOff || 'on';\r\n\r\n\t\tL.DomEvent[onOff](this._container, 'click', this._onMouseClick, this);\r\n\r\n\t\tvar events = ['dblclick', 'mousedown', 'mouseup', 'mouseenter',\r\n\t\t              'mouseleave', 'mousemove', 'contextmenu'],\r\n\t\t    i, len;\r\n\r\n\t\tfor (i = 0, len = events.length; i < len; i++) {\r\n\t\t\tL.DomEvent[onOff](this._container, events[i], this._fireMouseEvent, this);\r\n\t\t}\r\n\r\n\t\tif (this.options.trackResize) {\r\n\t\t\tL.DomEvent[onOff](window, 'resize', this._onResize, this);\r\n\t\t}\r\n\t},\r\n\r\n\t_onResize: function () {\r\n\t\tL.Util.cancelAnimFrame(this._resizeRequest);\r\n\t\tthis._resizeRequest = L.Util.requestAnimFrame(\r\n\t\t        function () { this.invalidateSize({debounceMoveend: true}); }, this, false, this._container);\r\n\t},\r\n\r\n\t_onMouseClick: function (e) {\r\n\t\tif (!this._loaded || (!e._simulated &&\r\n\t\t        ((this.dragging && this.dragging.moved()) ||\r\n\t\t         (this.boxZoom  && this.boxZoom.moved()))) ||\r\n\t\t            L.DomEvent._skipped(e)) { return; }\r\n\r\n\t\tthis.fire('preclick');\r\n\t\tthis._fireMouseEvent(e);\r\n\t},\r\n\r\n\t_fireMouseEvent: function (e) {\r\n\t\tif (!this._loaded || L.DomEvent._skipped(e)) { return; }\r\n\r\n\t\tvar type = e.type;\r\n\r\n\t\ttype = (type === 'mouseenter' ? 'mouseover' : (type === 'mouseleave' ? 'mouseout' : type));\r\n\r\n\t\tif (!this.hasEventListeners(type)) { return; }\r\n\r\n\t\tif (type === 'contextmenu') {\r\n\t\t\tL.DomEvent.preventDefault(e);\r\n\t\t}\r\n\r\n\t\tvar containerPoint = this.mouseEventToContainerPoint(e),\r\n\t\t    layerPoint = this.containerPointToLayerPoint(containerPoint),\r\n\t\t    latlng = this.layerPointToLatLng(layerPoint);\r\n\r\n\t\tthis.fire(type, {\r\n\t\t\tlatlng: latlng,\r\n\t\t\tlayerPoint: layerPoint,\r\n\t\t\tcontainerPoint: containerPoint,\r\n\t\t\toriginalEvent: e\r\n\t\t});\r\n\t},\r\n\r\n\t_onTileLayerLoad: function () {\r\n\t\tthis._tileLayersToLoad--;\r\n\t\tif (this._tileLayersNum && !this._tileLayersToLoad) {\r\n\t\t\tthis.fire('tilelayersload');\r\n\t\t}\r\n\t},\r\n\r\n\t_clearHandlers: function () {\r\n\t\tfor (var i = 0, len = this._handlers.length; i < len; i++) {\r\n\t\t\tthis._handlers[i].disable();\r\n\t\t}\r\n\t},\r\n\r\n\twhenReady: function (callback, context) {\r\n\t\tif (this._loaded) {\r\n\t\t\tcallback.call(context || this, this);\r\n\t\t} else {\r\n\t\t\tthis.on('load', callback, context);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_layerAdd: function (layer) {\r\n\t\tlayer.onAdd(this);\r\n\t\tthis.fire('layeradd', {layer: layer});\r\n\t},\r\n\r\n\r\n\t// private methods for getting map state\r\n\r\n\t_getMapPanePos: function () {\r\n\t\treturn L.DomUtil.getPosition(this._mapPane);\r\n\t},\r\n\r\n\t_moved: function () {\r\n\t\tvar pos = this._getMapPanePos();\r\n\t\treturn pos && !pos.equals([0, 0]);\r\n\t},\r\n\r\n\t_getTopLeftPoint: function () {\r\n\t\treturn this.getPixelOrigin().subtract(this._getMapPanePos());\r\n\t},\r\n\r\n\t_getNewTopLeftPoint: function (center, zoom) {\r\n\t\tvar viewHalf = this.getSize()._divideBy(2);\r\n\t\t// TODO round on display, not calculation to increase precision?\r\n\t\treturn this.project(center, zoom)._subtract(viewHalf)._round();\r\n\t},\r\n\r\n\t_latLngToNewLayerPoint: function (latlng, newZoom, newCenter) {\r\n\t\tvar topLeft = this._getNewTopLeftPoint(newCenter, newZoom).add(this._getMapPanePos());\r\n\t\treturn this.project(latlng, newZoom)._subtract(topLeft);\r\n\t},\r\n\r\n\t// layer point of the current center\r\n\t_getCenterLayerPoint: function () {\r\n\t\treturn this.containerPointToLayerPoint(this.getSize()._divideBy(2));\r\n\t},\r\n\r\n\t// offset of the specified place to the current center in pixels\r\n\t_getCenterOffset: function (latlng) {\r\n\t\treturn this.latLngToLayerPoint(latlng).subtract(this._getCenterLayerPoint());\r\n\t},\r\n\r\n\t// adjust center for view to get inside bounds\r\n\t_limitCenter: function (center, zoom, bounds) {\r\n\r\n\t\tif (!bounds) { return center; }\r\n\r\n\t\tvar centerPoint = this.project(center, zoom),\r\n\t\t    viewHalf = this.getSize().divideBy(2),\r\n\t\t    viewBounds = new L.Bounds(centerPoint.subtract(viewHalf), centerPoint.add(viewHalf)),\r\n\t\t    offset = this._getBoundsOffset(viewBounds, bounds, zoom);\r\n\r\n\t\treturn this.unproject(centerPoint.add(offset), zoom);\r\n\t},\r\n\r\n\t// adjust offset for view to get inside bounds\r\n\t_limitOffset: function (offset, bounds) {\r\n\t\tif (!bounds) { return offset; }\r\n\r\n\t\tvar viewBounds = this.getPixelBounds(),\r\n\t\t    newBounds = new L.Bounds(viewBounds.min.add(offset), viewBounds.max.add(offset));\r\n\r\n\t\treturn offset.add(this._getBoundsOffset(newBounds, bounds));\r\n\t},\r\n\r\n\t// returns offset needed for pxBounds to get inside maxBounds at a specified zoom\r\n\t_getBoundsOffset: function (pxBounds, maxBounds, zoom) {\r\n\t\tvar nwOffset = this.project(maxBounds.getNorthWest(), zoom).subtract(pxBounds.min),\r\n\t\t    seOffset = this.project(maxBounds.getSouthEast(), zoom).subtract(pxBounds.max),\r\n\r\n\t\t    dx = this._rebound(nwOffset.x, -seOffset.x),\r\n\t\t    dy = this._rebound(nwOffset.y, -seOffset.y);\r\n\r\n\t\treturn new L.Point(dx, dy);\r\n\t},\r\n\r\n\t_rebound: function (left, right) {\r\n\t\treturn left + right > 0 ?\r\n\t\t\tMath.round(left - right) / 2 :\r\n\t\t\tMath.max(0, Math.ceil(left)) - Math.max(0, Math.floor(right));\r\n\t},\r\n\r\n\t_limitZoom: function (zoom) {\r\n\t\tvar min = this.getMinZoom(),\r\n\t\t    max = this.getMaxZoom();\r\n\r\n\t\treturn Math.max(min, Math.min(max, zoom));\r\n\t}\r\n});\r\n\r\nL.map = function (id, options) {\r\n\treturn new L.Map(id, options);\r\n};\r\n\n\n/*\r\n * Mercator projection that takes into account that the Earth is not a perfect sphere.\r\n * Less popular than spherical mercator; used by projections like EPSG:3395.\r\n */\r\n\r\nL.Projection.Mercator = {\r\n\tMAX_LATITUDE: 85.0840591556,\r\n\r\n\tR_MINOR: 6356752.314245179,\r\n\tR_MAJOR: 6378137,\r\n\r\n\tproject: function (latlng) { // (LatLng) -> Point\r\n\t\tvar d = L.LatLng.DEG_TO_RAD,\r\n\t\t    max = this.MAX_LATITUDE,\r\n\t\t    lat = Math.max(Math.min(max, latlng.lat), -max),\r\n\t\t    r = this.R_MAJOR,\r\n\t\t    r2 = this.R_MINOR,\r\n\t\t    x = latlng.lng * d * r,\r\n\t\t    y = lat * d,\r\n\t\t    tmp = r2 / r,\r\n\t\t    eccent = Math.sqrt(1.0 - tmp * tmp),\r\n\t\t    con = eccent * Math.sin(y);\r\n\r\n\t\tcon = Math.pow((1 - con) / (1 + con), eccent * 0.5);\r\n\r\n\t\tvar ts = Math.tan(0.5 * ((Math.PI * 0.5) - y)) / con;\r\n\t\ty = -r * Math.log(ts);\r\n\r\n\t\treturn new L.Point(x, y);\r\n\t},\r\n\r\n\tunproject: function (point) { // (Point, Boolean) -> LatLng\r\n\t\tvar d = L.LatLng.RAD_TO_DEG,\r\n\t\t    r = this.R_MAJOR,\r\n\t\t    r2 = this.R_MINOR,\r\n\t\t    lng = point.x * d / r,\r\n\t\t    tmp = r2 / r,\r\n\t\t    eccent = Math.sqrt(1 - (tmp * tmp)),\r\n\t\t    ts = Math.exp(- point.y / r),\r\n\t\t    phi = (Math.PI / 2) - 2 * Math.atan(ts),\r\n\t\t    numIter = 15,\r\n\t\t    tol = 1e-7,\r\n\t\t    i = numIter,\r\n\t\t    dphi = 0.1,\r\n\t\t    con;\r\n\r\n\t\twhile ((Math.abs(dphi) > tol) && (--i > 0)) {\r\n\t\t\tcon = eccent * Math.sin(phi);\r\n\t\t\tdphi = (Math.PI / 2) - 2 * Math.atan(ts *\r\n\t\t\t            Math.pow((1.0 - con) / (1.0 + con), 0.5 * eccent)) - phi;\r\n\t\t\tphi += dphi;\r\n\t\t}\r\n\r\n\t\treturn new L.LatLng(phi * d, lng);\r\n\t}\r\n};\r\n\n\n\r\nL.CRS.EPSG3395 = L.extend({}, L.CRS, {\r\n\tcode: 'EPSG:3395',\r\n\r\n\tprojection: L.Projection.Mercator,\r\n\r\n\ttransformation: (function () {\r\n\t\tvar m = L.Projection.Mercator,\r\n\t\t    r = m.R_MAJOR,\r\n\t\t    scale = 0.5 / (Math.PI * r);\r\n\r\n\t\treturn new L.Transformation(scale, 0.5, -scale, 0.5);\r\n\t}())\r\n});\r\n\n\n/*\r\n * L.TileLayer is used for standard xyz-numbered tile layers.\r\n */\r\n\r\nL.TileLayer = L.Class.extend({\r\n\tincludes: L.Mixin.Events,\r\n\r\n\toptions: {\r\n\t\tminZoom: 0,\r\n\t\tmaxZoom: 18,\r\n\t\ttileSize: 256,\r\n\t\tsubdomains: 'abc',\r\n\t\terrorTileUrl: '',\r\n\t\tattribution: '',\r\n\t\tzoomOffset: 0,\r\n\t\topacity: 1,\r\n\t\t/*\r\n\t\tmaxNativeZoom: null,\r\n\t\tzIndex: null,\r\n\t\ttms: false,\r\n\t\tcontinuousWorld: false,\r\n\t\tnoWrap: false,\r\n\t\tzoomReverse: false,\r\n\t\tdetectRetina: false,\r\n\t\treuseTiles: false,\r\n\t\tbounds: false,\r\n\t\t*/\r\n\t\tunloadInvisibleTiles: L.Browser.mobile,\r\n\t\tupdateWhenIdle: L.Browser.mobile\r\n\t},\r\n\r\n\tinitialize: function (url, options) {\r\n\t\toptions = L.setOptions(this, options);\r\n\r\n\t\t// detecting retina displays, adjusting tileSize and zoom levels\r\n\t\tif (options.detectRetina && L.Browser.retina && options.maxZoom > 0) {\r\n\r\n\t\t\toptions.tileSize = Math.floor(options.tileSize / 2);\r\n\t\t\toptions.zoomOffset++;\r\n\r\n\t\t\tif (options.minZoom > 0) {\r\n\t\t\t\toptions.minZoom--;\r\n\t\t\t}\r\n\t\t\tthis.options.maxZoom--;\r\n\t\t}\r\n\r\n\t\tif (options.bounds) {\r\n\t\t\toptions.bounds = L.latLngBounds(options.bounds);\r\n\t\t}\r\n\r\n\t\tthis._url = url;\r\n\r\n\t\tvar subdomains = this.options.subdomains;\r\n\r\n\t\tif (typeof subdomains === 'string') {\r\n\t\t\tthis.options.subdomains = subdomains.split('');\r\n\t\t}\r\n\t},\r\n\r\n\tonAdd: function (map) {\r\n\t\tthis._map = map;\r\n\t\tthis._animated = map._zoomAnimated;\r\n\r\n\t\t// create a container div for tiles\r\n\t\tthis._initContainer();\r\n\r\n\t\t// set up events\r\n\t\tmap.on({\r\n\t\t\t'viewreset': this._reset,\r\n\t\t\t'moveend': this._update\r\n\t\t}, this);\r\n\r\n\t\tif (this._animated) {\r\n\t\t\tmap.on({\r\n\t\t\t\t'zoomanim': this._animateZoom,\r\n\t\t\t\t'zoomend': this._endZoomAnim\r\n\t\t\t}, this);\r\n\t\t}\r\n\r\n\t\tif (!this.options.updateWhenIdle) {\r\n\t\t\tthis._limitedUpdate = L.Util.limitExecByInterval(this._update, 150, this);\r\n\t\t\tmap.on('move', this._limitedUpdate, this);\r\n\t\t}\r\n\r\n\t\tthis._reset();\r\n\t\tthis._update();\r\n\t},\r\n\r\n\taddTo: function (map) {\r\n\t\tmap.addLayer(this);\r\n\t\treturn this;\r\n\t},\r\n\r\n\tonRemove: function (map) {\r\n\t\tthis._container.parentNode.removeChild(this._container);\r\n\r\n\t\tmap.off({\r\n\t\t\t'viewreset': this._reset,\r\n\t\t\t'moveend': this._update\r\n\t\t}, this);\r\n\r\n\t\tif (this._animated) {\r\n\t\t\tmap.off({\r\n\t\t\t\t'zoomanim': this._animateZoom,\r\n\t\t\t\t'zoomend': this._endZoomAnim\r\n\t\t\t}, this);\r\n\t\t}\r\n\r\n\t\tif (!this.options.updateWhenIdle) {\r\n\t\t\tmap.off('move', this._limitedUpdate, this);\r\n\t\t}\r\n\r\n\t\tthis._container = null;\r\n\t\tthis._map = null;\r\n\t},\r\n\r\n\tbringToFront: function () {\r\n\t\tvar pane = this._map._panes.tilePane;\r\n\r\n\t\tif (this._container) {\r\n\t\t\tpane.appendChild(this._container);\r\n\t\t\tthis._setAutoZIndex(pane, Math.max);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tbringToBack: function () {\r\n\t\tvar pane = this._map._panes.tilePane;\r\n\r\n\t\tif (this._container) {\r\n\t\t\tpane.insertBefore(this._container, pane.firstChild);\r\n\t\t\tthis._setAutoZIndex(pane, Math.min);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tgetAttribution: function () {\r\n\t\treturn this.options.attribution;\r\n\t},\r\n\r\n\tgetContainer: function () {\r\n\t\treturn this._container;\r\n\t},\r\n\r\n\tsetOpacity: function (opacity) {\r\n\t\tthis.options.opacity = opacity;\r\n\r\n\t\tif (this._map) {\r\n\t\t\tthis._updateOpacity();\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tsetZIndex: function (zIndex) {\r\n\t\tthis.options.zIndex = zIndex;\r\n\t\tthis._updateZIndex();\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tsetUrl: function (url, noRedraw) {\r\n\t\tthis._url = url;\r\n\r\n\t\tif (!noRedraw) {\r\n\t\t\tthis.redraw();\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tredraw: function () {\r\n\t\tif (this._map) {\r\n\t\t\tthis._reset({hard: true});\r\n\t\t\tthis._update();\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_updateZIndex: function () {\r\n\t\tif (this._container && this.options.zIndex !== undefined) {\r\n\t\t\tthis._container.style.zIndex = this.options.zIndex;\r\n\t\t}\r\n\t},\r\n\r\n\t_setAutoZIndex: function (pane, compare) {\r\n\r\n\t\tvar layers = pane.children,\r\n\t\t    edgeZIndex = -compare(Infinity, -Infinity), // -Infinity for max, Infinity for min\r\n\t\t    zIndex, i, len;\r\n\r\n\t\tfor (i = 0, len = layers.length; i < len; i++) {\r\n\r\n\t\t\tif (layers[i] !== this._container) {\r\n\t\t\t\tzIndex = parseInt(layers[i].style.zIndex, 10);\r\n\r\n\t\t\t\tif (!isNaN(zIndex)) {\r\n\t\t\t\t\tedgeZIndex = compare(edgeZIndex, zIndex);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.options.zIndex = this._container.style.zIndex =\r\n\t\t        (isFinite(edgeZIndex) ? edgeZIndex : 0) + compare(1, -1);\r\n\t},\r\n\r\n\t_updateOpacity: function () {\r\n\t\tvar i,\r\n\t\t    tiles = this._tiles;\r\n\r\n\t\tif (L.Browser.ielt9) {\r\n\t\t\tfor (i in tiles) {\r\n\t\t\t\tL.DomUtil.setOpacity(tiles[i], this.options.opacity);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tL.DomUtil.setOpacity(this._container, this.options.opacity);\r\n\t\t}\r\n\t},\r\n\r\n\t_initContainer: function () {\r\n\t\tvar tilePane = this._map._panes.tilePane;\r\n\r\n\t\tif (!this._container) {\r\n\t\t\tthis._container = L.DomUtil.create('div', 'leaflet-layer');\r\n\r\n\t\t\tthis._updateZIndex();\r\n\r\n\t\t\tif (this._animated) {\r\n\t\t\t\tvar className = 'leaflet-tile-container';\r\n\r\n\t\t\t\tthis._bgBuffer = L.DomUtil.create('div', className, this._container);\r\n\t\t\t\tthis._tileContainer = L.DomUtil.create('div', className, this._container);\r\n\r\n\t\t\t} else {\r\n\t\t\t\tthis._tileContainer = this._container;\r\n\t\t\t}\r\n\r\n\t\t\ttilePane.appendChild(this._container);\r\n\r\n\t\t\tif (this.options.opacity < 1) {\r\n\t\t\t\tthis._updateOpacity();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t_reset: function (e) {\r\n\t\tfor (var key in this._tiles) {\r\n\t\t\tthis.fire('tileunload', {tile: this._tiles[key]});\r\n\t\t}\r\n\r\n\t\tthis._tiles = {};\r\n\t\tthis._tilesToLoad = 0;\r\n\r\n\t\tif (this.options.reuseTiles) {\r\n\t\t\tthis._unusedTiles = [];\r\n\t\t}\r\n\r\n\t\tthis._tileContainer.innerHTML = '';\r\n\r\n\t\tif (this._animated && e && e.hard) {\r\n\t\t\tthis._clearBgBuffer();\r\n\t\t}\r\n\r\n\t\tthis._initContainer();\r\n\t},\r\n\r\n\t_getTileSize: function () {\r\n\t\tvar map = this._map,\r\n\t\t    zoom = map.getZoom() + this.options.zoomOffset,\r\n\t\t    zoomN = this.options.maxNativeZoom,\r\n\t\t    tileSize = this.options.tileSize;\r\n\r\n\t\tif (zoomN && zoom > zoomN) {\r\n\t\t\ttileSize = Math.round(map.getZoomScale(zoom) / map.getZoomScale(zoomN) * tileSize);\r\n\t\t}\r\n\r\n\t\treturn tileSize;\r\n\t},\r\n\r\n\t_update: function () {\r\n\r\n\t\tif (!this._map) { return; }\r\n\r\n\t\tvar map = this._map,\r\n\t\t    bounds = map.getPixelBounds(),\r\n\t\t    zoom = map.getZoom(),\r\n\t\t    tileSize = this._getTileSize();\r\n\r\n\t\tif (zoom > this.options.maxZoom || zoom < this.options.minZoom) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar tileBounds = L.bounds(\r\n\t\t        bounds.min.divideBy(tileSize)._floor(),\r\n\t\t        bounds.max.divideBy(tileSize)._floor());\r\n\r\n\t\tthis._addTilesFromCenterOut(tileBounds);\r\n\r\n\t\tif (this.options.unloadInvisibleTiles || this.options.reuseTiles) {\r\n\t\t\tthis._removeOtherTiles(tileBounds);\r\n\t\t}\r\n\t},\r\n\r\n\t_addTilesFromCenterOut: function (bounds) {\r\n\t\tvar queue = [],\r\n\t\t    center = bounds.getCenter();\r\n\r\n\t\tvar j, i, point;\r\n\r\n\t\tfor (j = bounds.min.y; j <= bounds.max.y; j++) {\r\n\t\t\tfor (i = bounds.min.x; i <= bounds.max.x; i++) {\r\n\t\t\t\tpoint = new L.Point(i, j);\r\n\r\n\t\t\t\tif (this._tileShouldBeLoaded(point)) {\r\n\t\t\t\t\tqueue.push(point);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar tilesToLoad = queue.length;\r\n\r\n\t\tif (tilesToLoad === 0) { return; }\r\n\r\n\t\t// load tiles in order of their distance to center\r\n\t\tqueue.sort(function (a, b) {\r\n\t\t\treturn a.distanceTo(center) - b.distanceTo(center);\r\n\t\t});\r\n\r\n\t\tvar fragment = document.createDocumentFragment();\r\n\r\n\t\t// if its the first batch of tiles to load\r\n\t\tif (!this._tilesToLoad) {\r\n\t\t\tthis.fire('loading');\r\n\t\t}\r\n\r\n\t\tthis._tilesToLoad += tilesToLoad;\r\n\r\n\t\tfor (i = 0; i < tilesToLoad; i++) {\r\n\t\t\tthis._addTile(queue[i], fragment);\r\n\t\t}\r\n\r\n\t\tthis._tileContainer.appendChild(fragment);\r\n\t},\r\n\r\n\t_tileShouldBeLoaded: function (tilePoint) {\r\n\t\tif ((tilePoint.x + ':' + tilePoint.y) in this._tiles) {\r\n\t\t\treturn false; // already loaded\r\n\t\t}\r\n\r\n\t\tvar options = this.options;\r\n\r\n\t\tif (!options.continuousWorld) {\r\n\t\t\tvar limit = this._getWrapTileNum();\r\n\r\n\t\t\t// don't load if exceeds world bounds\r\n\t\t\tif ((options.noWrap && (tilePoint.x < 0 || tilePoint.x >= limit.x)) ||\r\n\t\t\t\ttilePoint.y < 0 || tilePoint.y >= limit.y) { return false; }\r\n\t\t}\r\n\r\n\t\tif (options.bounds) {\r\n\t\t\tvar tileSize = this._getTileSize(),\r\n\t\t\t    nwPoint = tilePoint.multiplyBy(tileSize),\r\n\t\t\t    sePoint = nwPoint.add([tileSize, tileSize]),\r\n\t\t\t    nw = this._map.unproject(nwPoint),\r\n\t\t\t    se = this._map.unproject(sePoint);\r\n\r\n\t\t\t// TODO temporary hack, will be removed after refactoring projections\r\n\t\t\t// https://github.com/Leaflet/Leaflet/issues/1618\r\n\t\t\tif (!options.continuousWorld && !options.noWrap) {\r\n\t\t\t\tnw = nw.wrap();\r\n\t\t\t\tse = se.wrap();\r\n\t\t\t}\r\n\r\n\t\t\tif (!options.bounds.intersects([nw, se])) { return false; }\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t},\r\n\r\n\t_removeOtherTiles: function (bounds) {\r\n\t\tvar kArr, x, y, key;\r\n\r\n\t\tfor (key in this._tiles) {\r\n\t\t\tkArr = key.split(':');\r\n\t\t\tx = parseInt(kArr[0], 10);\r\n\t\t\ty = parseInt(kArr[1], 10);\r\n\r\n\t\t\t// remove tile if it's out of bounds\r\n\t\t\tif (x < bounds.min.x || x > bounds.max.x || y < bounds.min.y || y > bounds.max.y) {\r\n\t\t\t\tthis._removeTile(key);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t_removeTile: function (key) {\r\n\t\tvar tile = this._tiles[key];\r\n\r\n\t\tthis.fire('tileunload', {tile: tile, url: tile.src});\r\n\r\n\t\tif (this.options.reuseTiles) {\r\n\t\t\tL.DomUtil.removeClass(tile, 'leaflet-tile-loaded');\r\n\t\t\tthis._unusedTiles.push(tile);\r\n\r\n\t\t} else if (tile.parentNode === this._tileContainer) {\r\n\t\t\tthis._tileContainer.removeChild(tile);\r\n\t\t}\r\n\r\n\t\t// for https://github.com/CloudMade/Leaflet/issues/137\r\n\t\tif (!L.Browser.android) {\r\n\t\t\ttile.onload = null;\r\n\t\t\ttile.src = L.Util.emptyImageUrl;\r\n\t\t}\r\n\r\n\t\tdelete this._tiles[key];\r\n\t},\r\n\r\n\t_addTile: function (tilePoint, container) {\r\n\t\tvar tilePos = this._getTilePos(tilePoint);\r\n\r\n\t\t// get unused tile - or create a new tile\r\n\t\tvar tile = this._getTile();\r\n\r\n\t\t/*\r\n\t\tChrome 20 layouts much faster with top/left (verify with timeline, frames)\r\n\t\tAndroid 4 browser has display issues with top/left and requires transform instead\r\n\t\t(other browsers don't currently care) - see debug/hacks/jitter.html for an example\r\n\t\t*/\r\n\t\tL.DomUtil.setPosition(tile, tilePos, L.Browser.chrome);\r\n\r\n\t\tthis._tiles[tilePoint.x + ':' + tilePoint.y] = tile;\r\n\r\n\t\tthis._loadTile(tile, tilePoint);\r\n\r\n\t\tif (tile.parentNode !== this._tileContainer) {\r\n\t\t\tcontainer.appendChild(tile);\r\n\t\t}\r\n\t},\r\n\r\n\t_getZoomForUrl: function () {\r\n\r\n\t\tvar options = this.options,\r\n\t\t    zoom = this._map.getZoom();\r\n\r\n\t\tif (options.zoomReverse) {\r\n\t\t\tzoom = options.maxZoom - zoom;\r\n\t\t}\r\n\r\n\t\tzoom += options.zoomOffset;\r\n\r\n\t\treturn options.maxNativeZoom ? Math.min(zoom, options.maxNativeZoom) : zoom;\r\n\t},\r\n\r\n\t_getTilePos: function (tilePoint) {\r\n\t\tvar origin = this._map.getPixelOrigin(),\r\n\t\t    tileSize = this._getTileSize();\r\n\r\n\t\treturn tilePoint.multiplyBy(tileSize).subtract(origin);\r\n\t},\r\n\r\n\t// image-specific code (override to implement e.g. Canvas or SVG tile layer)\r\n\r\n\tgetTileUrl: function (tilePoint) {\r\n\t\treturn L.Util.template(this._url, L.extend({\r\n\t\t\ts: this._getSubdomain(tilePoint),\r\n\t\t\tz: tilePoint.z,\r\n\t\t\tx: tilePoint.x,\r\n\t\t\ty: tilePoint.y\r\n\t\t}, this.options));\r\n\t},\r\n\r\n\t_getWrapTileNum: function () {\r\n\t\tvar crs = this._map.options.crs,\r\n\t\t    size = crs.getSize(this._map.getZoom());\r\n\t\treturn size.divideBy(this._getTileSize())._floor();\r\n\t},\r\n\r\n\t_adjustTilePoint: function (tilePoint) {\r\n\r\n\t\tvar limit = this._getWrapTileNum();\r\n\r\n\t\t// wrap tile coordinates\r\n\t\tif (!this.options.continuousWorld && !this.options.noWrap) {\r\n\t\t\ttilePoint.x = ((tilePoint.x % limit.x) + limit.x) % limit.x;\r\n\t\t}\r\n\r\n\t\tif (this.options.tms) {\r\n\t\t\ttilePoint.y = limit.y - tilePoint.y - 1;\r\n\t\t}\r\n\r\n\t\ttilePoint.z = this._getZoomForUrl();\r\n\t},\r\n\r\n\t_getSubdomain: function (tilePoint) {\r\n\t\tvar index = Math.abs(tilePoint.x + tilePoint.y) % this.options.subdomains.length;\r\n\t\treturn this.options.subdomains[index];\r\n\t},\r\n\r\n\t_getTile: function () {\r\n\t\tif (this.options.reuseTiles && this._unusedTiles.length > 0) {\r\n\t\t\tvar tile = this._unusedTiles.pop();\r\n\t\t\tthis._resetTile(tile);\r\n\t\t\treturn tile;\r\n\t\t}\r\n\t\treturn this._createTile();\r\n\t},\r\n\r\n\t// Override if data stored on a tile needs to be cleaned up before reuse\r\n\t_resetTile: function (/*tile*/) {},\r\n\r\n\t_createTile: function () {\r\n\t\tvar tile = L.DomUtil.create('img', 'leaflet-tile');\r\n\t\ttile.style.width = tile.style.height = this._getTileSize() + 'px';\r\n\t\ttile.galleryimg = 'no';\r\n\r\n\t\ttile.onselectstart = tile.onmousemove = L.Util.falseFn;\r\n\r\n\t\tif (L.Browser.ielt9 && this.options.opacity !== undefined) {\r\n\t\t\tL.DomUtil.setOpacity(tile, this.options.opacity);\r\n\t\t}\r\n\t\t// without this hack, tiles disappear after zoom on Chrome for Android\r\n\t\t// https://github.com/Leaflet/Leaflet/issues/2078\r\n\t\tif (L.Browser.mobileWebkit3d) {\r\n\t\t\ttile.style.WebkitBackfaceVisibility = 'hidden';\r\n\t\t}\r\n\t\treturn tile;\r\n\t},\r\n\r\n\t_loadTile: function (tile, tilePoint) {\r\n\t\ttile._layer  = this;\r\n\t\ttile.onload  = this._tileOnLoad;\r\n\t\ttile.onerror = this._tileOnError;\r\n\r\n\t\tthis._adjustTilePoint(tilePoint);\r\n\t\ttile.src     = this.getTileUrl(tilePoint);\r\n\r\n\t\tthis.fire('tileloadstart', {\r\n\t\t\ttile: tile,\r\n\t\t\turl: tile.src\r\n\t\t});\r\n\t},\r\n\r\n\t_tileLoaded: function () {\r\n\t\tthis._tilesToLoad--;\r\n\r\n\t\tif (this._animated) {\r\n\t\t\tL.DomUtil.addClass(this._tileContainer, 'leaflet-zoom-animated');\r\n\t\t}\r\n\r\n\t\tif (!this._tilesToLoad) {\r\n\t\t\tthis.fire('load');\r\n\r\n\t\t\tif (this._animated) {\r\n\t\t\t\t// clear scaled tiles after all new tiles are loaded (for performance)\r\n\t\t\t\tclearTimeout(this._clearBgBufferTimer);\r\n\t\t\t\tthis._clearBgBufferTimer = setTimeout(L.bind(this._clearBgBuffer, this), 500);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t_tileOnLoad: function () {\r\n\t\tvar layer = this._layer;\r\n\r\n\t\t//Only if we are loading an actual image\r\n\t\tif (this.src !== L.Util.emptyImageUrl) {\r\n\t\t\tL.DomUtil.addClass(this, 'leaflet-tile-loaded');\r\n\r\n\t\t\tlayer.fire('tileload', {\r\n\t\t\t\ttile: this,\r\n\t\t\t\turl: this.src\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tlayer._tileLoaded();\r\n\t},\r\n\r\n\t_tileOnError: function () {\r\n\t\tvar layer = this._layer;\r\n\r\n\t\tlayer.fire('tileerror', {\r\n\t\t\ttile: this,\r\n\t\t\turl: this.src\r\n\t\t});\r\n\r\n\t\tvar newUrl = layer.options.errorTileUrl;\r\n\t\tif (newUrl) {\r\n\t\t\tthis.src = newUrl;\r\n\t\t}\r\n\r\n\t\tlayer._tileLoaded();\r\n\t}\r\n});\r\n\r\nL.tileLayer = function (url, options) {\r\n\treturn new L.TileLayer(url, options);\r\n};\r\n\n\n/*\r\n * L.TileLayer.WMS is used for putting WMS tile layers on the map.\r\n */\r\n\r\nL.TileLayer.WMS = L.TileLayer.extend({\r\n\r\n\tdefaultWmsParams: {\r\n\t\tservice: 'WMS',\r\n\t\trequest: 'GetMap',\r\n\t\tversion: '1.1.1',\r\n\t\tlayers: '',\r\n\t\tstyles: '',\r\n\t\tformat: 'image/jpeg',\r\n\t\ttransparent: false\r\n\t},\r\n\r\n\tinitialize: function (url, options) { // (String, Object)\r\n\r\n\t\tthis._url = url;\r\n\r\n\t\tvar wmsParams = L.extend({}, this.defaultWmsParams),\r\n\t\t    tileSize = options.tileSize || this.options.tileSize;\r\n\r\n\t\tif (options.detectRetina && L.Browser.retina) {\r\n\t\t\twmsParams.width = wmsParams.height = tileSize * 2;\r\n\t\t} else {\r\n\t\t\twmsParams.width = wmsParams.height = tileSize;\r\n\t\t}\r\n\r\n\t\tfor (var i in options) {\r\n\t\t\t// all keys that are not TileLayer options go to WMS params\r\n\t\t\tif (!this.options.hasOwnProperty(i) && i !== 'crs') {\r\n\t\t\t\twmsParams[i] = options[i];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.wmsParams = wmsParams;\r\n\r\n\t\tL.setOptions(this, options);\r\n\t},\r\n\r\n\tonAdd: function (map) {\r\n\r\n\t\tthis._crs = this.options.crs || map.options.crs;\r\n\r\n\t\tthis._wmsVersion = parseFloat(this.wmsParams.version);\r\n\r\n\t\tvar projectionKey = this._wmsVersion >= 1.3 ? 'crs' : 'srs';\r\n\t\tthis.wmsParams[projectionKey] = this._crs.code;\r\n\r\n\t\tL.TileLayer.prototype.onAdd.call(this, map);\r\n\t},\r\n\r\n\tgetTileUrl: function (tilePoint) { // (Point, Number) -> String\r\n\r\n\t\tvar map = this._map,\r\n\t\t    tileSize = this.options.tileSize,\r\n\r\n\t\t    nwPoint = tilePoint.multiplyBy(tileSize),\r\n\t\t    sePoint = nwPoint.add([tileSize, tileSize]),\r\n\r\n\t\t    nw = this._crs.project(map.unproject(nwPoint, tilePoint.z)),\r\n\t\t    se = this._crs.project(map.unproject(sePoint, tilePoint.z)),\r\n\t\t    bbox = this._wmsVersion >= 1.3 && this._crs === L.CRS.EPSG4326 ?\r\n\t\t        [se.y, nw.x, nw.y, se.x].join(',') :\r\n\t\t        [nw.x, se.y, se.x, nw.y].join(','),\r\n\r\n\t\t    url = L.Util.template(this._url, {s: this._getSubdomain(tilePoint)});\r\n\r\n\t\treturn url + L.Util.getParamString(this.wmsParams, url, true) + '&BBOX=' + bbox;\r\n\t},\r\n\r\n\tsetParams: function (params, noRedraw) {\r\n\r\n\t\tL.extend(this.wmsParams, params);\r\n\r\n\t\tif (!noRedraw) {\r\n\t\t\tthis.redraw();\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t}\r\n});\r\n\r\nL.tileLayer.wms = function (url, options) {\r\n\treturn new L.TileLayer.WMS(url, options);\r\n};\r\n\n\n/*\r\n * L.TileLayer.Canvas is a class that you can use as a base for creating\r\n * dynamically drawn Canvas-based tile layers.\r\n */\r\n\r\nL.TileLayer.Canvas = L.TileLayer.extend({\r\n\toptions: {\r\n\t\tasync: false\r\n\t},\r\n\r\n\tinitialize: function (options) {\r\n\t\tL.setOptions(this, options);\r\n\t},\r\n\r\n\tredraw: function () {\r\n\t\tif (this._map) {\r\n\t\t\tthis._reset({hard: true});\r\n\t\t\tthis._update();\r\n\t\t}\r\n\r\n\t\tfor (var i in this._tiles) {\r\n\t\t\tthis._redrawTile(this._tiles[i]);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_redrawTile: function (tile) {\r\n\t\tthis.drawTile(tile, tile._tilePoint, this._map._zoom);\r\n\t},\r\n\r\n\t_createTile: function () {\r\n\t\tvar tile = L.DomUtil.create('canvas', 'leaflet-tile');\r\n\t\ttile.width = tile.height = this.options.tileSize;\r\n\t\ttile.onselectstart = tile.onmousemove = L.Util.falseFn;\r\n\t\treturn tile;\r\n\t},\r\n\r\n\t_loadTile: function (tile, tilePoint) {\r\n\t\ttile._layer = this;\r\n\t\ttile._tilePoint = tilePoint;\r\n\r\n\t\tthis._redrawTile(tile);\r\n\r\n\t\tif (!this.options.async) {\r\n\t\t\tthis.tileDrawn(tile);\r\n\t\t}\r\n\t},\r\n\r\n\tdrawTile: function (/*tile, tilePoint*/) {\r\n\t\t// override with rendering code\r\n\t},\r\n\r\n\ttileDrawn: function (tile) {\r\n\t\tthis._tileOnLoad.call(tile);\r\n\t}\r\n});\r\n\r\n\r\nL.tileLayer.canvas = function (options) {\r\n\treturn new L.TileLayer.Canvas(options);\r\n};\r\n\n\n/*\r\n * L.ImageOverlay is used to overlay images over the map (to specific geographical bounds).\r\n */\r\n\r\nL.ImageOverlay = L.Class.extend({\r\n\tincludes: L.Mixin.Events,\r\n\r\n\toptions: {\r\n\t\topacity: 1\r\n\t},\r\n\r\n\tinitialize: function (url, bounds, options) { // (String, LatLngBounds, Object)\r\n\t\tthis._url = url;\r\n\t\tthis._bounds = L.latLngBounds(bounds);\r\n\r\n\t\tL.setOptions(this, options);\r\n\t},\r\n\r\n\tonAdd: function (map) {\r\n\t\tthis._map = map;\r\n\r\n\t\tif (!this._image) {\r\n\t\t\tthis._initImage();\r\n\t\t}\r\n\r\n\t\tmap._panes.overlayPane.appendChild(this._image);\r\n\r\n\t\tmap.on('viewreset', this._reset, this);\r\n\r\n\t\tif (map.options.zoomAnimation && L.Browser.any3d) {\r\n\t\t\tmap.on('zoomanim', this._animateZoom, this);\r\n\t\t}\r\n\r\n\t\tthis._reset();\r\n\t},\r\n\r\n\tonRemove: function (map) {\r\n\t\tmap.getPanes().overlayPane.removeChild(this._image);\r\n\r\n\t\tmap.off('viewreset', this._reset, this);\r\n\r\n\t\tif (map.options.zoomAnimation) {\r\n\t\t\tmap.off('zoomanim', this._animateZoom, this);\r\n\t\t}\r\n\t},\r\n\r\n\taddTo: function (map) {\r\n\t\tmap.addLayer(this);\r\n\t\treturn this;\r\n\t},\r\n\r\n\tsetOpacity: function (opacity) {\r\n\t\tthis.options.opacity = opacity;\r\n\t\tthis._updateOpacity();\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// TODO remove bringToFront/bringToBack duplication from TileLayer/Path\r\n\tbringToFront: function () {\r\n\t\tif (this._image) {\r\n\t\t\tthis._map._panes.overlayPane.appendChild(this._image);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\tbringToBack: function () {\r\n\t\tvar pane = this._map._panes.overlayPane;\r\n\t\tif (this._image) {\r\n\t\t\tpane.insertBefore(this._image, pane.firstChild);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\tsetUrl: function (url) {\r\n\t\tthis._url = url;\r\n\t\tthis._image.src = this._url;\r\n\t},\r\n\r\n\tgetAttribution: function () {\r\n\t\treturn this.options.attribution;\r\n\t},\r\n\r\n\t_initImage: function () {\r\n\t\tthis._image = L.DomUtil.create('img', 'leaflet-image-layer');\r\n\r\n\t\tif (this._map.options.zoomAnimation && L.Browser.any3d) {\r\n\t\t\tL.DomUtil.addClass(this._image, 'leaflet-zoom-animated');\r\n\t\t} else {\r\n\t\t\tL.DomUtil.addClass(this._image, 'leaflet-zoom-hide');\r\n\t\t}\r\n\r\n\t\tthis._updateOpacity();\r\n\r\n\t\t//TODO createImage util method to remove duplication\r\n\t\tL.extend(this._image, {\r\n\t\t\tgalleryimg: 'no',\r\n\t\t\tonselectstart: L.Util.falseFn,\r\n\t\t\tonmousemove: L.Util.falseFn,\r\n\t\t\tonload: L.bind(this._onImageLoad, this),\r\n\t\t\tsrc: this._url\r\n\t\t});\r\n\t},\r\n\r\n\t_animateZoom: function (e) {\r\n\t\tvar map = this._map,\r\n\t\t    image = this._image,\r\n\t\t    scale = map.getZoomScale(e.zoom),\r\n\t\t    nw = this._bounds.getNorthWest(),\r\n\t\t    se = this._bounds.getSouthEast(),\r\n\r\n\t\t    topLeft = map._latLngToNewLayerPoint(nw, e.zoom, e.center),\r\n\t\t    size = map._latLngToNewLayerPoint(se, e.zoom, e.center)._subtract(topLeft),\r\n\t\t    origin = topLeft._add(size._multiplyBy((1 / 2) * (1 - 1 / scale)));\r\n\r\n\t\timage.style[L.DomUtil.TRANSFORM] =\r\n\t\t        L.DomUtil.getTranslateString(origin) + ' scale(' + scale + ') ';\r\n\t},\r\n\r\n\t_reset: function () {\r\n\t\tvar image   = this._image,\r\n\t\t    topLeft = this._map.latLngToLayerPoint(this._bounds.getNorthWest()),\r\n\t\t    size = this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(topLeft);\r\n\r\n\t\tL.DomUtil.setPosition(image, topLeft);\r\n\r\n\t\timage.style.width  = size.x + 'px';\r\n\t\timage.style.height = size.y + 'px';\r\n\t},\r\n\r\n\t_onImageLoad: function () {\r\n\t\tthis.fire('load');\r\n\t},\r\n\r\n\t_updateOpacity: function () {\r\n\t\tL.DomUtil.setOpacity(this._image, this.options.opacity);\r\n\t}\r\n});\r\n\r\nL.imageOverlay = function (url, bounds, options) {\r\n\treturn new L.ImageOverlay(url, bounds, options);\r\n};\r\n\n\n/*\r\n * L.Icon is an image-based icon class that you can use with L.Marker for custom markers.\r\n */\r\n\r\nL.Icon = L.Class.extend({\r\n\toptions: {\r\n\t\t/*\r\n\t\ticonUrl: (String) (required)\r\n\t\ticonRetinaUrl: (String) (optional, used for retina devices if detected)\r\n\t\ticonSize: (Point) (can be set through CSS)\r\n\t\ticonAnchor: (Point) (centered by default, can be set in CSS with negative margins)\r\n\t\tpopupAnchor: (Point) (if not specified, popup opens in the anchor point)\r\n\t\tshadowUrl: (String) (no shadow by default)\r\n\t\tshadowRetinaUrl: (String) (optional, used for retina devices if detected)\r\n\t\tshadowSize: (Point)\r\n\t\tshadowAnchor: (Point)\r\n\t\t*/\r\n\t\tclassName: ''\r\n\t},\r\n\r\n\tinitialize: function (options) {\r\n\t\tL.setOptions(this, options);\r\n\t},\r\n\r\n\tcreateIcon: function (oldIcon) {\r\n\t\treturn this._createIcon('icon', oldIcon);\r\n\t},\r\n\r\n\tcreateShadow: function (oldIcon) {\r\n\t\treturn this._createIcon('shadow', oldIcon);\r\n\t},\r\n\r\n\t_createIcon: function (name, oldIcon) {\r\n\t\tvar src = this._getIconUrl(name);\r\n\r\n\t\tif (!src) {\r\n\t\t\tif (name === 'icon') {\r\n\t\t\t\tthrow new Error('iconUrl not set in Icon options (see the docs).');\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tvar img;\r\n\t\tif (!oldIcon || oldIcon.tagName !== 'IMG') {\r\n\t\t\timg = this._createImg(src);\r\n\t\t} else {\r\n\t\t\timg = this._createImg(src, oldIcon);\r\n\t\t}\r\n\t\tthis._setIconStyles(img, name);\r\n\r\n\t\treturn img;\r\n\t},\r\n\r\n\t_setIconStyles: function (img, name) {\r\n\t\tvar options = this.options,\r\n\t\t    size = L.point(options[name + 'Size']),\r\n\t\t    anchor;\r\n\r\n\t\tif (name === 'shadow') {\r\n\t\t\tanchor = L.point(options.shadowAnchor || options.iconAnchor);\r\n\t\t} else {\r\n\t\t\tanchor = L.point(options.iconAnchor);\r\n\t\t}\r\n\r\n\t\tif (!anchor && size) {\r\n\t\t\tanchor = size.divideBy(2, true);\r\n\t\t}\r\n\r\n\t\timg.className = 'leaflet-marker-' + name + ' ' + options.className;\r\n\r\n\t\tif (anchor) {\r\n\t\t\timg.style.marginLeft = (-anchor.x) + 'px';\r\n\t\t\timg.style.marginTop  = (-anchor.y) + 'px';\r\n\t\t}\r\n\r\n\t\tif (size) {\r\n\t\t\timg.style.width  = size.x + 'px';\r\n\t\t\timg.style.height = size.y + 'px';\r\n\t\t}\r\n\t},\r\n\r\n\t_createImg: function (src, el) {\r\n\t\tel = el || document.createElement('img');\r\n\t\tel.src = src;\r\n\t\treturn el;\r\n\t},\r\n\r\n\t_getIconUrl: function (name) {\r\n\t\tif (L.Browser.retina && this.options[name + 'RetinaUrl']) {\r\n\t\t\treturn this.options[name + 'RetinaUrl'];\r\n\t\t}\r\n\t\treturn this.options[name + 'Url'];\r\n\t}\r\n});\r\n\r\nL.icon = function (options) {\r\n\treturn new L.Icon(options);\r\n};\r\n\n\n/*\n * L.Icon.Default is the blue marker icon used by default in Leaflet.\n */\n\nL.Icon.Default = L.Icon.extend({\n\n\toptions: {\n\t\ticonSize: [25, 41],\n\t\ticonAnchor: [12, 41],\n\t\tpopupAnchor: [1, -34],\n\n\t\tshadowSize: [41, 41]\n\t},\n\n\t_getIconUrl: function (name) {\n\t\tvar key = name + 'Url';\n\n\t\tif (this.options[key]) {\n\t\t\treturn this.options[key];\n\t\t}\n\n\t\tif (L.Browser.retina && name === 'icon') {\n\t\t\tname += '-2x';\n\t\t}\n\n\t\tvar path = L.Icon.Default.imagePath;\n\n\t\tif (!path) {\n\t\t\tthrow new Error('Couldn\\'t autodetect L.Icon.Default.imagePath, set it manually.');\n\t\t}\n\n\t\treturn path + '/marker-' + name + '.png';\n\t}\n});\n\nL.Icon.Default.imagePath = (function () {\n\tvar scripts = document.getElementsByTagName('script'),\n\t    leafletRe = /[\\/^]leaflet[\\-\\._]?([\\w\\-\\._]*)\\.js\\??/;\n\n\tvar i, len, src, matches, path;\n\n\tfor (i = 0, len = scripts.length; i < len; i++) {\n\t\tsrc = scripts[i].src;\n\t\tmatches = src.match(leafletRe);\n\n\t\tif (matches) {\n\t\t\tpath = src.split(leafletRe)[0];\n\t\t\treturn (path ? path + '/' : '') + 'images';\n\t\t}\n\t}\n}());\n\n\n/*\r\n * L.Marker is used to display clickable/draggable icons on the map.\r\n */\r\n\r\nL.Marker = L.Class.extend({\r\n\r\n\tincludes: L.Mixin.Events,\r\n\r\n\toptions: {\r\n\t\ticon: new L.Icon.Default(),\r\n\t\ttitle: '',\r\n\t\talt: '',\r\n\t\tclickable: true,\r\n\t\tdraggable: false,\r\n\t\tkeyboard: true,\r\n\t\tzIndexOffset: 0,\r\n\t\topacity: 1,\r\n\t\triseOnHover: false,\r\n\t\triseOffset: 250\r\n\t},\r\n\r\n\tinitialize: function (latlng, options) {\r\n\t\tL.setOptions(this, options);\r\n\t\tthis._latlng = L.latLng(latlng);\r\n\t},\r\n\r\n\tonAdd: function (map) {\r\n\t\tthis._map = map;\r\n\r\n\t\tmap.on('viewreset', this.update, this);\r\n\r\n\t\tthis._initIcon();\r\n\t\tthis.update();\r\n\t\tthis.fire('add');\r\n\r\n\t\tif (map.options.zoomAnimation && map.options.markerZoomAnimation) {\r\n\t\t\tmap.on('zoomanim', this._animateZoom, this);\r\n\t\t}\r\n\t},\r\n\r\n\taddTo: function (map) {\r\n\t\tmap.addLayer(this);\r\n\t\treturn this;\r\n\t},\r\n\r\n\tonRemove: function (map) {\r\n\t\tif (this.dragging) {\r\n\t\t\tthis.dragging.disable();\r\n\t\t}\r\n\r\n\t\tthis._removeIcon();\r\n\t\tthis._removeShadow();\r\n\r\n\t\tthis.fire('remove');\r\n\r\n\t\tmap.off({\r\n\t\t\t'viewreset': this.update,\r\n\t\t\t'zoomanim': this._animateZoom\r\n\t\t}, this);\r\n\r\n\t\tthis._map = null;\r\n\t},\r\n\r\n\tgetLatLng: function () {\r\n\t\treturn this._latlng;\r\n\t},\r\n\r\n\tsetLatLng: function (latlng) {\r\n\t\tthis._latlng = L.latLng(latlng);\r\n\r\n\t\tthis.update();\r\n\r\n\t\treturn this.fire('move', { latlng: this._latlng });\r\n\t},\r\n\r\n\tsetZIndexOffset: function (offset) {\r\n\t\tthis.options.zIndexOffset = offset;\r\n\t\tthis.update();\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tsetIcon: function (icon) {\r\n\r\n\t\tthis.options.icon = icon;\r\n\r\n\t\tif (this._map) {\r\n\t\t\tthis._initIcon();\r\n\t\t\tthis.update();\r\n\t\t}\r\n\r\n\t\tif (this._popup) {\r\n\t\t\tthis.bindPopup(this._popup);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tupdate: function () {\r\n\t\tif (this._icon) {\r\n\t\t\tthis._setPos(this._map.latLngToLayerPoint(this._latlng).round());\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_initIcon: function () {\r\n\t\tvar options = this.options,\r\n\t\t    map = this._map,\r\n\t\t    animation = (map.options.zoomAnimation && map.options.markerZoomAnimation),\r\n\t\t    classToAdd = animation ? 'leaflet-zoom-animated' : 'leaflet-zoom-hide';\r\n\r\n\t\tvar icon = options.icon.createIcon(this._icon),\r\n\t\t\taddIcon = false;\r\n\r\n\t\t// if we're not reusing the icon, remove the old one and init new one\r\n\t\tif (icon !== this._icon) {\r\n\t\t\tif (this._icon) {\r\n\t\t\t\tthis._removeIcon();\r\n\t\t\t}\r\n\t\t\taddIcon = true;\r\n\r\n\t\t\tif (options.title) {\r\n\t\t\t\ticon.title = options.title;\r\n\t\t\t}\r\n\r\n\t\t\tif (options.alt) {\r\n\t\t\t\ticon.alt = options.alt;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tL.DomUtil.addClass(icon, classToAdd);\r\n\r\n\t\tif (options.keyboard) {\r\n\t\t\ticon.tabIndex = '0';\r\n\t\t}\r\n\r\n\t\tthis._icon = icon;\r\n\r\n\t\tthis._initInteraction();\r\n\r\n\t\tif (options.riseOnHover) {\r\n\t\t\tL.DomEvent\r\n\t\t\t\t.on(icon, 'mouseover', this._bringToFront, this)\r\n\t\t\t\t.on(icon, 'mouseout', this._resetZIndex, this);\r\n\t\t}\r\n\r\n\t\tvar newShadow = options.icon.createShadow(this._shadow),\r\n\t\t\taddShadow = false;\r\n\r\n\t\tif (newShadow !== this._shadow) {\r\n\t\t\tthis._removeShadow();\r\n\t\t\taddShadow = true;\r\n\t\t}\r\n\r\n\t\tif (newShadow) {\r\n\t\t\tL.DomUtil.addClass(newShadow, classToAdd);\r\n\t\t}\r\n\t\tthis._shadow = newShadow;\r\n\r\n\r\n\t\tif (options.opacity < 1) {\r\n\t\t\tthis._updateOpacity();\r\n\t\t}\r\n\r\n\r\n\t\tvar panes = this._map._panes;\r\n\r\n\t\tif (addIcon) {\r\n\t\t\tpanes.markerPane.appendChild(this._icon);\r\n\t\t}\r\n\r\n\t\tif (newShadow && addShadow) {\r\n\t\t\tpanes.shadowPane.appendChild(this._shadow);\r\n\t\t}\r\n\t},\r\n\r\n\t_removeIcon: function () {\r\n\t\tif (this.options.riseOnHover) {\r\n\t\t\tL.DomEvent\r\n\t\t\t    .off(this._icon, 'mouseover', this._bringToFront)\r\n\t\t\t    .off(this._icon, 'mouseout', this._resetZIndex);\r\n\t\t}\r\n\r\n\t\tthis._map._panes.markerPane.removeChild(this._icon);\r\n\r\n\t\tthis._icon = null;\r\n\t},\r\n\r\n\t_removeShadow: function () {\r\n\t\tif (this._shadow) {\r\n\t\t\tthis._map._panes.shadowPane.removeChild(this._shadow);\r\n\t\t}\r\n\t\tthis._shadow = null;\r\n\t},\r\n\r\n\t_setPos: function (pos) {\r\n\t\tL.DomUtil.setPosition(this._icon, pos);\r\n\r\n\t\tif (this._shadow) {\r\n\t\t\tL.DomUtil.setPosition(this._shadow, pos);\r\n\t\t}\r\n\r\n\t\tthis._zIndex = pos.y + this.options.zIndexOffset;\r\n\r\n\t\tthis._resetZIndex();\r\n\t},\r\n\r\n\t_updateZIndex: function (offset) {\r\n\t\tthis._icon.style.zIndex = this._zIndex + offset;\r\n\t},\r\n\r\n\t_animateZoom: function (opt) {\r\n\t\tvar pos = this._map._latLngToNewLayerPoint(this._latlng, opt.zoom, opt.center).round();\r\n\r\n\t\tthis._setPos(pos);\r\n\t},\r\n\r\n\t_initInteraction: function () {\r\n\r\n\t\tif (!this.options.clickable) { return; }\r\n\r\n\t\t// TODO refactor into something shared with Map/Path/etc. to DRY it up\r\n\r\n\t\tvar icon = this._icon,\r\n\t\t    events = ['dblclick', 'mousedown', 'mouseover', 'mouseout', 'contextmenu'];\r\n\r\n\t\tL.DomUtil.addClass(icon, 'leaflet-clickable');\r\n\t\tL.DomEvent.on(icon, 'click', this._onMouseClick, this);\r\n\t\tL.DomEvent.on(icon, 'keypress', this._onKeyPress, this);\r\n\r\n\t\tfor (var i = 0; i < events.length; i++) {\r\n\t\t\tL.DomEvent.on(icon, events[i], this._fireMouseEvent, this);\r\n\t\t}\r\n\r\n\t\tif (L.Handler.MarkerDrag) {\r\n\t\t\tthis.dragging = new L.Handler.MarkerDrag(this);\r\n\r\n\t\t\tif (this.options.draggable) {\r\n\t\t\t\tthis.dragging.enable();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t_onMouseClick: function (e) {\r\n\t\tvar wasDragged = this.dragging && this.dragging.moved();\r\n\r\n\t\tif (this.hasEventListeners(e.type) || wasDragged) {\r\n\t\t\tL.DomEvent.stopPropagation(e);\r\n\t\t}\r\n\r\n\t\tif (wasDragged) { return; }\r\n\r\n\t\tif ((!this.dragging || !this.dragging._enabled) && this._map.dragging && this._map.dragging.moved()) { return; }\r\n\r\n\t\tthis.fire(e.type, {\r\n\t\t\toriginalEvent: e,\r\n\t\t\tlatlng: this._latlng\r\n\t\t});\r\n\t},\r\n\r\n\t_onKeyPress: function (e) {\r\n\t\tif (e.keyCode === 13) {\r\n\t\t\tthis.fire('click', {\r\n\t\t\t\toriginalEvent: e,\r\n\t\t\t\tlatlng: this._latlng\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\r\n\t_fireMouseEvent: function (e) {\r\n\r\n\t\tthis.fire(e.type, {\r\n\t\t\toriginalEvent: e,\r\n\t\t\tlatlng: this._latlng\r\n\t\t});\r\n\r\n\t\t// TODO proper custom event propagation\r\n\t\t// this line will always be called if marker is in a FeatureGroup\r\n\t\tif (e.type === 'contextmenu' && this.hasEventListeners(e.type)) {\r\n\t\t\tL.DomEvent.preventDefault(e);\r\n\t\t}\r\n\t\tif (e.type !== 'mousedown') {\r\n\t\t\tL.DomEvent.stopPropagation(e);\r\n\t\t} else {\r\n\t\t\tL.DomEvent.preventDefault(e);\r\n\t\t}\r\n\t},\r\n\r\n\tsetOpacity: function (opacity) {\r\n\t\tthis.options.opacity = opacity;\r\n\t\tif (this._map) {\r\n\t\t\tthis._updateOpacity();\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_updateOpacity: function () {\r\n\t\tL.DomUtil.setOpacity(this._icon, this.options.opacity);\r\n\t\tif (this._shadow) {\r\n\t\t\tL.DomUtil.setOpacity(this._shadow, this.options.opacity);\r\n\t\t}\r\n\t},\r\n\r\n\t_bringToFront: function () {\r\n\t\tthis._updateZIndex(this.options.riseOffset);\r\n\t},\r\n\r\n\t_resetZIndex: function () {\r\n\t\tthis._updateZIndex(0);\r\n\t}\r\n});\r\n\r\nL.marker = function (latlng, options) {\r\n\treturn new L.Marker(latlng, options);\r\n};\r\n\n\n/*\n * L.DivIcon is a lightweight HTML-based icon class (as opposed to the image-based L.Icon)\n * to use with L.Marker.\n */\n\nL.DivIcon = L.Icon.extend({\n\toptions: {\n\t\ticonSize: [12, 12], // also can be set through CSS\n\t\t/*\n\t\ticonAnchor: (Point)\n\t\tpopupAnchor: (Point)\n\t\thtml: (String)\n\t\tbgPos: (Point)\n\t\t*/\n\t\tclassName: 'leaflet-div-icon',\n\t\thtml: false\n\t},\n\n\tcreateIcon: function (oldIcon) {\n\t\tvar div = (oldIcon && oldIcon.tagName === 'DIV') ? oldIcon : document.createElement('div'),\n\t\t    options = this.options;\n\n\t\tif (options.html !== false) {\n\t\t\tdiv.innerHTML = options.html;\n\t\t} else {\n\t\t\tdiv.innerHTML = '';\n\t\t}\n\n\t\tif (options.bgPos) {\n\t\t\tdiv.style.backgroundPosition =\n\t\t\t        (-options.bgPos.x) + 'px ' + (-options.bgPos.y) + 'px';\n\t\t}\n\n\t\tthis._setIconStyles(div, 'icon');\n\t\treturn div;\n\t},\n\n\tcreateShadow: function () {\n\t\treturn null;\n\t}\n});\n\nL.divIcon = function (options) {\n\treturn new L.DivIcon(options);\n};\n\n\n/*\r\n * L.Popup is used for displaying popups on the map.\r\n */\r\n\r\nL.Map.mergeOptions({\r\n\tclosePopupOnClick: true\r\n});\r\n\r\nL.Popup = L.Class.extend({\r\n\tincludes: L.Mixin.Events,\r\n\r\n\toptions: {\r\n\t\tminWidth: 50,\r\n\t\tmaxWidth: 300,\r\n\t\t// maxHeight: null,\r\n\t\tautoPan: true,\r\n\t\tcloseButton: true,\r\n\t\toffset: [0, 7],\r\n\t\tautoPanPadding: [5, 5],\r\n\t\t// autoPanPaddingTopLeft: null,\r\n\t\t// autoPanPaddingBottomRight: null,\r\n\t\tkeepInView: false,\r\n\t\tclassName: '',\r\n\t\tzoomAnimation: true\r\n\t},\r\n\r\n\tinitialize: function (options, source) {\r\n\t\tL.setOptions(this, options);\r\n\r\n\t\tthis._source = source;\r\n\t\tthis._animated = L.Browser.any3d && this.options.zoomAnimation;\r\n\t\tthis._isOpen = false;\r\n\t},\r\n\r\n\tonAdd: function (map) {\r\n\t\tthis._map = map;\r\n\r\n\t\tif (!this._container) {\r\n\t\t\tthis._initLayout();\r\n\t\t}\r\n\r\n\t\tvar animFade = map.options.fadeAnimation;\r\n\r\n\t\tif (animFade) {\r\n\t\t\tL.DomUtil.setOpacity(this._container, 0);\r\n\t\t}\r\n\t\tmap._panes.popupPane.appendChild(this._container);\r\n\r\n\t\tmap.on(this._getEvents(), this);\r\n\r\n\t\tthis.update();\r\n\r\n\t\tif (animFade) {\r\n\t\t\tL.DomUtil.setOpacity(this._container, 1);\r\n\t\t}\r\n\r\n\t\tthis.fire('open');\r\n\r\n\t\tmap.fire('popupopen', {popup: this});\r\n\r\n\t\tif (this._source) {\r\n\t\t\tthis._source.fire('popupopen', {popup: this});\r\n\t\t}\r\n\t},\r\n\r\n\taddTo: function (map) {\r\n\t\tmap.addLayer(this);\r\n\t\treturn this;\r\n\t},\r\n\r\n\topenOn: function (map) {\r\n\t\tmap.openPopup(this);\r\n\t\treturn this;\r\n\t},\r\n\r\n\tonRemove: function (map) {\r\n\t\tmap._panes.popupPane.removeChild(this._container);\r\n\r\n\t\tL.Util.falseFn(this._container.offsetWidth); // force reflow\r\n\r\n\t\tmap.off(this._getEvents(), this);\r\n\r\n\t\tif (map.options.fadeAnimation) {\r\n\t\t\tL.DomUtil.setOpacity(this._container, 0);\r\n\t\t}\r\n\r\n\t\tthis._map = null;\r\n\r\n\t\tthis.fire('close');\r\n\r\n\t\tmap.fire('popupclose', {popup: this});\r\n\r\n\t\tif (this._source) {\r\n\t\t\tthis._source.fire('popupclose', {popup: this});\r\n\t\t}\r\n\t},\r\n\r\n\tgetLatLng: function () {\r\n\t\treturn this._latlng;\r\n\t},\r\n\r\n\tsetLatLng: function (latlng) {\r\n\t\tthis._latlng = L.latLng(latlng);\r\n\t\tif (this._map) {\r\n\t\t\tthis._updatePosition();\r\n\t\t\tthis._adjustPan();\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\tgetContent: function () {\r\n\t\treturn this._content;\r\n\t},\r\n\r\n\tsetContent: function (content) {\r\n\t\tthis._content = content;\r\n\t\tthis.update();\r\n\t\treturn this;\r\n\t},\r\n\r\n\tupdate: function () {\r\n\t\tif (!this._map) { return; }\r\n\r\n\t\tthis._container.style.visibility = 'hidden';\r\n\r\n\t\tthis._updateContent();\r\n\t\tthis._updateLayout();\r\n\t\tthis._updatePosition();\r\n\r\n\t\tthis._container.style.visibility = '';\r\n\r\n\t\tthis._adjustPan();\r\n\t},\r\n\r\n\t_getEvents: function () {\r\n\t\tvar events = {\r\n\t\t\tviewreset: this._updatePosition\r\n\t\t};\r\n\r\n\t\tif (this._animated) {\r\n\t\t\tevents.zoomanim = this._zoomAnimation;\r\n\t\t}\r\n\t\tif ('closeOnClick' in this.options ? this.options.closeOnClick : this._map.options.closePopupOnClick) {\r\n\t\t\tevents.preclick = this._close;\r\n\t\t}\r\n\t\tif (this.options.keepInView) {\r\n\t\t\tevents.moveend = this._adjustPan;\r\n\t\t}\r\n\r\n\t\treturn events;\r\n\t},\r\n\r\n\t_close: function () {\r\n\t\tif (this._map) {\r\n\t\t\tthis._map.closePopup(this);\r\n\t\t}\r\n\t},\r\n\r\n\t_initLayout: function () {\r\n\t\tvar prefix = 'leaflet-popup',\r\n\t\t\tcontainerClass = prefix + ' ' + this.options.className + ' leaflet-zoom-' +\r\n\t\t\t        (this._animated ? 'animated' : 'hide'),\r\n\t\t\tcontainer = this._container = L.DomUtil.create('div', containerClass),\r\n\t\t\tcloseButton;\r\n\r\n\t\tif (this.options.closeButton) {\r\n\t\t\tcloseButton = this._closeButton =\r\n\t\t\t        L.DomUtil.create('a', prefix + '-close-button', container);\r\n\t\t\tcloseButton.href = '#close';\r\n\t\t\tcloseButton.innerHTML = '&#215;';\r\n\t\t\tL.DomEvent.disableClickPropagation(closeButton);\r\n\r\n\t\t\tL.DomEvent.on(closeButton, 'click', this._onCloseButtonClick, this);\r\n\t\t}\r\n\r\n\t\tvar wrapper = this._wrapper =\r\n\t\t        L.DomUtil.create('div', prefix + '-content-wrapper', container);\r\n\t\tL.DomEvent.disableClickPropagation(wrapper);\r\n\r\n\t\tthis._contentNode = L.DomUtil.create('div', prefix + '-content', wrapper);\r\n\r\n\t\tL.DomEvent.disableScrollPropagation(this._contentNode);\r\n\t\tL.DomEvent.on(wrapper, 'contextmenu', L.DomEvent.stopPropagation);\r\n\r\n\t\tthis._tipContainer = L.DomUtil.create('div', prefix + '-tip-container', container);\r\n\t\tthis._tip = L.DomUtil.create('div', prefix + '-tip', this._tipContainer);\r\n\t},\r\n\r\n\t_updateContent: function () {\r\n\t\tif (!this._content) { return; }\r\n\r\n\t\tif (typeof this._content === 'string') {\r\n\t\t\tthis._contentNode.innerHTML = this._content;\r\n\t\t} else {\r\n\t\t\twhile (this._contentNode.hasChildNodes()) {\r\n\t\t\t\tthis._contentNode.removeChild(this._contentNode.firstChild);\r\n\t\t\t}\r\n\t\t\tthis._contentNode.appendChild(this._content);\r\n\t\t}\r\n\t\tthis.fire('contentupdate');\r\n\t},\r\n\r\n\t_updateLayout: function () {\r\n\t\tvar container = this._contentNode,\r\n\t\t    style = container.style;\r\n\r\n\t\tstyle.width = '';\r\n\t\tstyle.whiteSpace = 'nowrap';\r\n\r\n\t\tvar width = container.offsetWidth;\r\n\t\twidth = Math.min(width, this.options.maxWidth);\r\n\t\twidth = Math.max(width, this.options.minWidth);\r\n\r\n\t\tstyle.width = (width + 1) + 'px';\r\n\t\tstyle.whiteSpace = '';\r\n\r\n\t\tstyle.height = '';\r\n\r\n\t\tvar height = container.offsetHeight,\r\n\t\t    maxHeight = this.options.maxHeight,\r\n\t\t    scrolledClass = 'leaflet-popup-scrolled';\r\n\r\n\t\tif (maxHeight && height > maxHeight) {\r\n\t\t\tstyle.height = maxHeight + 'px';\r\n\t\t\tL.DomUtil.addClass(container, scrolledClass);\r\n\t\t} else {\r\n\t\t\tL.DomUtil.removeClass(container, scrolledClass);\r\n\t\t}\r\n\r\n\t\tthis._containerWidth = this._container.offsetWidth;\r\n\t},\r\n\r\n\t_updatePosition: function () {\r\n\t\tif (!this._map) { return; }\r\n\r\n\t\tvar pos = this._map.latLngToLayerPoint(this._latlng),\r\n\t\t    animated = this._animated,\r\n\t\t    offset = L.point(this.options.offset);\r\n\r\n\t\tif (animated) {\r\n\t\t\tL.DomUtil.setPosition(this._container, pos);\r\n\t\t}\r\n\r\n\t\tthis._containerBottom = -offset.y - (animated ? 0 : pos.y);\r\n\t\tthis._containerLeft = -Math.round(this._containerWidth / 2) + offset.x + (animated ? 0 : pos.x);\r\n\r\n\t\t// bottom position the popup in case the height of the popup changes (images loading etc)\r\n\t\tthis._container.style.bottom = this._containerBottom + 'px';\r\n\t\tthis._container.style.left = this._containerLeft + 'px';\r\n\t},\r\n\r\n\t_zoomAnimation: function (opt) {\r\n\t\tvar pos = this._map._latLngToNewLayerPoint(this._latlng, opt.zoom, opt.center);\r\n\r\n\t\tL.DomUtil.setPosition(this._container, pos);\r\n\t},\r\n\r\n\t_adjustPan: function () {\r\n\t\tif (!this.options.autoPan) { return; }\r\n\r\n\t\tvar map = this._map,\r\n\t\t    containerHeight = this._container.offsetHeight,\r\n\t\t    containerWidth = this._containerWidth,\r\n\r\n\t\t    layerPos = new L.Point(this._containerLeft, -containerHeight - this._containerBottom);\r\n\r\n\t\tif (this._animated) {\r\n\t\t\tlayerPos._add(L.DomUtil.getPosition(this._container));\r\n\t\t}\r\n\r\n\t\tvar containerPos = map.layerPointToContainerPoint(layerPos),\r\n\t\t    padding = L.point(this.options.autoPanPadding),\r\n\t\t    paddingTL = L.point(this.options.autoPanPaddingTopLeft || padding),\r\n\t\t    paddingBR = L.point(this.options.autoPanPaddingBottomRight || padding),\r\n\t\t    size = map.getSize(),\r\n\t\t    dx = 0,\r\n\t\t    dy = 0;\r\n\r\n\t\tif (containerPos.x + containerWidth + paddingBR.x > size.x) { // right\r\n\t\t\tdx = containerPos.x + containerWidth - size.x + paddingBR.x;\r\n\t\t}\r\n\t\tif (containerPos.x - dx - paddingTL.x < 0) { // left\r\n\t\t\tdx = containerPos.x - paddingTL.x;\r\n\t\t}\r\n\t\tif (containerPos.y + containerHeight + paddingBR.y > size.y) { // bottom\r\n\t\t\tdy = containerPos.y + containerHeight - size.y + paddingBR.y;\r\n\t\t}\r\n\t\tif (containerPos.y - dy - paddingTL.y < 0) { // top\r\n\t\t\tdy = containerPos.y - paddingTL.y;\r\n\t\t}\r\n\r\n\t\tif (dx || dy) {\r\n\t\t\tmap\r\n\t\t\t    .fire('autopanstart')\r\n\t\t\t    .panBy([dx, dy]);\r\n\t\t}\r\n\t},\r\n\r\n\t_onCloseButtonClick: function (e) {\r\n\t\tthis._close();\r\n\t\tL.DomEvent.stop(e);\r\n\t}\r\n});\r\n\r\nL.popup = function (options, source) {\r\n\treturn new L.Popup(options, source);\r\n};\r\n\r\n\r\nL.Map.include({\r\n\topenPopup: function (popup, latlng, options) { // (Popup) or (String || HTMLElement, LatLng[, Object])\r\n\t\tthis.closePopup();\r\n\r\n\t\tif (!(popup instanceof L.Popup)) {\r\n\t\t\tvar content = popup;\r\n\r\n\t\t\tpopup = new L.Popup(options)\r\n\t\t\t    .setLatLng(latlng)\r\n\t\t\t    .setContent(content);\r\n\t\t}\r\n\t\tpopup._isOpen = true;\r\n\r\n\t\tthis._popup = popup;\r\n\t\treturn this.addLayer(popup);\r\n\t},\r\n\r\n\tclosePopup: function (popup) {\r\n\t\tif (!popup || popup === this._popup) {\r\n\t\t\tpopup = this._popup;\r\n\t\t\tthis._popup = null;\r\n\t\t}\r\n\t\tif (popup) {\r\n\t\t\tthis.removeLayer(popup);\r\n\t\t\tpopup._isOpen = false;\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n});\r\n\n\n/*\r\n * Popup extension to L.Marker, adding popup-related methods.\r\n */\r\n\r\nL.Marker.include({\r\n\topenPopup: function () {\r\n\t\tif (this._popup && this._map && !this._map.hasLayer(this._popup)) {\r\n\t\t\tthis._popup.setLatLng(this._latlng);\r\n\t\t\tthis._map.openPopup(this._popup);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tclosePopup: function () {\r\n\t\tif (this._popup) {\r\n\t\t\tthis._popup._close();\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\ttogglePopup: function () {\r\n\t\tif (this._popup) {\r\n\t\t\tif (this._popup._isOpen) {\r\n\t\t\t\tthis.closePopup();\r\n\t\t\t} else {\r\n\t\t\t\tthis.openPopup();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\tbindPopup: function (content, options) {\r\n\t\tvar anchor = L.point(this.options.icon.options.popupAnchor || [0, 0]);\r\n\r\n\t\tanchor = anchor.add(L.Popup.prototype.options.offset);\r\n\r\n\t\tif (options && options.offset) {\r\n\t\t\tanchor = anchor.add(options.offset);\r\n\t\t}\r\n\r\n\t\toptions = L.extend({offset: anchor}, options);\r\n\r\n\t\tif (!this._popupHandlersAdded) {\r\n\t\t\tthis\r\n\t\t\t    .on('click', this.togglePopup, this)\r\n\t\t\t    .on('remove', this.closePopup, this)\r\n\t\t\t    .on('move', this._movePopup, this);\r\n\t\t\tthis._popupHandlersAdded = true;\r\n\t\t}\r\n\r\n\t\tif (content instanceof L.Popup) {\r\n\t\t\tL.setOptions(content, options);\r\n\t\t\tthis._popup = content;\r\n\t\t\tcontent._source = this;\r\n\t\t} else {\r\n\t\t\tthis._popup = new L.Popup(options, this)\r\n\t\t\t\t.setContent(content);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tsetPopupContent: function (content) {\r\n\t\tif (this._popup) {\r\n\t\t\tthis._popup.setContent(content);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\tunbindPopup: function () {\r\n\t\tif (this._popup) {\r\n\t\t\tthis._popup = null;\r\n\t\t\tthis\r\n\t\t\t    .off('click', this.togglePopup, this)\r\n\t\t\t    .off('remove', this.closePopup, this)\r\n\t\t\t    .off('move', this._movePopup, this);\r\n\t\t\tthis._popupHandlersAdded = false;\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\tgetPopup: function () {\r\n\t\treturn this._popup;\r\n\t},\r\n\r\n\t_movePopup: function (e) {\r\n\t\tthis._popup.setLatLng(e.latlng);\r\n\t}\r\n});\r\n\n\n/*\r\n * L.LayerGroup is a class to combine several layers into one so that\r\n * you can manipulate the group (e.g. add/remove it) as one layer.\r\n */\r\n\r\nL.LayerGroup = L.Class.extend({\r\n\tinitialize: function (layers) {\r\n\t\tthis._layers = {};\r\n\r\n\t\tvar i, len;\r\n\r\n\t\tif (layers) {\r\n\t\t\tfor (i = 0, len = layers.length; i < len; i++) {\r\n\t\t\t\tthis.addLayer(layers[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\taddLayer: function (layer) {\r\n\t\tvar id = this.getLayerId(layer);\r\n\r\n\t\tthis._layers[id] = layer;\r\n\r\n\t\tif (this._map) {\r\n\t\t\tthis._map.addLayer(layer);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tremoveLayer: function (layer) {\r\n\t\tvar id = layer in this._layers ? layer : this.getLayerId(layer);\r\n\r\n\t\tif (this._map && this._layers[id]) {\r\n\t\t\tthis._map.removeLayer(this._layers[id]);\r\n\t\t}\r\n\r\n\t\tdelete this._layers[id];\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\thasLayer: function (layer) {\r\n\t\tif (!layer) { return false; }\r\n\r\n\t\treturn (layer in this._layers || this.getLayerId(layer) in this._layers);\r\n\t},\r\n\r\n\tclearLayers: function () {\r\n\t\tthis.eachLayer(this.removeLayer, this);\r\n\t\treturn this;\r\n\t},\r\n\r\n\tinvoke: function (methodName) {\r\n\t\tvar args = Array.prototype.slice.call(arguments, 1),\r\n\t\t    i, layer;\r\n\r\n\t\tfor (i in this._layers) {\r\n\t\t\tlayer = this._layers[i];\r\n\r\n\t\t\tif (layer[methodName]) {\r\n\t\t\t\tlayer[methodName].apply(layer, args);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tonAdd: function (map) {\r\n\t\tthis._map = map;\r\n\t\tthis.eachLayer(map.addLayer, map);\r\n\t},\r\n\r\n\tonRemove: function (map) {\r\n\t\tthis.eachLayer(map.removeLayer, map);\r\n\t\tthis._map = null;\r\n\t},\r\n\r\n\taddTo: function (map) {\r\n\t\tmap.addLayer(this);\r\n\t\treturn this;\r\n\t},\r\n\r\n\teachLayer: function (method, context) {\r\n\t\tfor (var i in this._layers) {\r\n\t\t\tmethod.call(context, this._layers[i]);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\tgetLayer: function (id) {\r\n\t\treturn this._layers[id];\r\n\t},\r\n\r\n\tgetLayers: function () {\r\n\t\tvar layers = [];\r\n\r\n\t\tfor (var i in this._layers) {\r\n\t\t\tlayers.push(this._layers[i]);\r\n\t\t}\r\n\t\treturn layers;\r\n\t},\r\n\r\n\tsetZIndex: function (zIndex) {\r\n\t\treturn this.invoke('setZIndex', zIndex);\r\n\t},\r\n\r\n\tgetLayerId: function (layer) {\r\n\t\treturn L.stamp(layer);\r\n\t}\r\n});\r\n\r\nL.layerGroup = function (layers) {\r\n\treturn new L.LayerGroup(layers);\r\n};\r\n\n\n/*\r\n * L.FeatureGroup extends L.LayerGroup by introducing mouse events and additional methods\r\n * shared between a group of interactive layers (like vectors or markers).\r\n */\r\n\r\nL.FeatureGroup = L.LayerGroup.extend({\r\n\tincludes: L.Mixin.Events,\r\n\r\n\tstatics: {\r\n\t\tEVENTS: 'click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose'\r\n\t},\r\n\r\n\taddLayer: function (layer) {\r\n\t\tif (this.hasLayer(layer)) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tif ('on' in layer) {\r\n\t\t\tlayer.on(L.FeatureGroup.EVENTS, this._propagateEvent, this);\r\n\t\t}\r\n\r\n\t\tL.LayerGroup.prototype.addLayer.call(this, layer);\r\n\r\n\t\tif (this._popupContent && layer.bindPopup) {\r\n\t\t\tlayer.bindPopup(this._popupContent, this._popupOptions);\r\n\t\t}\r\n\r\n\t\treturn this.fire('layeradd', {layer: layer});\r\n\t},\r\n\r\n\tremoveLayer: function (layer) {\r\n\t\tif (!this.hasLayer(layer)) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\tif (layer in this._layers) {\r\n\t\t\tlayer = this._layers[layer];\r\n\t\t}\r\n\r\n\t\tlayer.off(L.FeatureGroup.EVENTS, this._propagateEvent, this);\r\n\r\n\t\tL.LayerGroup.prototype.removeLayer.call(this, layer);\r\n\r\n\t\tif (this._popupContent) {\r\n\t\t\tthis.invoke('unbindPopup');\r\n\t\t}\r\n\r\n\t\treturn this.fire('layerremove', {layer: layer});\r\n\t},\r\n\r\n\tbindPopup: function (content, options) {\r\n\t\tthis._popupContent = content;\r\n\t\tthis._popupOptions = options;\r\n\t\treturn this.invoke('bindPopup', content, options);\r\n\t},\r\n\r\n\topenPopup: function (latlng) {\r\n\t\t// open popup on the first layer\r\n\t\tfor (var id in this._layers) {\r\n\t\t\tthis._layers[id].openPopup(latlng);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\tsetStyle: function (style) {\r\n\t\treturn this.invoke('setStyle', style);\r\n\t},\r\n\r\n\tbringToFront: function () {\r\n\t\treturn this.invoke('bringToFront');\r\n\t},\r\n\r\n\tbringToBack: function () {\r\n\t\treturn this.invoke('bringToBack');\r\n\t},\r\n\r\n\tgetBounds: function () {\r\n\t\tvar bounds = new L.LatLngBounds();\r\n\r\n\t\tthis.eachLayer(function (layer) {\r\n\t\t\tbounds.extend(layer instanceof L.Marker ? layer.getLatLng() : layer.getBounds());\r\n\t\t});\r\n\r\n\t\treturn bounds;\r\n\t},\r\n\r\n\t_propagateEvent: function (e) {\r\n\t\te = L.extend({\r\n\t\t\tlayer: e.target,\r\n\t\t\ttarget: this\r\n\t\t}, e);\r\n\t\tthis.fire(e.type, e);\r\n\t}\r\n});\r\n\r\nL.featureGroup = function (layers) {\r\n\treturn new L.FeatureGroup(layers);\r\n};\r\n\n\n/*\r\n * L.Path is a base class for rendering vector paths on a map. Inherited by Polyline, Circle, etc.\r\n */\r\n\r\nL.Path = L.Class.extend({\r\n\tincludes: [L.Mixin.Events],\r\n\r\n\tstatics: {\r\n\t\t// how much to extend the clip area around the map view\r\n\t\t// (relative to its size, e.g. 0.5 is half the screen in each direction)\r\n\t\t// set it so that SVG element doesn't exceed 1280px (vectors flicker on dragend if it is)\r\n\t\tCLIP_PADDING: (function () {\r\n\t\t\tvar max = L.Browser.mobile ? 1280 : 2000,\r\n\t\t\t    target = (max / Math.max(window.outerWidth, window.outerHeight) - 1) / 2;\r\n\t\t\treturn Math.max(0, Math.min(0.5, target));\r\n\t\t})()\r\n\t},\r\n\r\n\toptions: {\r\n\t\tstroke: true,\r\n\t\tcolor: '#0033ff',\r\n\t\tdashArray: null,\r\n\t\tlineCap: null,\r\n\t\tlineJoin: null,\r\n\t\tweight: 5,\r\n\t\topacity: 0.5,\r\n\r\n\t\tfill: false,\r\n\t\tfillColor: null, //same as color by default\r\n\t\tfillOpacity: 0.2,\r\n\r\n\t\tclickable: true\r\n\t},\r\n\r\n\tinitialize: function (options) {\r\n\t\tL.setOptions(this, options);\r\n\t},\r\n\r\n\tonAdd: function (map) {\r\n\t\tthis._map = map;\r\n\r\n\t\tif (!this._container) {\r\n\t\t\tthis._initElements();\r\n\t\t\tthis._initEvents();\r\n\t\t}\r\n\r\n\t\tthis.projectLatlngs();\r\n\t\tthis._updatePath();\r\n\r\n\t\tif (this._container) {\r\n\t\t\tthis._map._pathRoot.appendChild(this._container);\r\n\t\t}\r\n\r\n\t\tthis.fire('add');\r\n\r\n\t\tmap.on({\r\n\t\t\t'viewreset': this.projectLatlngs,\r\n\t\t\t'moveend': this._updatePath\r\n\t\t}, this);\r\n\t},\r\n\r\n\taddTo: function (map) {\r\n\t\tmap.addLayer(this);\r\n\t\treturn this;\r\n\t},\r\n\r\n\tonRemove: function (map) {\r\n\t\tmap._pathRoot.removeChild(this._container);\r\n\r\n\t\t// Need to fire remove event before we set _map to null as the event hooks might need the object\r\n\t\tthis.fire('remove');\r\n\t\tthis._map = null;\r\n\r\n\t\tif (L.Browser.vml) {\r\n\t\t\tthis._container = null;\r\n\t\t\tthis._stroke = null;\r\n\t\t\tthis._fill = null;\r\n\t\t}\r\n\r\n\t\tmap.off({\r\n\t\t\t'viewreset': this.projectLatlngs,\r\n\t\t\t'moveend': this._updatePath\r\n\t\t}, this);\r\n\t},\r\n\r\n\tprojectLatlngs: function () {\r\n\t\t// do all projection stuff here\r\n\t},\r\n\r\n\tsetStyle: function (style) {\r\n\t\tL.setOptions(this, style);\r\n\r\n\t\tif (this._container) {\r\n\t\t\tthis._updateStyle();\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tredraw: function () {\r\n\t\tif (this._map) {\r\n\t\t\tthis.projectLatlngs();\r\n\t\t\tthis._updatePath();\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n});\r\n\r\nL.Map.include({\r\n\t_updatePathViewport: function () {\r\n\t\tvar p = L.Path.CLIP_PADDING,\r\n\t\t    size = this.getSize(),\r\n\t\t    panePos = L.DomUtil.getPosition(this._mapPane),\r\n\t\t    min = panePos.multiplyBy(-1)._subtract(size.multiplyBy(p)._round()),\r\n\t\t    max = min.add(size.multiplyBy(1 + p * 2)._round());\r\n\r\n\t\tthis._pathViewport = new L.Bounds(min, max);\r\n\t}\r\n});\r\n\n\n/*\r\n * Extends L.Path with SVG-specific rendering code.\r\n */\r\n\r\nL.Path.SVG_NS = 'http://www.w3.org/2000/svg';\r\n\r\nL.Browser.svg = !!(document.createElementNS && document.createElementNS(L.Path.SVG_NS, 'svg').createSVGRect);\r\n\r\nL.Path = L.Path.extend({\r\n\tstatics: {\r\n\t\tSVG: L.Browser.svg\r\n\t},\r\n\r\n\tbringToFront: function () {\r\n\t\tvar root = this._map._pathRoot,\r\n\t\t    path = this._container;\r\n\r\n\t\tif (path && root.lastChild !== path) {\r\n\t\t\troot.appendChild(path);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\tbringToBack: function () {\r\n\t\tvar root = this._map._pathRoot,\r\n\t\t    path = this._container,\r\n\t\t    first = root.firstChild;\r\n\r\n\t\tif (path && first !== path) {\r\n\t\t\troot.insertBefore(path, first);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\tgetPathString: function () {\r\n\t\t// form path string here\r\n\t},\r\n\r\n\t_createElement: function (name) {\r\n\t\treturn document.createElementNS(L.Path.SVG_NS, name);\r\n\t},\r\n\r\n\t_initElements: function () {\r\n\t\tthis._map._initPathRoot();\r\n\t\tthis._initPath();\r\n\t\tthis._initStyle();\r\n\t},\r\n\r\n\t_initPath: function () {\r\n\t\tthis._container = this._createElement('g');\r\n\r\n\t\tthis._path = this._createElement('path');\r\n\r\n\t\tif (this.options.className) {\r\n\t\t\tL.DomUtil.addClass(this._path, this.options.className);\r\n\t\t}\r\n\r\n\t\tthis._container.appendChild(this._path);\r\n\t},\r\n\r\n\t_initStyle: function () {\r\n\t\tif (this.options.stroke) {\r\n\t\t\tthis._path.setAttribute('stroke-linejoin', 'round');\r\n\t\t\tthis._path.setAttribute('stroke-linecap', 'round');\r\n\t\t}\r\n\t\tif (this.options.fill) {\r\n\t\t\tthis._path.setAttribute('fill-rule', 'evenodd');\r\n\t\t}\r\n\t\tif (this.options.pointerEvents) {\r\n\t\t\tthis._path.setAttribute('pointer-events', this.options.pointerEvents);\r\n\t\t}\r\n\t\tif (!this.options.clickable && !this.options.pointerEvents) {\r\n\t\t\tthis._path.setAttribute('pointer-events', 'none');\r\n\t\t}\r\n\t\tthis._updateStyle();\r\n\t},\r\n\r\n\t_updateStyle: function () {\r\n\t\tif (this.options.stroke) {\r\n\t\t\tthis._path.setAttribute('stroke', this.options.color);\r\n\t\t\tthis._path.setAttribute('stroke-opacity', this.options.opacity);\r\n\t\t\tthis._path.setAttribute('stroke-width', this.options.weight);\r\n\t\t\tif (this.options.dashArray) {\r\n\t\t\t\tthis._path.setAttribute('stroke-dasharray', this.options.dashArray);\r\n\t\t\t} else {\r\n\t\t\t\tthis._path.removeAttribute('stroke-dasharray');\r\n\t\t\t}\r\n\t\t\tif (this.options.lineCap) {\r\n\t\t\t\tthis._path.setAttribute('stroke-linecap', this.options.lineCap);\r\n\t\t\t}\r\n\t\t\tif (this.options.lineJoin) {\r\n\t\t\t\tthis._path.setAttribute('stroke-linejoin', this.options.lineJoin);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis._path.setAttribute('stroke', 'none');\r\n\t\t}\r\n\t\tif (this.options.fill) {\r\n\t\t\tthis._path.setAttribute('fill', this.options.fillColor || this.options.color);\r\n\t\t\tthis._path.setAttribute('fill-opacity', this.options.fillOpacity);\r\n\t\t} else {\r\n\t\t\tthis._path.setAttribute('fill', 'none');\r\n\t\t}\r\n\t},\r\n\r\n\t_updatePath: function () {\r\n\t\tvar str = this.getPathString();\r\n\t\tif (!str) {\r\n\t\t\t// fix webkit empty string parsing bug\r\n\t\t\tstr = 'M0 0';\r\n\t\t}\r\n\t\tthis._path.setAttribute('d', str);\r\n\t},\r\n\r\n\t// TODO remove duplication with L.Map\r\n\t_initEvents: function () {\r\n\t\tif (this.options.clickable) {\r\n\t\t\tif (L.Browser.svg || !L.Browser.vml) {\r\n\t\t\t\tL.DomUtil.addClass(this._path, 'leaflet-clickable');\r\n\t\t\t}\r\n\r\n\t\t\tL.DomEvent.on(this._container, 'click', this._onMouseClick, this);\r\n\r\n\t\t\tvar events = ['dblclick', 'mousedown', 'mouseover',\r\n\t\t\t              'mouseout', 'mousemove', 'contextmenu'];\r\n\t\t\tfor (var i = 0; i < events.length; i++) {\r\n\t\t\t\tL.DomEvent.on(this._container, events[i], this._fireMouseEvent, this);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t_onMouseClick: function (e) {\r\n\t\tif (this._map.dragging && this._map.dragging.moved()) { return; }\r\n\r\n\t\tthis._fireMouseEvent(e);\r\n\t},\r\n\r\n\t_fireMouseEvent: function (e) {\r\n\t\tif (!this.hasEventListeners(e.type)) { return; }\r\n\r\n\t\tvar map = this._map,\r\n\t\t    containerPoint = map.mouseEventToContainerPoint(e),\r\n\t\t    layerPoint = map.containerPointToLayerPoint(containerPoint),\r\n\t\t    latlng = map.layerPointToLatLng(layerPoint);\r\n\r\n\t\tthis.fire(e.type, {\r\n\t\t\tlatlng: latlng,\r\n\t\t\tlayerPoint: layerPoint,\r\n\t\t\tcontainerPoint: containerPoint,\r\n\t\t\toriginalEvent: e\r\n\t\t});\r\n\r\n\t\tif (e.type === 'contextmenu') {\r\n\t\t\tL.DomEvent.preventDefault(e);\r\n\t\t}\r\n\t\tif (e.type !== 'mousemove') {\r\n\t\t\tL.DomEvent.stopPropagation(e);\r\n\t\t}\r\n\t}\r\n});\r\n\r\nL.Map.include({\r\n\t_initPathRoot: function () {\r\n\t\tif (!this._pathRoot) {\r\n\t\t\tthis._pathRoot = L.Path.prototype._createElement('svg');\r\n\t\t\tthis._panes.overlayPane.appendChild(this._pathRoot);\r\n\r\n\t\t\tif (this.options.zoomAnimation && L.Browser.any3d) {\r\n\t\t\t\tL.DomUtil.addClass(this._pathRoot, 'leaflet-zoom-animated');\r\n\r\n\t\t\t\tthis.on({\r\n\t\t\t\t\t'zoomanim': this._animatePathZoom,\r\n\t\t\t\t\t'zoomend': this._endPathZoom\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tL.DomUtil.addClass(this._pathRoot, 'leaflet-zoom-hide');\r\n\t\t\t}\r\n\r\n\t\t\tthis.on('moveend', this._updateSvgViewport);\r\n\t\t\tthis._updateSvgViewport();\r\n\t\t}\r\n\t},\r\n\r\n\t_animatePathZoom: function (e) {\r\n\t\tvar scale = this.getZoomScale(e.zoom),\r\n\t\t    offset = this._getCenterOffset(e.center)._multiplyBy(-scale)._add(this._pathViewport.min);\r\n\r\n\t\tthis._pathRoot.style[L.DomUtil.TRANSFORM] =\r\n\t\t        L.DomUtil.getTranslateString(offset) + ' scale(' + scale + ') ';\r\n\r\n\t\tthis._pathZooming = true;\r\n\t},\r\n\r\n\t_endPathZoom: function () {\r\n\t\tthis._pathZooming = false;\r\n\t},\r\n\r\n\t_updateSvgViewport: function () {\r\n\r\n\t\tif (this._pathZooming) {\r\n\t\t\t// Do not update SVGs while a zoom animation is going on otherwise the animation will break.\r\n\t\t\t// When the zoom animation ends we will be updated again anyway\r\n\t\t\t// This fixes the case where you do a momentum move and zoom while the move is still ongoing.\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis._updatePathViewport();\r\n\r\n\t\tvar vp = this._pathViewport,\r\n\t\t    min = vp.min,\r\n\t\t    max = vp.max,\r\n\t\t    width = max.x - min.x,\r\n\t\t    height = max.y - min.y,\r\n\t\t    root = this._pathRoot,\r\n\t\t    pane = this._panes.overlayPane;\r\n\r\n\t\t// Hack to make flicker on drag end on mobile webkit less irritating\r\n\t\tif (L.Browser.mobileWebkit) {\r\n\t\t\tpane.removeChild(root);\r\n\t\t}\r\n\r\n\t\tL.DomUtil.setPosition(root, min);\r\n\t\troot.setAttribute('width', width);\r\n\t\troot.setAttribute('height', height);\r\n\t\troot.setAttribute('viewBox', [min.x, min.y, width, height].join(' '));\r\n\r\n\t\tif (L.Browser.mobileWebkit) {\r\n\t\t\tpane.appendChild(root);\r\n\t\t}\r\n\t}\r\n});\r\n\n\n/*\r\n * Popup extension to L.Path (polylines, polygons, circles), adding popup-related methods.\r\n */\r\n\r\nL.Path.include({\r\n\r\n\tbindPopup: function (content, options) {\r\n\r\n\t\tif (content instanceof L.Popup) {\r\n\t\t\tthis._popup = content;\r\n\t\t} else {\r\n\t\t\tif (!this._popup || options) {\r\n\t\t\t\tthis._popup = new L.Popup(options, this);\r\n\t\t\t}\r\n\t\t\tthis._popup.setContent(content);\r\n\t\t}\r\n\r\n\t\tif (!this._popupHandlersAdded) {\r\n\t\t\tthis\r\n\t\t\t    .on('click', this._openPopup, this)\r\n\t\t\t    .on('remove', this.closePopup, this);\r\n\r\n\t\t\tthis._popupHandlersAdded = true;\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tunbindPopup: function () {\r\n\t\tif (this._popup) {\r\n\t\t\tthis._popup = null;\r\n\t\t\tthis\r\n\t\t\t    .off('click', this._openPopup)\r\n\t\t\t    .off('remove', this.closePopup);\r\n\r\n\t\t\tthis._popupHandlersAdded = false;\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\topenPopup: function (latlng) {\r\n\r\n\t\tif (this._popup) {\r\n\t\t\t// open the popup from one of the path's points if not specified\r\n\t\t\tlatlng = latlng || this._latlng ||\r\n\t\t\t         this._latlngs[Math.floor(this._latlngs.length / 2)];\r\n\r\n\t\t\tthis._openPopup({latlng: latlng});\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tclosePopup: function () {\r\n\t\tif (this._popup) {\r\n\t\t\tthis._popup._close();\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_openPopup: function (e) {\r\n\t\tthis._popup.setLatLng(e.latlng);\r\n\t\tthis._map.openPopup(this._popup);\r\n\t}\r\n});\r\n\n\n/*\r\n * Vector rendering for IE6-8 through VML.\r\n * Thanks to Dmitry Baranovsky and his Raphael library for inspiration!\r\n */\r\n\r\nL.Browser.vml = !L.Browser.svg && (function () {\r\n\ttry {\r\n\t\tvar div = document.createElement('div');\r\n\t\tdiv.innerHTML = '<v:shape adj=\"1\"/>';\r\n\r\n\t\tvar shape = div.firstChild;\r\n\t\tshape.style.behavior = 'url(#default#VML)';\r\n\r\n\t\treturn shape && (typeof shape.adj === 'object');\r\n\r\n\t} catch (e) {\r\n\t\treturn false;\r\n\t}\r\n}());\r\n\r\nL.Path = L.Browser.svg || !L.Browser.vml ? L.Path : L.Path.extend({\r\n\tstatics: {\r\n\t\tVML: true,\r\n\t\tCLIP_PADDING: 0.02\r\n\t},\r\n\r\n\t_createElement: (function () {\r\n\t\ttry {\r\n\t\t\tdocument.namespaces.add('lvml', 'urn:schemas-microsoft-com:vml');\r\n\t\t\treturn function (name) {\r\n\t\t\t\treturn document.createElement('<lvml:' + name + ' class=\"lvml\">');\r\n\t\t\t};\r\n\t\t} catch (e) {\r\n\t\t\treturn function (name) {\r\n\t\t\t\treturn document.createElement(\r\n\t\t\t\t        '<' + name + ' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"lvml\">');\r\n\t\t\t};\r\n\t\t}\r\n\t}()),\r\n\r\n\t_initPath: function () {\r\n\t\tvar container = this._container = this._createElement('shape');\r\n\r\n\t\tL.DomUtil.addClass(container, 'leaflet-vml-shape' +\r\n\t\t\t(this.options.className ? ' ' + this.options.className : ''));\r\n\r\n\t\tif (this.options.clickable) {\r\n\t\t\tL.DomUtil.addClass(container, 'leaflet-clickable');\r\n\t\t}\r\n\r\n\t\tcontainer.coordsize = '1 1';\r\n\r\n\t\tthis._path = this._createElement('path');\r\n\t\tcontainer.appendChild(this._path);\r\n\r\n\t\tthis._map._pathRoot.appendChild(container);\r\n\t},\r\n\r\n\t_initStyle: function () {\r\n\t\tthis._updateStyle();\r\n\t},\r\n\r\n\t_updateStyle: function () {\r\n\t\tvar stroke = this._stroke,\r\n\t\t    fill = this._fill,\r\n\t\t    options = this.options,\r\n\t\t    container = this._container;\r\n\r\n\t\tcontainer.stroked = options.stroke;\r\n\t\tcontainer.filled = options.fill;\r\n\r\n\t\tif (options.stroke) {\r\n\t\t\tif (!stroke) {\r\n\t\t\t\tstroke = this._stroke = this._createElement('stroke');\r\n\t\t\t\tstroke.endcap = 'round';\r\n\t\t\t\tcontainer.appendChild(stroke);\r\n\t\t\t}\r\n\t\t\tstroke.weight = options.weight + 'px';\r\n\t\t\tstroke.color = options.color;\r\n\t\t\tstroke.opacity = options.opacity;\r\n\r\n\t\t\tif (options.dashArray) {\r\n\t\t\t\tstroke.dashStyle = L.Util.isArray(options.dashArray) ?\r\n\t\t\t\t    options.dashArray.join(' ') :\r\n\t\t\t\t    options.dashArray.replace(/( *, *)/g, ' ');\r\n\t\t\t} else {\r\n\t\t\t\tstroke.dashStyle = '';\r\n\t\t\t}\r\n\t\t\tif (options.lineCap) {\r\n\t\t\t\tstroke.endcap = options.lineCap.replace('butt', 'flat');\r\n\t\t\t}\r\n\t\t\tif (options.lineJoin) {\r\n\t\t\t\tstroke.joinstyle = options.lineJoin;\r\n\t\t\t}\r\n\r\n\t\t} else if (stroke) {\r\n\t\t\tcontainer.removeChild(stroke);\r\n\t\t\tthis._stroke = null;\r\n\t\t}\r\n\r\n\t\tif (options.fill) {\r\n\t\t\tif (!fill) {\r\n\t\t\t\tfill = this._fill = this._createElement('fill');\r\n\t\t\t\tcontainer.appendChild(fill);\r\n\t\t\t}\r\n\t\t\tfill.color = options.fillColor || options.color;\r\n\t\t\tfill.opacity = options.fillOpacity;\r\n\r\n\t\t} else if (fill) {\r\n\t\t\tcontainer.removeChild(fill);\r\n\t\t\tthis._fill = null;\r\n\t\t}\r\n\t},\r\n\r\n\t_updatePath: function () {\r\n\t\tvar style = this._container.style;\r\n\r\n\t\tstyle.display = 'none';\r\n\t\tthis._path.v = this.getPathString() + ' '; // the space fixes IE empty path string bug\r\n\t\tstyle.display = '';\r\n\t}\r\n});\r\n\r\nL.Map.include(L.Browser.svg || !L.Browser.vml ? {} : {\r\n\t_initPathRoot: function () {\r\n\t\tif (this._pathRoot) { return; }\r\n\r\n\t\tvar root = this._pathRoot = document.createElement('div');\r\n\t\troot.className = 'leaflet-vml-container';\r\n\t\tthis._panes.overlayPane.appendChild(root);\r\n\r\n\t\tthis.on('moveend', this._updatePathViewport);\r\n\t\tthis._updatePathViewport();\r\n\t}\r\n});\r\n\n\n/*\r\n * Vector rendering for all browsers that support canvas.\r\n */\r\n\r\nL.Browser.canvas = (function () {\r\n\treturn !!document.createElement('canvas').getContext;\r\n}());\r\n\r\nL.Path = (L.Path.SVG && !window.L_PREFER_CANVAS) || !L.Browser.canvas ? L.Path : L.Path.extend({\r\n\tstatics: {\r\n\t\t//CLIP_PADDING: 0.02, // not sure if there's a need to set it to a small value\r\n\t\tCANVAS: true,\r\n\t\tSVG: false\r\n\t},\r\n\r\n\tredraw: function () {\r\n\t\tif (this._map) {\r\n\t\t\tthis.projectLatlngs();\r\n\t\t\tthis._requestUpdate();\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\tsetStyle: function (style) {\r\n\t\tL.setOptions(this, style);\r\n\r\n\t\tif (this._map) {\r\n\t\t\tthis._updateStyle();\r\n\t\t\tthis._requestUpdate();\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\tonRemove: function (map) {\r\n\t\tmap\r\n\t\t    .off('viewreset', this.projectLatlngs, this)\r\n\t\t    .off('moveend', this._updatePath, this);\r\n\r\n\t\tif (this.options.clickable) {\r\n\t\t\tthis._map.off('click', this._onClick, this);\r\n\t\t\tthis._map.off('mousemove', this._onMouseMove, this);\r\n\t\t}\r\n\r\n\t\tthis._requestUpdate();\r\n\t\t\r\n\t\tthis.fire('remove');\r\n\t\tthis._map = null;\r\n\t},\r\n\r\n\t_requestUpdate: function () {\r\n\t\tif (this._map && !L.Path._updateRequest) {\r\n\t\t\tL.Path._updateRequest = L.Util.requestAnimFrame(this._fireMapMoveEnd, this._map);\r\n\t\t}\r\n\t},\r\n\r\n\t_fireMapMoveEnd: function () {\r\n\t\tL.Path._updateRequest = null;\r\n\t\tthis.fire('moveend');\r\n\t},\r\n\r\n\t_initElements: function () {\r\n\t\tthis._map._initPathRoot();\r\n\t\tthis._ctx = this._map._canvasCtx;\r\n\t},\r\n\r\n\t_updateStyle: function () {\r\n\t\tvar options = this.options;\r\n\r\n\t\tif (options.stroke) {\r\n\t\t\tthis._ctx.lineWidth = options.weight;\r\n\t\t\tthis._ctx.strokeStyle = options.color;\r\n\t\t}\r\n\t\tif (options.fill) {\r\n\t\t\tthis._ctx.fillStyle = options.fillColor || options.color;\r\n\t\t}\r\n\r\n\t\tif (options.lineCap) {\r\n\t\t\tthis._ctx.lineCap = options.lineCap;\r\n\t\t}\r\n\t\tif (options.lineJoin) {\r\n\t\t\tthis._ctx.lineJoin = options.lineJoin;\r\n\t\t}\r\n\t},\r\n\r\n\t_drawPath: function () {\r\n\t\tvar i, j, len, len2, point, drawMethod;\r\n\r\n\t\tthis._ctx.beginPath();\r\n\r\n\t\tfor (i = 0, len = this._parts.length; i < len; i++) {\r\n\t\t\tfor (j = 0, len2 = this._parts[i].length; j < len2; j++) {\r\n\t\t\t\tpoint = this._parts[i][j];\r\n\t\t\t\tdrawMethod = (j === 0 ? 'move' : 'line') + 'To';\r\n\r\n\t\t\t\tthis._ctx[drawMethod](point.x, point.y);\r\n\t\t\t}\r\n\t\t\t// TODO refactor ugly hack\r\n\t\t\tif (this instanceof L.Polygon) {\r\n\t\t\t\tthis._ctx.closePath();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t_checkIfEmpty: function () {\r\n\t\treturn !this._parts.length;\r\n\t},\r\n\r\n\t_updatePath: function () {\r\n\t\tif (this._checkIfEmpty()) { return; }\r\n\r\n\t\tvar ctx = this._ctx,\r\n\t\t    options = this.options;\r\n\r\n\t\tthis._drawPath();\r\n\t\tctx.save();\r\n\t\tthis._updateStyle();\r\n\r\n\t\tif (options.fill) {\r\n\t\t\tctx.globalAlpha = options.fillOpacity;\r\n\t\t\tctx.fill(options.fillRule || 'evenodd');\r\n\t\t}\r\n\r\n\t\tif (options.stroke) {\r\n\t\t\tctx.globalAlpha = options.opacity;\r\n\t\t\tctx.stroke();\r\n\t\t}\r\n\r\n\t\tctx.restore();\r\n\r\n\t\t// TODO optimization: 1 fill/stroke for all features with equal style instead of 1 for each feature\r\n\t},\r\n\r\n\t_initEvents: function () {\r\n\t\tif (this.options.clickable) {\r\n\t\t\tthis._map.on('mousemove', this._onMouseMove, this);\r\n\t\t\tthis._map.on('click dblclick contextmenu', this._fireMouseEvent, this);\r\n\t\t}\r\n\t},\r\n\r\n\t_fireMouseEvent: function (e) {\r\n\t\tif (this._containsPoint(e.layerPoint)) {\r\n\t\t\tthis.fire(e.type, e);\r\n\t\t}\r\n\t},\r\n\r\n\t_onMouseMove: function (e) {\r\n\t\tif (!this._map || this._map._animatingZoom) { return; }\r\n\r\n\t\t// TODO don't do on each move\r\n\t\tif (this._containsPoint(e.layerPoint)) {\r\n\t\t\tthis._ctx.canvas.style.cursor = 'pointer';\r\n\t\t\tthis._mouseInside = true;\r\n\t\t\tthis.fire('mouseover', e);\r\n\r\n\t\t} else if (this._mouseInside) {\r\n\t\t\tthis._ctx.canvas.style.cursor = '';\r\n\t\t\tthis._mouseInside = false;\r\n\t\t\tthis.fire('mouseout', e);\r\n\t\t}\r\n\t}\r\n});\r\n\r\nL.Map.include((L.Path.SVG && !window.L_PREFER_CANVAS) || !L.Browser.canvas ? {} : {\r\n\t_initPathRoot: function () {\r\n\t\tvar root = this._pathRoot,\r\n\t\t    ctx;\r\n\r\n\t\tif (!root) {\r\n\t\t\troot = this._pathRoot = document.createElement('canvas');\r\n\t\t\troot.style.position = 'absolute';\r\n\t\t\tctx = this._canvasCtx = root.getContext('2d');\r\n\r\n\t\t\tctx.lineCap = 'round';\r\n\t\t\tctx.lineJoin = 'round';\r\n\r\n\t\t\tthis._panes.overlayPane.appendChild(root);\r\n\r\n\t\t\tif (this.options.zoomAnimation) {\r\n\t\t\t\tthis._pathRoot.className = 'leaflet-zoom-animated';\r\n\t\t\t\tthis.on('zoomanim', this._animatePathZoom);\r\n\t\t\t\tthis.on('zoomend', this._endPathZoom);\r\n\t\t\t}\r\n\t\t\tthis.on('moveend', this._updateCanvasViewport);\r\n\t\t\tthis._updateCanvasViewport();\r\n\t\t}\r\n\t},\r\n\r\n\t_updateCanvasViewport: function () {\r\n\t\t// don't redraw while zooming. See _updateSvgViewport for more details\r\n\t\tif (this._pathZooming) { return; }\r\n\t\tthis._updatePathViewport();\r\n\r\n\t\tvar vp = this._pathViewport,\r\n\t\t    min = vp.min,\r\n\t\t    size = vp.max.subtract(min),\r\n\t\t    root = this._pathRoot;\r\n\r\n\t\t//TODO check if this works properly on mobile webkit\r\n\t\tL.DomUtil.setPosition(root, min);\r\n\t\troot.width = size.x;\r\n\t\troot.height = size.y;\r\n\t\troot.getContext('2d').translate(-min.x, -min.y);\r\n\t}\r\n});\r\n\n\n/*\r\n * L.LineUtil contains different utility functions for line segments\r\n * and polylines (clipping, simplification, distances, etc.)\r\n */\r\n\r\n/*jshint bitwise:false */ // allow bitwise operations for this file\r\n\r\nL.LineUtil = {\r\n\r\n\t// Simplify polyline with vertex reduction and Douglas-Peucker simplification.\r\n\t// Improves rendering performance dramatically by lessening the number of points to draw.\r\n\r\n\tsimplify: function (/*Point[]*/ points, /*Number*/ tolerance) {\r\n\t\tif (!tolerance || !points.length) {\r\n\t\t\treturn points.slice();\r\n\t\t}\r\n\r\n\t\tvar sqTolerance = tolerance * tolerance;\r\n\r\n\t\t// stage 1: vertex reduction\r\n\t\tpoints = this._reducePoints(points, sqTolerance);\r\n\r\n\t\t// stage 2: Douglas-Peucker simplification\r\n\t\tpoints = this._simplifyDP(points, sqTolerance);\r\n\r\n\t\treturn points;\r\n\t},\r\n\r\n\t// distance from a point to a segment between two points\r\n\tpointToSegmentDistance:  function (/*Point*/ p, /*Point*/ p1, /*Point*/ p2) {\r\n\t\treturn Math.sqrt(this._sqClosestPointOnSegment(p, p1, p2, true));\r\n\t},\r\n\r\n\tclosestPointOnSegment: function (/*Point*/ p, /*Point*/ p1, /*Point*/ p2) {\r\n\t\treturn this._sqClosestPointOnSegment(p, p1, p2);\r\n\t},\r\n\r\n\t// Douglas-Peucker simplification, see http://en.wikipedia.org/wiki/Douglas-Peucker_algorithm\r\n\t_simplifyDP: function (points, sqTolerance) {\r\n\r\n\t\tvar len = points.length,\r\n\t\t    ArrayConstructor = typeof Uint8Array !== undefined + '' ? Uint8Array : Array,\r\n\t\t    markers = new ArrayConstructor(len);\r\n\r\n\t\tmarkers[0] = markers[len - 1] = 1;\r\n\r\n\t\tthis._simplifyDPStep(points, markers, sqTolerance, 0, len - 1);\r\n\r\n\t\tvar i,\r\n\t\t    newPoints = [];\r\n\r\n\t\tfor (i = 0; i < len; i++) {\r\n\t\t\tif (markers[i]) {\r\n\t\t\t\tnewPoints.push(points[i]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn newPoints;\r\n\t},\r\n\r\n\t_simplifyDPStep: function (points, markers, sqTolerance, first, last) {\r\n\r\n\t\tvar maxSqDist = 0,\r\n\t\t    index, i, sqDist;\r\n\r\n\t\tfor (i = first + 1; i <= last - 1; i++) {\r\n\t\t\tsqDist = this._sqClosestPointOnSegment(points[i], points[first], points[last], true);\r\n\r\n\t\t\tif (sqDist > maxSqDist) {\r\n\t\t\t\tindex = i;\r\n\t\t\t\tmaxSqDist = sqDist;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (maxSqDist > sqTolerance) {\r\n\t\t\tmarkers[index] = 1;\r\n\r\n\t\t\tthis._simplifyDPStep(points, markers, sqTolerance, first, index);\r\n\t\t\tthis._simplifyDPStep(points, markers, sqTolerance, index, last);\r\n\t\t}\r\n\t},\r\n\r\n\t// reduce points that are too close to each other to a single point\r\n\t_reducePoints: function (points, sqTolerance) {\r\n\t\tvar reducedPoints = [points[0]];\r\n\r\n\t\tfor (var i = 1, prev = 0, len = points.length; i < len; i++) {\r\n\t\t\tif (this._sqDist(points[i], points[prev]) > sqTolerance) {\r\n\t\t\t\treducedPoints.push(points[i]);\r\n\t\t\t\tprev = i;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (prev < len - 1) {\r\n\t\t\treducedPoints.push(points[len - 1]);\r\n\t\t}\r\n\t\treturn reducedPoints;\r\n\t},\r\n\r\n\t// Cohen-Sutherland line clipping algorithm.\r\n\t// Used to avoid rendering parts of a polyline that are not currently visible.\r\n\r\n\tclipSegment: function (a, b, bounds, useLastCode) {\r\n\t\tvar codeA = useLastCode ? this._lastCode : this._getBitCode(a, bounds),\r\n\t\t    codeB = this._getBitCode(b, bounds),\r\n\r\n\t\t    codeOut, p, newCode;\r\n\r\n\t\t// save 2nd code to avoid calculating it on the next segment\r\n\t\tthis._lastCode = codeB;\r\n\r\n\t\twhile (true) {\r\n\t\t\t// if a,b is inside the clip window (trivial accept)\r\n\t\t\tif (!(codeA | codeB)) {\r\n\t\t\t\treturn [a, b];\r\n\t\t\t// if a,b is outside the clip window (trivial reject)\r\n\t\t\t} else if (codeA & codeB) {\r\n\t\t\t\treturn false;\r\n\t\t\t// other cases\r\n\t\t\t} else {\r\n\t\t\t\tcodeOut = codeA || codeB;\r\n\t\t\t\tp = this._getEdgeIntersection(a, b, codeOut, bounds);\r\n\t\t\t\tnewCode = this._getBitCode(p, bounds);\r\n\r\n\t\t\t\tif (codeOut === codeA) {\r\n\t\t\t\t\ta = p;\r\n\t\t\t\t\tcodeA = newCode;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tb = p;\r\n\t\t\t\t\tcodeB = newCode;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t_getEdgeIntersection: function (a, b, code, bounds) {\r\n\t\tvar dx = b.x - a.x,\r\n\t\t    dy = b.y - a.y,\r\n\t\t    min = bounds.min,\r\n\t\t    max = bounds.max;\r\n\r\n\t\tif (code & 8) { // top\r\n\t\t\treturn new L.Point(a.x + dx * (max.y - a.y) / dy, max.y);\r\n\t\t} else if (code & 4) { // bottom\r\n\t\t\treturn new L.Point(a.x + dx * (min.y - a.y) / dy, min.y);\r\n\t\t} else if (code & 2) { // right\r\n\t\t\treturn new L.Point(max.x, a.y + dy * (max.x - a.x) / dx);\r\n\t\t} else if (code & 1) { // left\r\n\t\t\treturn new L.Point(min.x, a.y + dy * (min.x - a.x) / dx);\r\n\t\t}\r\n\t},\r\n\r\n\t_getBitCode: function (/*Point*/ p, bounds) {\r\n\t\tvar code = 0;\r\n\r\n\t\tif (p.x < bounds.min.x) { // left\r\n\t\t\tcode |= 1;\r\n\t\t} else if (p.x > bounds.max.x) { // right\r\n\t\t\tcode |= 2;\r\n\t\t}\r\n\t\tif (p.y < bounds.min.y) { // bottom\r\n\t\t\tcode |= 4;\r\n\t\t} else if (p.y > bounds.max.y) { // top\r\n\t\t\tcode |= 8;\r\n\t\t}\r\n\r\n\t\treturn code;\r\n\t},\r\n\r\n\t// square distance (to avoid unnecessary Math.sqrt calls)\r\n\t_sqDist: function (p1, p2) {\r\n\t\tvar dx = p2.x - p1.x,\r\n\t\t    dy = p2.y - p1.y;\r\n\t\treturn dx * dx + dy * dy;\r\n\t},\r\n\r\n\t// return closest point on segment or distance to that point\r\n\t_sqClosestPointOnSegment: function (p, p1, p2, sqDist) {\r\n\t\tvar x = p1.x,\r\n\t\t    y = p1.y,\r\n\t\t    dx = p2.x - x,\r\n\t\t    dy = p2.y - y,\r\n\t\t    dot = dx * dx + dy * dy,\r\n\t\t    t;\r\n\r\n\t\tif (dot > 0) {\r\n\t\t\tt = ((p.x - x) * dx + (p.y - y) * dy) / dot;\r\n\r\n\t\t\tif (t > 1) {\r\n\t\t\t\tx = p2.x;\r\n\t\t\t\ty = p2.y;\r\n\t\t\t} else if (t > 0) {\r\n\t\t\t\tx += dx * t;\r\n\t\t\t\ty += dy * t;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdx = p.x - x;\r\n\t\tdy = p.y - y;\r\n\r\n\t\treturn sqDist ? dx * dx + dy * dy : new L.Point(x, y);\r\n\t}\r\n};\r\n\n\n/*\r\n * L.Polyline is used to display polylines on a map.\r\n */\r\n\r\nL.Polyline = L.Path.extend({\r\n\tinitialize: function (latlngs, options) {\r\n\t\tL.Path.prototype.initialize.call(this, options);\r\n\r\n\t\tthis._latlngs = this._convertLatLngs(latlngs);\r\n\t},\r\n\r\n\toptions: {\r\n\t\t// how much to simplify the polyline on each zoom level\r\n\t\t// more = better performance and smoother look, less = more accurate\r\n\t\tsmoothFactor: 1.0,\r\n\t\tnoClip: false\r\n\t},\r\n\r\n\tprojectLatlngs: function () {\r\n\t\tthis._originalPoints = [];\r\n\r\n\t\tfor (var i = 0, len = this._latlngs.length; i < len; i++) {\r\n\t\t\tthis._originalPoints[i] = this._map.latLngToLayerPoint(this._latlngs[i]);\r\n\t\t}\r\n\t},\r\n\r\n\tgetPathString: function () {\r\n\t\tfor (var i = 0, len = this._parts.length, str = ''; i < len; i++) {\r\n\t\t\tstr += this._getPathPartStr(this._parts[i]);\r\n\t\t}\r\n\t\treturn str;\r\n\t},\r\n\r\n\tgetLatLngs: function () {\r\n\t\treturn this._latlngs;\r\n\t},\r\n\r\n\tsetLatLngs: function (latlngs) {\r\n\t\tthis._latlngs = this._convertLatLngs(latlngs);\r\n\t\treturn this.redraw();\r\n\t},\r\n\r\n\taddLatLng: function (latlng) {\r\n\t\tthis._latlngs.push(L.latLng(latlng));\r\n\t\treturn this.redraw();\r\n\t},\r\n\r\n\tspliceLatLngs: function () { // (Number index, Number howMany)\r\n\t\tvar removed = [].splice.apply(this._latlngs, arguments);\r\n\t\tthis._convertLatLngs(this._latlngs, true);\r\n\t\tthis.redraw();\r\n\t\treturn removed;\r\n\t},\r\n\r\n\tclosestLayerPoint: function (p) {\r\n\t\tvar minDistance = Infinity, parts = this._parts, p1, p2, minPoint = null;\r\n\r\n\t\tfor (var j = 0, jLen = parts.length; j < jLen; j++) {\r\n\t\t\tvar points = parts[j];\r\n\t\t\tfor (var i = 1, len = points.length; i < len; i++) {\r\n\t\t\t\tp1 = points[i - 1];\r\n\t\t\t\tp2 = points[i];\r\n\t\t\t\tvar sqDist = L.LineUtil._sqClosestPointOnSegment(p, p1, p2, true);\r\n\t\t\t\tif (sqDist < minDistance) {\r\n\t\t\t\t\tminDistance = sqDist;\r\n\t\t\t\t\tminPoint = L.LineUtil._sqClosestPointOnSegment(p, p1, p2);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (minPoint) {\r\n\t\t\tminPoint.distance = Math.sqrt(minDistance);\r\n\t\t}\r\n\t\treturn minPoint;\r\n\t},\r\n\r\n\tgetBounds: function () {\r\n\t\treturn new L.LatLngBounds(this.getLatLngs());\r\n\t},\r\n\r\n\t_convertLatLngs: function (latlngs, overwrite) {\r\n\t\tvar i, len, target = overwrite ? latlngs : [];\r\n\r\n\t\tfor (i = 0, len = latlngs.length; i < len; i++) {\r\n\t\t\tif (L.Util.isArray(latlngs[i]) && typeof latlngs[i][0] !== 'number') {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\ttarget[i] = L.latLng(latlngs[i]);\r\n\t\t}\r\n\t\treturn target;\r\n\t},\r\n\r\n\t_initEvents: function () {\r\n\t\tL.Path.prototype._initEvents.call(this);\r\n\t},\r\n\r\n\t_getPathPartStr: function (points) {\r\n\t\tvar round = L.Path.VML;\r\n\r\n\t\tfor (var j = 0, len2 = points.length, str = '', p; j < len2; j++) {\r\n\t\t\tp = points[j];\r\n\t\t\tif (round) {\r\n\t\t\t\tp._round();\r\n\t\t\t}\r\n\t\t\tstr += (j ? 'L' : 'M') + p.x + ' ' + p.y;\r\n\t\t}\r\n\t\treturn str;\r\n\t},\r\n\r\n\t_clipPoints: function () {\r\n\t\tvar points = this._originalPoints,\r\n\t\t    len = points.length,\r\n\t\t    i, k, segment;\r\n\r\n\t\tif (this.options.noClip) {\r\n\t\t\tthis._parts = [points];\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis._parts = [];\r\n\r\n\t\tvar parts = this._parts,\r\n\t\t    vp = this._map._pathViewport,\r\n\t\t    lu = L.LineUtil;\r\n\r\n\t\tfor (i = 0, k = 0; i < len - 1; i++) {\r\n\t\t\tsegment = lu.clipSegment(points[i], points[i + 1], vp, i);\r\n\t\t\tif (!segment) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tparts[k] = parts[k] || [];\r\n\t\t\tparts[k].push(segment[0]);\r\n\r\n\t\t\t// if segment goes out of screen, or it's the last one, it's the end of the line part\r\n\t\t\tif ((segment[1] !== points[i + 1]) || (i === len - 2)) {\r\n\t\t\t\tparts[k].push(segment[1]);\r\n\t\t\t\tk++;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t// simplify each clipped part of the polyline\r\n\t_simplifyPoints: function () {\r\n\t\tvar parts = this._parts,\r\n\t\t    lu = L.LineUtil;\r\n\r\n\t\tfor (var i = 0, len = parts.length; i < len; i++) {\r\n\t\t\tparts[i] = lu.simplify(parts[i], this.options.smoothFactor);\r\n\t\t}\r\n\t},\r\n\r\n\t_updatePath: function () {\r\n\t\tif (!this._map) { return; }\r\n\r\n\t\tthis._clipPoints();\r\n\t\tthis._simplifyPoints();\r\n\r\n\t\tL.Path.prototype._updatePath.call(this);\r\n\t}\r\n});\r\n\r\nL.polyline = function (latlngs, options) {\r\n\treturn new L.Polyline(latlngs, options);\r\n};\r\n\n\n/*\r\n * L.PolyUtil contains utility functions for polygons (clipping, etc.).\r\n */\r\n\r\n/*jshint bitwise:false */ // allow bitwise operations here\r\n\r\nL.PolyUtil = {};\r\n\r\n/*\r\n * Sutherland-Hodgeman polygon clipping algorithm.\r\n * Used to avoid rendering parts of a polygon that are not currently visible.\r\n */\r\nL.PolyUtil.clipPolygon = function (points, bounds) {\r\n\tvar clippedPoints,\r\n\t    edges = [1, 4, 2, 8],\r\n\t    i, j, k,\r\n\t    a, b,\r\n\t    len, edge, p,\r\n\t    lu = L.LineUtil;\r\n\r\n\tfor (i = 0, len = points.length; i < len; i++) {\r\n\t\tpoints[i]._code = lu._getBitCode(points[i], bounds);\r\n\t}\r\n\r\n\t// for each edge (left, bottom, right, top)\r\n\tfor (k = 0; k < 4; k++) {\r\n\t\tedge = edges[k];\r\n\t\tclippedPoints = [];\r\n\r\n\t\tfor (i = 0, len = points.length, j = len - 1; i < len; j = i++) {\r\n\t\t\ta = points[i];\r\n\t\t\tb = points[j];\r\n\r\n\t\t\t// if a is inside the clip window\r\n\t\t\tif (!(a._code & edge)) {\r\n\t\t\t\t// if b is outside the clip window (a->b goes out of screen)\r\n\t\t\t\tif (b._code & edge) {\r\n\t\t\t\t\tp = lu._getEdgeIntersection(b, a, edge, bounds);\r\n\t\t\t\t\tp._code = lu._getBitCode(p, bounds);\r\n\t\t\t\t\tclippedPoints.push(p);\r\n\t\t\t\t}\r\n\t\t\t\tclippedPoints.push(a);\r\n\r\n\t\t\t// else if b is inside the clip window (a->b enters the screen)\r\n\t\t\t} else if (!(b._code & edge)) {\r\n\t\t\t\tp = lu._getEdgeIntersection(b, a, edge, bounds);\r\n\t\t\t\tp._code = lu._getBitCode(p, bounds);\r\n\t\t\t\tclippedPoints.push(p);\r\n\t\t\t}\r\n\t\t}\r\n\t\tpoints = clippedPoints;\r\n\t}\r\n\r\n\treturn points;\r\n};\r\n\n\n/*\r\n * L.Polygon is used to display polygons on a map.\r\n */\r\n\r\nL.Polygon = L.Polyline.extend({\r\n\toptions: {\r\n\t\tfill: true\r\n\t},\r\n\r\n\tinitialize: function (latlngs, options) {\r\n\t\tL.Polyline.prototype.initialize.call(this, latlngs, options);\r\n\t\tthis._initWithHoles(latlngs);\r\n\t},\r\n\r\n\t_initWithHoles: function (latlngs) {\r\n\t\tvar i, len, hole;\r\n\t\tif (latlngs && L.Util.isArray(latlngs[0]) && (typeof latlngs[0][0] !== 'number')) {\r\n\t\t\tthis._latlngs = this._convertLatLngs(latlngs[0]);\r\n\t\t\tthis._holes = latlngs.slice(1);\r\n\r\n\t\t\tfor (i = 0, len = this._holes.length; i < len; i++) {\r\n\t\t\t\thole = this._holes[i] = this._convertLatLngs(this._holes[i]);\r\n\t\t\t\tif (hole[0].equals(hole[hole.length - 1])) {\r\n\t\t\t\t\thole.pop();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// filter out last point if its equal to the first one\r\n\t\tlatlngs = this._latlngs;\r\n\r\n\t\tif (latlngs.length >= 2 && latlngs[0].equals(latlngs[latlngs.length - 1])) {\r\n\t\t\tlatlngs.pop();\r\n\t\t}\r\n\t},\r\n\r\n\tprojectLatlngs: function () {\r\n\t\tL.Polyline.prototype.projectLatlngs.call(this);\r\n\r\n\t\t// project polygon holes points\r\n\t\t// TODO move this logic to Polyline to get rid of duplication\r\n\t\tthis._holePoints = [];\r\n\r\n\t\tif (!this._holes) { return; }\r\n\r\n\t\tvar i, j, len, len2;\r\n\r\n\t\tfor (i = 0, len = this._holes.length; i < len; i++) {\r\n\t\t\tthis._holePoints[i] = [];\r\n\r\n\t\t\tfor (j = 0, len2 = this._holes[i].length; j < len2; j++) {\r\n\t\t\t\tthis._holePoints[i][j] = this._map.latLngToLayerPoint(this._holes[i][j]);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tsetLatLngs: function (latlngs) {\r\n\t\tif (latlngs && L.Util.isArray(latlngs[0]) && (typeof latlngs[0][0] !== 'number')) {\r\n\t\t\tthis._initWithHoles(latlngs);\r\n\t\t\treturn this.redraw();\r\n\t\t} else {\r\n\t\t\treturn L.Polyline.prototype.setLatLngs.call(this, latlngs);\r\n\t\t}\r\n\t},\r\n\r\n\t_clipPoints: function () {\r\n\t\tvar points = this._originalPoints,\r\n\t\t    newParts = [];\r\n\r\n\t\tthis._parts = [points].concat(this._holePoints);\r\n\r\n\t\tif (this.options.noClip) { return; }\r\n\r\n\t\tfor (var i = 0, len = this._parts.length; i < len; i++) {\r\n\t\t\tvar clipped = L.PolyUtil.clipPolygon(this._parts[i], this._map._pathViewport);\r\n\t\t\tif (clipped.length) {\r\n\t\t\t\tnewParts.push(clipped);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis._parts = newParts;\r\n\t},\r\n\r\n\t_getPathPartStr: function (points) {\r\n\t\tvar str = L.Polyline.prototype._getPathPartStr.call(this, points);\r\n\t\treturn str + (L.Browser.svg ? 'z' : 'x');\r\n\t}\r\n});\r\n\r\nL.polygon = function (latlngs, options) {\r\n\treturn new L.Polygon(latlngs, options);\r\n};\r\n\n\n/*\r\n * Contains L.MultiPolyline and L.MultiPolygon layers.\r\n */\r\n\r\n(function () {\r\n\tfunction createMulti(Klass) {\r\n\r\n\t\treturn L.FeatureGroup.extend({\r\n\r\n\t\t\tinitialize: function (latlngs, options) {\r\n\t\t\t\tthis._layers = {};\r\n\t\t\t\tthis._options = options;\r\n\t\t\t\tthis.setLatLngs(latlngs);\r\n\t\t\t},\r\n\r\n\t\t\tsetLatLngs: function (latlngs) {\r\n\t\t\t\tvar i = 0,\r\n\t\t\t\t    len = latlngs.length;\r\n\r\n\t\t\t\tthis.eachLayer(function (layer) {\r\n\t\t\t\t\tif (i < len) {\r\n\t\t\t\t\t\tlayer.setLatLngs(latlngs[i++]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.removeLayer(layer);\r\n\t\t\t\t\t}\r\n\t\t\t\t}, this);\r\n\r\n\t\t\t\twhile (i < len) {\r\n\t\t\t\t\tthis.addLayer(new Klass(latlngs[i++], this._options));\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\r\n\t\t\tgetLatLngs: function () {\r\n\t\t\t\tvar latlngs = [];\r\n\r\n\t\t\t\tthis.eachLayer(function (layer) {\r\n\t\t\t\t\tlatlngs.push(layer.getLatLngs());\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn latlngs;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tL.MultiPolyline = createMulti(L.Polyline);\r\n\tL.MultiPolygon = createMulti(L.Polygon);\r\n\r\n\tL.multiPolyline = function (latlngs, options) {\r\n\t\treturn new L.MultiPolyline(latlngs, options);\r\n\t};\r\n\r\n\tL.multiPolygon = function (latlngs, options) {\r\n\t\treturn new L.MultiPolygon(latlngs, options);\r\n\t};\r\n}());\r\n\n\n/*\r\n * L.Rectangle extends Polygon and creates a rectangle when passed a LatLngBounds object.\r\n */\r\n\r\nL.Rectangle = L.Polygon.extend({\r\n\tinitialize: function (latLngBounds, options) {\r\n\t\tL.Polygon.prototype.initialize.call(this, this._boundsToLatLngs(latLngBounds), options);\r\n\t},\r\n\r\n\tsetBounds: function (latLngBounds) {\r\n\t\tthis.setLatLngs(this._boundsToLatLngs(latLngBounds));\r\n\t},\r\n\r\n\t_boundsToLatLngs: function (latLngBounds) {\r\n\t\tlatLngBounds = L.latLngBounds(latLngBounds);\r\n\t\treturn [\r\n\t\t\tlatLngBounds.getSouthWest(),\r\n\t\t\tlatLngBounds.getNorthWest(),\r\n\t\t\tlatLngBounds.getNorthEast(),\r\n\t\t\tlatLngBounds.getSouthEast()\r\n\t\t];\r\n\t}\r\n});\r\n\r\nL.rectangle = function (latLngBounds, options) {\r\n\treturn new L.Rectangle(latLngBounds, options);\r\n};\r\n\n\n/*\r\n * L.Circle is a circle overlay (with a certain radius in meters).\r\n */\r\n\r\nL.Circle = L.Path.extend({\r\n\tinitialize: function (latlng, radius, options) {\r\n\t\tL.Path.prototype.initialize.call(this, options);\r\n\r\n\t\tthis._latlng = L.latLng(latlng);\r\n\t\tthis._mRadius = radius;\r\n\t},\r\n\r\n\toptions: {\r\n\t\tfill: true\r\n\t},\r\n\r\n\tsetLatLng: function (latlng) {\r\n\t\tthis._latlng = L.latLng(latlng);\r\n\t\treturn this.redraw();\r\n\t},\r\n\r\n\tsetRadius: function (radius) {\r\n\t\tthis._mRadius = radius;\r\n\t\treturn this.redraw();\r\n\t},\r\n\r\n\tprojectLatlngs: function () {\r\n\t\tvar lngRadius = this._getLngRadius(),\r\n\t\t    latlng = this._latlng,\r\n\t\t    pointLeft = this._map.latLngToLayerPoint([latlng.lat, latlng.lng - lngRadius]);\r\n\r\n\t\tthis._point = this._map.latLngToLayerPoint(latlng);\r\n\t\tthis._radius = Math.max(this._point.x - pointLeft.x, 1);\r\n\t},\r\n\r\n\tgetBounds: function () {\r\n\t\tvar lngRadius = this._getLngRadius(),\r\n\t\t    latRadius = (this._mRadius / 40075017) * 360,\r\n\t\t    latlng = this._latlng;\r\n\r\n\t\treturn new L.LatLngBounds(\r\n\t\t        [latlng.lat - latRadius, latlng.lng - lngRadius],\r\n\t\t        [latlng.lat + latRadius, latlng.lng + lngRadius]);\r\n\t},\r\n\r\n\tgetLatLng: function () {\r\n\t\treturn this._latlng;\r\n\t},\r\n\r\n\tgetPathString: function () {\r\n\t\tvar p = this._point,\r\n\t\t    r = this._radius;\r\n\r\n\t\tif (this._checkIfEmpty()) {\r\n\t\t\treturn '';\r\n\t\t}\r\n\r\n\t\tif (L.Browser.svg) {\r\n\t\t\treturn 'M' + p.x + ',' + (p.y - r) +\r\n\t\t\t       'A' + r + ',' + r + ',0,1,1,' +\r\n\t\t\t       (p.x - 0.1) + ',' + (p.y - r) + ' z';\r\n\t\t} else {\r\n\t\t\tp._round();\r\n\t\t\tr = Math.round(r);\r\n\t\t\treturn 'AL ' + p.x + ',' + p.y + ' ' + r + ',' + r + ' 0,' + (65535 * 360);\r\n\t\t}\r\n\t},\r\n\r\n\tgetRadius: function () {\r\n\t\treturn this._mRadius;\r\n\t},\r\n\r\n\t// TODO Earth hardcoded, move into projection code!\r\n\r\n\t_getLatRadius: function () {\r\n\t\treturn (this._mRadius / 40075017) * 360;\r\n\t},\r\n\r\n\t_getLngRadius: function () {\r\n\t\treturn this._getLatRadius() / Math.cos(L.LatLng.DEG_TO_RAD * this._latlng.lat);\r\n\t},\r\n\r\n\t_checkIfEmpty: function () {\r\n\t\tif (!this._map) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tvar vp = this._map._pathViewport,\r\n\t\t    r = this._radius,\r\n\t\t    p = this._point;\r\n\r\n\t\treturn p.x - r > vp.max.x || p.y - r > vp.max.y ||\r\n\t\t       p.x + r < vp.min.x || p.y + r < vp.min.y;\r\n\t}\r\n});\r\n\r\nL.circle = function (latlng, radius, options) {\r\n\treturn new L.Circle(latlng, radius, options);\r\n};\r\n\n\n/*\r\n * L.CircleMarker is a circle overlay with a permanent pixel radius.\r\n */\r\n\r\nL.CircleMarker = L.Circle.extend({\r\n\toptions: {\r\n\t\tradius: 10,\r\n\t\tweight: 2\r\n\t},\r\n\r\n\tinitialize: function (latlng, options) {\r\n\t\tL.Circle.prototype.initialize.call(this, latlng, null, options);\r\n\t\tthis._radius = this.options.radius;\r\n\t},\r\n\r\n\tprojectLatlngs: function () {\r\n\t\tthis._point = this._map.latLngToLayerPoint(this._latlng);\r\n\t},\r\n\r\n\t_updateStyle : function () {\r\n\t\tL.Circle.prototype._updateStyle.call(this);\r\n\t\tthis.setRadius(this.options.radius);\r\n\t},\r\n\r\n\tsetLatLng: function (latlng) {\r\n\t\tL.Circle.prototype.setLatLng.call(this, latlng);\r\n\t\tif (this._popup && this._popup._isOpen) {\r\n\t\t\tthis._popup.setLatLng(latlng);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\tsetRadius: function (radius) {\r\n\t\tthis.options.radius = this._radius = radius;\r\n\t\treturn this.redraw();\r\n\t},\r\n\r\n\tgetRadius: function () {\r\n\t\treturn this._radius;\r\n\t}\r\n});\r\n\r\nL.circleMarker = function (latlng, options) {\r\n\treturn new L.CircleMarker(latlng, options);\r\n};\r\n\n\n/*\r\n * Extends L.Polyline to be able to manually detect clicks on Canvas-rendered polylines.\r\n */\r\n\r\nL.Polyline.include(!L.Path.CANVAS ? {} : {\r\n\t_containsPoint: function (p, closed) {\r\n\t\tvar i, j, k, len, len2, dist, part,\r\n\t\t    w = this.options.weight / 2;\r\n\r\n\t\tif (L.Browser.touch) {\r\n\t\t\tw += 10; // polyline click tolerance on touch devices\r\n\t\t}\r\n\r\n\t\tfor (i = 0, len = this._parts.length; i < len; i++) {\r\n\t\t\tpart = this._parts[i];\r\n\t\t\tfor (j = 0, len2 = part.length, k = len2 - 1; j < len2; k = j++) {\r\n\t\t\t\tif (!closed && (j === 0)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdist = L.LineUtil.pointToSegmentDistance(p, part[k], part[j]);\r\n\r\n\t\t\t\tif (dist <= w) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n});\r\n\n\n/*\r\n * Extends L.Polygon to be able to manually detect clicks on Canvas-rendered polygons.\r\n */\r\n\r\nL.Polygon.include(!L.Path.CANVAS ? {} : {\r\n\t_containsPoint: function (p) {\r\n\t\tvar inside = false,\r\n\t\t    part, p1, p2,\r\n\t\t    i, j, k,\r\n\t\t    len, len2;\r\n\r\n\t\t// TODO optimization: check if within bounds first\r\n\r\n\t\tif (L.Polyline.prototype._containsPoint.call(this, p, true)) {\r\n\t\t\t// click on polygon border\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t// ray casting algorithm for detecting if point is in polygon\r\n\r\n\t\tfor (i = 0, len = this._parts.length; i < len; i++) {\r\n\t\t\tpart = this._parts[i];\r\n\r\n\t\t\tfor (j = 0, len2 = part.length, k = len2 - 1; j < len2; k = j++) {\r\n\t\t\t\tp1 = part[j];\r\n\t\t\t\tp2 = part[k];\r\n\r\n\t\t\t\tif (((p1.y > p.y) !== (p2.y > p.y)) &&\r\n\t\t\t\t\t\t(p.x < (p2.x - p1.x) * (p.y - p1.y) / (p2.y - p1.y) + p1.x)) {\r\n\t\t\t\t\tinside = !inside;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn inside;\r\n\t}\r\n});\r\n\n\n/*\r\n * Extends L.Circle with Canvas-specific code.\r\n */\r\n\r\nL.Circle.include(!L.Path.CANVAS ? {} : {\r\n\t_drawPath: function () {\r\n\t\tvar p = this._point;\r\n\t\tthis._ctx.beginPath();\r\n\t\tthis._ctx.arc(p.x, p.y, this._radius, 0, Math.PI * 2, false);\r\n\t},\r\n\r\n\t_containsPoint: function (p) {\r\n\t\tvar center = this._point,\r\n\t\t    w2 = this.options.stroke ? this.options.weight / 2 : 0;\r\n\r\n\t\treturn (p.distanceTo(center) <= this._radius + w2);\r\n\t}\r\n});\r\n\n\n/*\n * CircleMarker canvas specific drawing parts.\n */\n\nL.CircleMarker.include(!L.Path.CANVAS ? {} : {\n\t_updateStyle: function () {\n\t\tL.Path.prototype._updateStyle.call(this);\n\t}\n});\n\n\n/*\r\n * L.GeoJSON turns any GeoJSON data into a Leaflet layer.\r\n */\r\n\r\nL.GeoJSON = L.FeatureGroup.extend({\r\n\r\n\tinitialize: function (geojson, options) {\r\n\t\tL.setOptions(this, options);\r\n\r\n\t\tthis._layers = {};\r\n\r\n\t\tif (geojson) {\r\n\t\t\tthis.addData(geojson);\r\n\t\t}\r\n\t},\r\n\r\n\taddData: function (geojson) {\r\n\t\tvar features = L.Util.isArray(geojson) ? geojson : geojson.features,\r\n\t\t    i, len, feature;\r\n\r\n\t\tif (features) {\r\n\t\t\tfor (i = 0, len = features.length; i < len; i++) {\r\n\t\t\t\t// Only add this if geometry or geometries are set and not null\r\n\t\t\t\tfeature = features[i];\r\n\t\t\t\tif (feature.geometries || feature.geometry || feature.features || feature.coordinates) {\r\n\t\t\t\t\tthis.addData(features[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tvar options = this.options;\r\n\r\n\t\tif (options.filter && !options.filter(geojson)) { return; }\r\n\r\n\t\tvar layer = L.GeoJSON.geometryToLayer(geojson, options.pointToLayer, options.coordsToLatLng, options);\r\n\t\tlayer.feature = L.GeoJSON.asFeature(geojson);\r\n\r\n\t\tlayer.defaultOptions = layer.options;\r\n\t\tthis.resetStyle(layer);\r\n\r\n\t\tif (options.onEachFeature) {\r\n\t\t\toptions.onEachFeature(geojson, layer);\r\n\t\t}\r\n\r\n\t\treturn this.addLayer(layer);\r\n\t},\r\n\r\n\tresetStyle: function (layer) {\r\n\t\tvar style = this.options.style;\r\n\t\tif (style) {\r\n\t\t\t// reset any custom styles\r\n\t\t\tL.Util.extend(layer.options, layer.defaultOptions);\r\n\r\n\t\t\tthis._setLayerStyle(layer, style);\r\n\t\t}\r\n\t},\r\n\r\n\tsetStyle: function (style) {\r\n\t\tthis.eachLayer(function (layer) {\r\n\t\t\tthis._setLayerStyle(layer, style);\r\n\t\t}, this);\r\n\t},\r\n\r\n\t_setLayerStyle: function (layer, style) {\r\n\t\tif (typeof style === 'function') {\r\n\t\t\tstyle = style(layer.feature);\r\n\t\t}\r\n\t\tif (layer.setStyle) {\r\n\t\t\tlayer.setStyle(style);\r\n\t\t}\r\n\t}\r\n});\r\n\r\nL.extend(L.GeoJSON, {\r\n\tgeometryToLayer: function (geojson, pointToLayer, coordsToLatLng, vectorOptions) {\r\n\t\tvar geometry = geojson.type === 'Feature' ? geojson.geometry : geojson,\r\n\t\t    coords = geometry.coordinates,\r\n\t\t    layers = [],\r\n\t\t    latlng, latlngs, i, len;\r\n\r\n\t\tcoordsToLatLng = coordsToLatLng || this.coordsToLatLng;\r\n\r\n\t\tswitch (geometry.type) {\r\n\t\tcase 'Point':\r\n\t\t\tlatlng = coordsToLatLng(coords);\r\n\t\t\treturn pointToLayer ? pointToLayer(geojson, latlng) : new L.Marker(latlng);\r\n\r\n\t\tcase 'MultiPoint':\r\n\t\t\tfor (i = 0, len = coords.length; i < len; i++) {\r\n\t\t\t\tlatlng = coordsToLatLng(coords[i]);\r\n\t\t\t\tlayers.push(pointToLayer ? pointToLayer(geojson, latlng) : new L.Marker(latlng));\r\n\t\t\t}\r\n\t\t\treturn new L.FeatureGroup(layers);\r\n\r\n\t\tcase 'LineString':\r\n\t\t\tlatlngs = this.coordsToLatLngs(coords, 0, coordsToLatLng);\r\n\t\t\treturn new L.Polyline(latlngs, vectorOptions);\r\n\r\n\t\tcase 'Polygon':\r\n\t\t\tif (coords.length === 2 && !coords[1].length) {\r\n\t\t\t\tthrow new Error('Invalid GeoJSON object.');\r\n\t\t\t}\r\n\t\t\tlatlngs = this.coordsToLatLngs(coords, 1, coordsToLatLng);\r\n\t\t\treturn new L.Polygon(latlngs, vectorOptions);\r\n\r\n\t\tcase 'MultiLineString':\r\n\t\t\tlatlngs = this.coordsToLatLngs(coords, 1, coordsToLatLng);\r\n\t\t\treturn new L.MultiPolyline(latlngs, vectorOptions);\r\n\r\n\t\tcase 'MultiPolygon':\r\n\t\t\tlatlngs = this.coordsToLatLngs(coords, 2, coordsToLatLng);\r\n\t\t\treturn new L.MultiPolygon(latlngs, vectorOptions);\r\n\r\n\t\tcase 'GeometryCollection':\r\n\t\t\tfor (i = 0, len = geometry.geometries.length; i < len; i++) {\r\n\r\n\t\t\t\tlayers.push(this.geometryToLayer({\r\n\t\t\t\t\tgeometry: geometry.geometries[i],\r\n\t\t\t\t\ttype: 'Feature',\r\n\t\t\t\t\tproperties: geojson.properties\r\n\t\t\t\t}, pointToLayer, coordsToLatLng, vectorOptions));\r\n\t\t\t}\r\n\t\t\treturn new L.FeatureGroup(layers);\r\n\r\n\t\tdefault:\r\n\t\t\tthrow new Error('Invalid GeoJSON object.');\r\n\t\t}\r\n\t},\r\n\r\n\tcoordsToLatLng: function (coords) { // (Array[, Boolean]) -> LatLng\r\n\t\treturn new L.LatLng(coords[1], coords[0], coords[2]);\r\n\t},\r\n\r\n\tcoordsToLatLngs: function (coords, levelsDeep, coordsToLatLng) { // (Array[, Number, Function]) -> Array\r\n\t\tvar latlng, i, len,\r\n\t\t    latlngs = [];\r\n\r\n\t\tfor (i = 0, len = coords.length; i < len; i++) {\r\n\t\t\tlatlng = levelsDeep ?\r\n\t\t\t        this.coordsToLatLngs(coords[i], levelsDeep - 1, coordsToLatLng) :\r\n\t\t\t        (coordsToLatLng || this.coordsToLatLng)(coords[i]);\r\n\r\n\t\t\tlatlngs.push(latlng);\r\n\t\t}\r\n\r\n\t\treturn latlngs;\r\n\t},\r\n\r\n\tlatLngToCoords: function (latlng) {\r\n\t\tvar coords = [latlng.lng, latlng.lat];\r\n\r\n\t\tif (latlng.alt !== undefined) {\r\n\t\t\tcoords.push(latlng.alt);\r\n\t\t}\r\n\t\treturn coords;\r\n\t},\r\n\r\n\tlatLngsToCoords: function (latLngs) {\r\n\t\tvar coords = [];\r\n\r\n\t\tfor (var i = 0, len = latLngs.length; i < len; i++) {\r\n\t\t\tcoords.push(L.GeoJSON.latLngToCoords(latLngs[i]));\r\n\t\t}\r\n\r\n\t\treturn coords;\r\n\t},\r\n\r\n\tgetFeature: function (layer, newGeometry) {\r\n\t\treturn layer.feature ? L.extend({}, layer.feature, {geometry: newGeometry}) : L.GeoJSON.asFeature(newGeometry);\r\n\t},\r\n\r\n\tasFeature: function (geoJSON) {\r\n\t\tif (geoJSON.type === 'Feature') {\r\n\t\t\treturn geoJSON;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\ttype: 'Feature',\r\n\t\t\tproperties: {},\r\n\t\t\tgeometry: geoJSON\r\n\t\t};\r\n\t}\r\n});\r\n\r\nvar PointToGeoJSON = {\r\n\ttoGeoJSON: function () {\r\n\t\treturn L.GeoJSON.getFeature(this, {\r\n\t\t\ttype: 'Point',\r\n\t\t\tcoordinates: L.GeoJSON.latLngToCoords(this.getLatLng())\r\n\t\t});\r\n\t}\r\n};\r\n\r\nL.Marker.include(PointToGeoJSON);\r\nL.Circle.include(PointToGeoJSON);\r\nL.CircleMarker.include(PointToGeoJSON);\r\n\r\nL.Polyline.include({\r\n\ttoGeoJSON: function () {\r\n\t\treturn L.GeoJSON.getFeature(this, {\r\n\t\t\ttype: 'LineString',\r\n\t\t\tcoordinates: L.GeoJSON.latLngsToCoords(this.getLatLngs())\r\n\t\t});\r\n\t}\r\n});\r\n\r\nL.Polygon.include({\r\n\ttoGeoJSON: function () {\r\n\t\tvar coords = [L.GeoJSON.latLngsToCoords(this.getLatLngs())],\r\n\t\t    i, len, hole;\r\n\r\n\t\tcoords[0].push(coords[0][0]);\r\n\r\n\t\tif (this._holes) {\r\n\t\t\tfor (i = 0, len = this._holes.length; i < len; i++) {\r\n\t\t\t\thole = L.GeoJSON.latLngsToCoords(this._holes[i]);\r\n\t\t\t\thole.push(hole[0]);\r\n\t\t\t\tcoords.push(hole);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn L.GeoJSON.getFeature(this, {\r\n\t\t\ttype: 'Polygon',\r\n\t\t\tcoordinates: coords\r\n\t\t});\r\n\t}\r\n});\r\n\r\n(function () {\r\n\tfunction multiToGeoJSON(type) {\r\n\t\treturn function () {\r\n\t\t\tvar coords = [];\r\n\r\n\t\t\tthis.eachLayer(function (layer) {\r\n\t\t\t\tcoords.push(layer.toGeoJSON().geometry.coordinates);\r\n\t\t\t});\r\n\r\n\t\t\treturn L.GeoJSON.getFeature(this, {\r\n\t\t\t\ttype: type,\r\n\t\t\t\tcoordinates: coords\r\n\t\t\t});\r\n\t\t};\r\n\t}\r\n\r\n\tL.MultiPolyline.include({toGeoJSON: multiToGeoJSON('MultiLineString')});\r\n\tL.MultiPolygon.include({toGeoJSON: multiToGeoJSON('MultiPolygon')});\r\n\r\n\tL.LayerGroup.include({\r\n\t\ttoGeoJSON: function () {\r\n\r\n\t\t\tvar geometry = this.feature && this.feature.geometry,\r\n\t\t\t\tjsons = [],\r\n\t\t\t\tjson;\r\n\r\n\t\t\tif (geometry && geometry.type === 'MultiPoint') {\r\n\t\t\t\treturn multiToGeoJSON('MultiPoint').call(this);\r\n\t\t\t}\r\n\r\n\t\t\tvar isGeometryCollection = geometry && geometry.type === 'GeometryCollection';\r\n\r\n\t\t\tthis.eachLayer(function (layer) {\r\n\t\t\t\tif (layer.toGeoJSON) {\r\n\t\t\t\t\tjson = layer.toGeoJSON();\r\n\t\t\t\t\tjsons.push(isGeometryCollection ? json.geometry : L.GeoJSON.asFeature(json));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (isGeometryCollection) {\r\n\t\t\t\treturn L.GeoJSON.getFeature(this, {\r\n\t\t\t\t\tgeometries: jsons,\r\n\t\t\t\t\ttype: 'GeometryCollection'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\ttype: 'FeatureCollection',\r\n\t\t\t\tfeatures: jsons\r\n\t\t\t};\r\n\t\t}\r\n\t});\r\n}());\r\n\r\nL.geoJson = function (geojson, options) {\r\n\treturn new L.GeoJSON(geojson, options);\r\n};\r\n\n\n/*\r\n * L.DomEvent contains functions for working with DOM events.\r\n */\r\n\r\nL.DomEvent = {\r\n\t/* inspired by John Resig, Dean Edwards and YUI addEvent implementations */\r\n\taddListener: function (obj, type, fn, context) { // (HTMLElement, String, Function[, Object])\r\n\r\n\t\tvar id = L.stamp(fn),\r\n\t\t    key = '_leaflet_' + type + id,\r\n\t\t    handler, originalHandler, newType;\r\n\r\n\t\tif (obj[key]) { return this; }\r\n\r\n\t\thandler = function (e) {\r\n\t\t\treturn fn.call(context || obj, e || L.DomEvent._getEvent());\r\n\t\t};\r\n\r\n\t\tif (L.Browser.pointer && type.indexOf('touch') === 0) {\r\n\t\t\treturn this.addPointerListener(obj, type, handler, id);\r\n\t\t}\r\n\t\tif (L.Browser.touch && (type === 'dblclick') && this.addDoubleTapListener) {\r\n\t\t\tthis.addDoubleTapListener(obj, handler, id);\r\n\t\t}\r\n\r\n\t\tif ('addEventListener' in obj) {\r\n\r\n\t\t\tif (type === 'mousewheel') {\r\n\t\t\t\tobj.addEventListener('DOMMouseScroll', handler, false);\r\n\t\t\t\tobj.addEventListener(type, handler, false);\r\n\r\n\t\t\t} else if ((type === 'mouseenter') || (type === 'mouseleave')) {\r\n\r\n\t\t\t\toriginalHandler = handler;\r\n\t\t\t\tnewType = (type === 'mouseenter' ? 'mouseover' : 'mouseout');\r\n\r\n\t\t\t\thandler = function (e) {\r\n\t\t\t\t\tif (!L.DomEvent._checkMouse(obj, e)) { return; }\r\n\t\t\t\t\treturn originalHandler(e);\r\n\t\t\t\t};\r\n\r\n\t\t\t\tobj.addEventListener(newType, handler, false);\r\n\r\n\t\t\t} else if (type === 'click' && L.Browser.android) {\r\n\t\t\t\toriginalHandler = handler;\r\n\t\t\t\thandler = function (e) {\r\n\t\t\t\t\treturn L.DomEvent._filterClick(e, originalHandler);\r\n\t\t\t\t};\r\n\r\n\t\t\t\tobj.addEventListener(type, handler, false);\r\n\t\t\t} else {\r\n\t\t\t\tobj.addEventListener(type, handler, false);\r\n\t\t\t}\r\n\r\n\t\t} else if ('attachEvent' in obj) {\r\n\t\t\tobj.attachEvent('on' + type, handler);\r\n\t\t}\r\n\r\n\t\tobj[key] = handler;\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tremoveListener: function (obj, type, fn) {  // (HTMLElement, String, Function)\r\n\r\n\t\tvar id = L.stamp(fn),\r\n\t\t    key = '_leaflet_' + type + id,\r\n\t\t    handler = obj[key];\r\n\r\n\t\tif (!handler) { return this; }\r\n\r\n\t\tif (L.Browser.pointer && type.indexOf('touch') === 0) {\r\n\t\t\tthis.removePointerListener(obj, type, id);\r\n\t\t} else if (L.Browser.touch && (type === 'dblclick') && this.removeDoubleTapListener) {\r\n\t\t\tthis.removeDoubleTapListener(obj, id);\r\n\r\n\t\t} else if ('removeEventListener' in obj) {\r\n\r\n\t\t\tif (type === 'mousewheel') {\r\n\t\t\t\tobj.removeEventListener('DOMMouseScroll', handler, false);\r\n\t\t\t\tobj.removeEventListener(type, handler, false);\r\n\r\n\t\t\t} else if ((type === 'mouseenter') || (type === 'mouseleave')) {\r\n\t\t\t\tobj.removeEventListener((type === 'mouseenter' ? 'mouseover' : 'mouseout'), handler, false);\r\n\t\t\t} else {\r\n\t\t\t\tobj.removeEventListener(type, handler, false);\r\n\t\t\t}\r\n\t\t} else if ('detachEvent' in obj) {\r\n\t\t\tobj.detachEvent('on' + type, handler);\r\n\t\t}\r\n\r\n\t\tobj[key] = null;\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tstopPropagation: function (e) {\r\n\r\n\t\tif (e.stopPropagation) {\r\n\t\t\te.stopPropagation();\r\n\t\t} else {\r\n\t\t\te.cancelBubble = true;\r\n\t\t}\r\n\t\tL.DomEvent._skipped(e);\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tdisableScrollPropagation: function (el) {\r\n\t\tvar stop = L.DomEvent.stopPropagation;\r\n\r\n\t\treturn L.DomEvent\r\n\t\t\t.on(el, 'mousewheel', stop)\r\n\t\t\t.on(el, 'MozMousePixelScroll', stop);\r\n\t},\r\n\r\n\tdisableClickPropagation: function (el) {\r\n\t\tvar stop = L.DomEvent.stopPropagation;\r\n\r\n\t\tfor (var i = L.Draggable.START.length - 1; i >= 0; i--) {\r\n\t\t\tL.DomEvent.on(el, L.Draggable.START[i], stop);\r\n\t\t}\r\n\r\n\t\treturn L.DomEvent\r\n\t\t\t.on(el, 'click', L.DomEvent._fakeStop)\r\n\t\t\t.on(el, 'dblclick', stop);\r\n\t},\r\n\r\n\tpreventDefault: function (e) {\r\n\r\n\t\tif (e.preventDefault) {\r\n\t\t\te.preventDefault();\r\n\t\t} else {\r\n\t\t\te.returnValue = false;\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\tstop: function (e) {\r\n\t\treturn L.DomEvent\r\n\t\t\t.preventDefault(e)\r\n\t\t\t.stopPropagation(e);\r\n\t},\r\n\r\n\tgetMousePosition: function (e, container) {\r\n\t\tif (!container) {\r\n\t\t\treturn new L.Point(e.clientX, e.clientY);\r\n\t\t}\r\n\r\n\t\tvar rect = container.getBoundingClientRect();\r\n\r\n\t\treturn new L.Point(\r\n\t\t\te.clientX - rect.left - container.clientLeft,\r\n\t\t\te.clientY - rect.top - container.clientTop);\r\n\t},\r\n\r\n\tgetWheelDelta: function (e) {\r\n\r\n\t\tvar delta = 0;\r\n\r\n\t\tif (e.wheelDelta) {\r\n\t\t\tdelta = e.wheelDelta / 120;\r\n\t\t}\r\n\t\tif (e.detail) {\r\n\t\t\tdelta = -e.detail / 3;\r\n\t\t}\r\n\t\treturn delta;\r\n\t},\r\n\r\n\t_skipEvents: {},\r\n\r\n\t_fakeStop: function (e) {\r\n\t\t// fakes stopPropagation by setting a special event flag, checked/reset with L.DomEvent._skipped(e)\r\n\t\tL.DomEvent._skipEvents[e.type] = true;\r\n\t},\r\n\r\n\t_skipped: function (e) {\r\n\t\tvar skipped = this._skipEvents[e.type];\r\n\t\t// reset when checking, as it's only used in map container and propagates outside of the map\r\n\t\tthis._skipEvents[e.type] = false;\r\n\t\treturn skipped;\r\n\t},\r\n\r\n\t// check if element really left/entered the event target (for mouseenter/mouseleave)\r\n\t_checkMouse: function (el, e) {\r\n\r\n\t\tvar related = e.relatedTarget;\r\n\r\n\t\tif (!related) { return true; }\r\n\r\n\t\ttry {\r\n\t\t\twhile (related && (related !== el)) {\r\n\t\t\t\trelated = related.parentNode;\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn (related !== el);\r\n\t},\r\n\r\n\t_getEvent: function () { // evil magic for IE\r\n\t\t/*jshint noarg:false */\r\n\t\tvar e = window.event;\r\n\t\tif (!e) {\r\n\t\t\tvar caller = arguments.callee.caller;\r\n\t\t\twhile (caller) {\r\n\t\t\t\te = caller['arguments'][0];\r\n\t\t\t\tif (e && window.Event === e.constructor) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tcaller = caller.caller;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn e;\r\n\t},\r\n\r\n\t// this is a horrible workaround for a bug in Android where a single touch triggers two click events\r\n\t_filterClick: function (e, handler) {\r\n\t\tvar timeStamp = (e.timeStamp || e.originalEvent.timeStamp),\r\n\t\t\telapsed = L.DomEvent._lastClick && (timeStamp - L.DomEvent._lastClick);\r\n\r\n\t\t// are they closer together than 500ms yet more than 100ms?\r\n\t\t// Android typically triggers them ~300ms apart while multiple listeners\r\n\t\t// on the same event should be triggered far faster;\r\n\t\t// or check if click is simulated on the element, and if it is, reject any non-simulated events\r\n\r\n\t\tif ((elapsed && elapsed > 100 && elapsed < 500) || (e.target._simulatedClick && !e._simulated)) {\r\n\t\t\tL.DomEvent.stop(e);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tL.DomEvent._lastClick = timeStamp;\r\n\r\n\t\treturn handler(e);\r\n\t}\r\n};\r\n\r\nL.DomEvent.on = L.DomEvent.addListener;\r\nL.DomEvent.off = L.DomEvent.removeListener;\r\n\n\n/*\r\n * L.Draggable allows you to add dragging capabilities to any element. Supports mobile devices too.\r\n */\r\n\r\nL.Draggable = L.Class.extend({\r\n\tincludes: L.Mixin.Events,\r\n\r\n\tstatics: {\r\n\t\tSTART: L.Browser.touch ? ['touchstart', 'mousedown'] : ['mousedown'],\r\n\t\tEND: {\r\n\t\t\tmousedown: 'mouseup',\r\n\t\t\ttouchstart: 'touchend',\r\n\t\t\tpointerdown: 'touchend',\r\n\t\t\tMSPointerDown: 'touchend'\r\n\t\t},\r\n\t\tMOVE: {\r\n\t\t\tmousedown: 'mousemove',\r\n\t\t\ttouchstart: 'touchmove',\r\n\t\t\tpointerdown: 'touchmove',\r\n\t\t\tMSPointerDown: 'touchmove'\r\n\t\t}\r\n\t},\r\n\r\n\tinitialize: function (element, dragStartTarget) {\r\n\t\tthis._element = element;\r\n\t\tthis._dragStartTarget = dragStartTarget || element;\r\n\t},\r\n\r\n\tenable: function () {\r\n\t\tif (this._enabled) { return; }\r\n\r\n\t\tfor (var i = L.Draggable.START.length - 1; i >= 0; i--) {\r\n\t\t\tL.DomEvent.on(this._dragStartTarget, L.Draggable.START[i], this._onDown, this);\r\n\t\t}\r\n\r\n\t\tthis._enabled = true;\r\n\t},\r\n\r\n\tdisable: function () {\r\n\t\tif (!this._enabled) { return; }\r\n\r\n\t\tfor (var i = L.Draggable.START.length - 1; i >= 0; i--) {\r\n\t\t\tL.DomEvent.off(this._dragStartTarget, L.Draggable.START[i], this._onDown, this);\r\n\t\t}\r\n\r\n\t\tthis._enabled = false;\r\n\t\tthis._moved = false;\r\n\t},\r\n\r\n\t_onDown: function (e) {\r\n\t\tthis._moved = false;\r\n\r\n\t\tif (e.shiftKey || ((e.which !== 1) && (e.button !== 1) && !e.touches)) { return; }\r\n\r\n\t\tL.DomEvent.stopPropagation(e);\r\n\r\n\t\tif (L.Draggable._disabled) { return; }\r\n\r\n\t\tL.DomUtil.disableImageDrag();\r\n\t\tL.DomUtil.disableTextSelection();\r\n\r\n\t\tif (this._moving) { return; }\r\n\r\n\t\tvar first = e.touches ? e.touches[0] : e;\r\n\r\n\t\tthis._startPoint = new L.Point(first.clientX, first.clientY);\r\n\t\tthis._startPos = this._newPos = L.DomUtil.getPosition(this._element);\r\n\r\n\t\tL.DomEvent\r\n\t\t    .on(document, L.Draggable.MOVE[e.type], this._onMove, this)\r\n\t\t    .on(document, L.Draggable.END[e.type], this._onUp, this);\r\n\t},\r\n\r\n\t_onMove: function (e) {\r\n\t\tif (e.touches && e.touches.length > 1) {\r\n\t\t\tthis._moved = true;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar first = (e.touches && e.touches.length === 1 ? e.touches[0] : e),\r\n\t\t    newPoint = new L.Point(first.clientX, first.clientY),\r\n\t\t    offset = newPoint.subtract(this._startPoint);\r\n\r\n\t\tif (!offset.x && !offset.y) { return; }\r\n\t\tif (L.Browser.touch && Math.abs(offset.x) + Math.abs(offset.y) < 3) { return; }\r\n\r\n\t\tL.DomEvent.preventDefault(e);\r\n\r\n\t\tif (!this._moved) {\r\n\t\t\tthis.fire('dragstart');\r\n\r\n\t\t\tthis._moved = true;\r\n\t\t\tthis._startPos = L.DomUtil.getPosition(this._element).subtract(offset);\r\n\r\n\t\t\tL.DomUtil.addClass(document.body, 'leaflet-dragging');\r\n\t\t\tthis._lastTarget = e.target || e.srcElement;\r\n\t\t\tL.DomUtil.addClass(this._lastTarget, 'leaflet-drag-target');\r\n\t\t}\r\n\r\n\t\tthis._newPos = this._startPos.add(offset);\r\n\t\tthis._moving = true;\r\n\r\n\t\tL.Util.cancelAnimFrame(this._animRequest);\r\n\t\tthis._animRequest = L.Util.requestAnimFrame(this._updatePosition, this, true, this._dragStartTarget);\r\n\t},\r\n\r\n\t_updatePosition: function () {\r\n\t\tthis.fire('predrag');\r\n\t\tL.DomUtil.setPosition(this._element, this._newPos);\r\n\t\tthis.fire('drag');\r\n\t},\r\n\r\n\t_onUp: function () {\r\n\t\tL.DomUtil.removeClass(document.body, 'leaflet-dragging');\r\n\r\n\t\tif (this._lastTarget) {\r\n\t\t\tL.DomUtil.removeClass(this._lastTarget, 'leaflet-drag-target');\r\n\t\t\tthis._lastTarget = null;\r\n\t\t}\r\n\r\n\t\tfor (var i in L.Draggable.MOVE) {\r\n\t\t\tL.DomEvent\r\n\t\t\t    .off(document, L.Draggable.MOVE[i], this._onMove)\r\n\t\t\t    .off(document, L.Draggable.END[i], this._onUp);\r\n\t\t}\r\n\r\n\t\tL.DomUtil.enableImageDrag();\r\n\t\tL.DomUtil.enableTextSelection();\r\n\r\n\t\tif (this._moved && this._moving) {\r\n\t\t\t// ensure drag is not fired after dragend\r\n\t\t\tL.Util.cancelAnimFrame(this._animRequest);\r\n\r\n\t\t\tthis.fire('dragend', {\r\n\t\t\t\tdistance: this._newPos.distanceTo(this._startPos)\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis._moving = false;\r\n\t}\r\n});\r\n\n\n/*\n\tL.Handler is a base class for handler classes that are used internally to inject\n\tinteraction features like dragging to classes like Map and Marker.\n*/\n\nL.Handler = L.Class.extend({\n\tinitialize: function (map) {\n\t\tthis._map = map;\n\t},\n\n\tenable: function () {\n\t\tif (this._enabled) { return; }\n\n\t\tthis._enabled = true;\n\t\tthis.addHooks();\n\t},\n\n\tdisable: function () {\n\t\tif (!this._enabled) { return; }\n\n\t\tthis._enabled = false;\n\t\tthis.removeHooks();\n\t},\n\n\tenabled: function () {\n\t\treturn !!this._enabled;\n\t}\n});\n\n\n/*\n * L.Handler.MapDrag is used to make the map draggable (with panning inertia), enabled by default.\n */\n\nL.Map.mergeOptions({\n\tdragging: true,\n\n\tinertia: !L.Browser.android23,\n\tinertiaDeceleration: 3400, // px/s^2\n\tinertiaMaxSpeed: Infinity, // px/s\n\tinertiaThreshold: L.Browser.touch ? 32 : 18, // ms\n\teaseLinearity: 0.25,\n\n\t// TODO refactor, move to CRS\n\tworldCopyJump: false\n});\n\nL.Map.Drag = L.Handler.extend({\n\taddHooks: function () {\n\t\tif (!this._draggable) {\n\t\t\tvar map = this._map;\n\n\t\t\tthis._draggable = new L.Draggable(map._mapPane, map._container);\n\n\t\t\tthis._draggable.on({\n\t\t\t\t'dragstart': this._onDragStart,\n\t\t\t\t'drag': this._onDrag,\n\t\t\t\t'dragend': this._onDragEnd\n\t\t\t}, this);\n\n\t\t\tif (map.options.worldCopyJump) {\n\t\t\t\tthis._draggable.on('predrag', this._onPreDrag, this);\n\t\t\t\tmap.on('viewreset', this._onViewReset, this);\n\n\t\t\t\tmap.whenReady(this._onViewReset, this);\n\t\t\t}\n\t\t}\n\t\tthis._draggable.enable();\n\t},\n\n\tremoveHooks: function () {\n\t\tthis._draggable.disable();\n\t},\n\n\tmoved: function () {\n\t\treturn this._draggable && this._draggable._moved;\n\t},\n\n\t_onDragStart: function () {\n\t\tvar map = this._map;\n\n\t\tif (map._panAnim) {\n\t\t\tmap._panAnim.stop();\n\t\t}\n\n\t\tmap\n\t\t    .fire('movestart')\n\t\t    .fire('dragstart');\n\n\t\tif (map.options.inertia) {\n\t\t\tthis._positions = [];\n\t\t\tthis._times = [];\n\t\t}\n\t},\n\n\t_onDrag: function () {\n\t\tif (this._map.options.inertia) {\n\t\t\tvar time = this._lastTime = +new Date(),\n\t\t\t    pos = this._lastPos = this._draggable._newPos;\n\n\t\t\tthis._positions.push(pos);\n\t\t\tthis._times.push(time);\n\n\t\t\tif (time - this._times[0] > 200) {\n\t\t\t\tthis._positions.shift();\n\t\t\t\tthis._times.shift();\n\t\t\t}\n\t\t}\n\n\t\tthis._map\n\t\t    .fire('move')\n\t\t    .fire('drag');\n\t},\n\n\t_onViewReset: function () {\n\t\t// TODO fix hardcoded Earth values\n\t\tvar pxCenter = this._map.getSize()._divideBy(2),\n\t\t    pxWorldCenter = this._map.latLngToLayerPoint([0, 0]);\n\n\t\tthis._initialWorldOffset = pxWorldCenter.subtract(pxCenter).x;\n\t\tthis._worldWidth = this._map.project([0, 180]).x;\n\t},\n\n\t_onPreDrag: function () {\n\t\t// TODO refactor to be able to adjust map pane position after zoom\n\t\tvar worldWidth = this._worldWidth,\n\t\t    halfWidth = Math.round(worldWidth / 2),\n\t\t    dx = this._initialWorldOffset,\n\t\t    x = this._draggable._newPos.x,\n\t\t    newX1 = (x - halfWidth + dx) % worldWidth + halfWidth - dx,\n\t\t    newX2 = (x + halfWidth + dx) % worldWidth - halfWidth - dx,\n\t\t    newX = Math.abs(newX1 + dx) < Math.abs(newX2 + dx) ? newX1 : newX2;\n\n\t\tthis._draggable._newPos.x = newX;\n\t},\n\n\t_onDragEnd: function (e) {\n\t\tvar map = this._map,\n\t\t    options = map.options,\n\t\t    delay = +new Date() - this._lastTime,\n\n\t\t    noInertia = !options.inertia || delay > options.inertiaThreshold || !this._positions[0];\n\n\t\tmap.fire('dragend', e);\n\n\t\tif (noInertia) {\n\t\t\tmap.fire('moveend');\n\n\t\t} else {\n\n\t\t\tvar direction = this._lastPos.subtract(this._positions[0]),\n\t\t\t    duration = (this._lastTime + delay - this._times[0]) / 1000,\n\t\t\t    ease = options.easeLinearity,\n\n\t\t\t    speedVector = direction.multiplyBy(ease / duration),\n\t\t\t    speed = speedVector.distanceTo([0, 0]),\n\n\t\t\t    limitedSpeed = Math.min(options.inertiaMaxSpeed, speed),\n\t\t\t    limitedSpeedVector = speedVector.multiplyBy(limitedSpeed / speed),\n\n\t\t\t    decelerationDuration = limitedSpeed / (options.inertiaDeceleration * ease),\n\t\t\t    offset = limitedSpeedVector.multiplyBy(-decelerationDuration / 2).round();\n\n\t\t\tif (!offset.x || !offset.y) {\n\t\t\t\tmap.fire('moveend');\n\n\t\t\t} else {\n\t\t\t\toffset = map._limitOffset(offset, map.options.maxBounds);\n\n\t\t\t\tL.Util.requestAnimFrame(function () {\n\t\t\t\t\tmap.panBy(offset, {\n\t\t\t\t\t\tduration: decelerationDuration,\n\t\t\t\t\t\teaseLinearity: ease,\n\t\t\t\t\t\tnoMoveStart: true\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n});\n\nL.Map.addInitHook('addHandler', 'dragging', L.Map.Drag);\n\n\n/*\n * L.Handler.DoubleClickZoom is used to handle double-click zoom on the map, enabled by default.\n */\n\nL.Map.mergeOptions({\n\tdoubleClickZoom: true\n});\n\nL.Map.DoubleClickZoom = L.Handler.extend({\n\taddHooks: function () {\n\t\tthis._map.on('dblclick', this._onDoubleClick, this);\n\t},\n\n\tremoveHooks: function () {\n\t\tthis._map.off('dblclick', this._onDoubleClick, this);\n\t},\n\n\t_onDoubleClick: function (e) {\n\t\tvar map = this._map,\n\t\t    zoom = map.getZoom() + (e.originalEvent.shiftKey ? -1 : 1);\n\n\t\tif (map.options.doubleClickZoom === 'center') {\n\t\t\tmap.setZoom(zoom);\n\t\t} else {\n\t\t\tmap.setZoomAround(e.containerPoint, zoom);\n\t\t}\n\t}\n});\n\nL.Map.addInitHook('addHandler', 'doubleClickZoom', L.Map.DoubleClickZoom);\n\n\n/*\n * L.Handler.ScrollWheelZoom is used by L.Map to enable mouse scroll wheel zoom on the map.\n */\n\nL.Map.mergeOptions({\n\tscrollWheelZoom: true\n});\n\nL.Map.ScrollWheelZoom = L.Handler.extend({\n\taddHooks: function () {\n\t\tL.DomEvent.on(this._map._container, 'mousewheel', this._onWheelScroll, this);\n\t\tL.DomEvent.on(this._map._container, 'MozMousePixelScroll', L.DomEvent.preventDefault);\n\t\tthis._delta = 0;\n\t},\n\n\tremoveHooks: function () {\n\t\tL.DomEvent.off(this._map._container, 'mousewheel', this._onWheelScroll);\n\t\tL.DomEvent.off(this._map._container, 'MozMousePixelScroll', L.DomEvent.preventDefault);\n\t},\n\n\t_onWheelScroll: function (e) {\n\t\tvar delta = L.DomEvent.getWheelDelta(e);\n\n\t\tthis._delta += delta;\n\t\tthis._lastMousePos = this._map.mouseEventToContainerPoint(e);\n\n\t\tif (!this._startTime) {\n\t\t\tthis._startTime = +new Date();\n\t\t}\n\n\t\tvar left = Math.max(40 - (+new Date() - this._startTime), 0);\n\n\t\tclearTimeout(this._timer);\n\t\tthis._timer = setTimeout(L.bind(this._performZoom, this), left);\n\n\t\tL.DomEvent.preventDefault(e);\n\t\tL.DomEvent.stopPropagation(e);\n\t},\n\n\t_performZoom: function () {\n\t\tvar map = this._map,\n\t\t    delta = this._delta,\n\t\t    zoom = map.getZoom();\n\n\t\tdelta = delta > 0 ? Math.ceil(delta) : Math.floor(delta);\n\t\tdelta = Math.max(Math.min(delta, 4), -4);\n\t\tdelta = map._limitZoom(zoom + delta) - zoom;\n\n\t\tthis._delta = 0;\n\t\tthis._startTime = null;\n\n\t\tif (!delta) { return; }\n\n\t\tif (map.options.scrollWheelZoom === 'center') {\n\t\t\tmap.setZoom(zoom + delta);\n\t\t} else {\n\t\t\tmap.setZoomAround(this._lastMousePos, zoom + delta);\n\t\t}\n\t}\n});\n\nL.Map.addInitHook('addHandler', 'scrollWheelZoom', L.Map.ScrollWheelZoom);\n\n\n/*\r\n * Extends the event handling code with double tap support for mobile browsers.\r\n */\r\n\r\nL.extend(L.DomEvent, {\r\n\r\n\t_touchstart: L.Browser.msPointer ? 'MSPointerDown' : L.Browser.pointer ? 'pointerdown' : 'touchstart',\r\n\t_touchend: L.Browser.msPointer ? 'MSPointerUp' : L.Browser.pointer ? 'pointerup' : 'touchend',\r\n\r\n\t// inspired by Zepto touch code by Thomas Fuchs\r\n\taddDoubleTapListener: function (obj, handler, id) {\r\n\t\tvar last,\r\n\t\t    doubleTap = false,\r\n\t\t    delay = 250,\r\n\t\t    touch,\r\n\t\t    pre = '_leaflet_',\r\n\t\t    touchstart = this._touchstart,\r\n\t\t    touchend = this._touchend,\r\n\t\t    trackedTouches = [];\r\n\r\n\t\tfunction onTouchStart(e) {\r\n\t\t\tvar count;\r\n\r\n\t\t\tif (L.Browser.pointer) {\r\n\t\t\t\ttrackedTouches.push(e.pointerId);\r\n\t\t\t\tcount = trackedTouches.length;\r\n\t\t\t} else {\r\n\t\t\t\tcount = e.touches.length;\r\n\t\t\t}\r\n\t\t\tif (count > 1) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar now = Date.now(),\r\n\t\t\t\tdelta = now - (last || now);\r\n\r\n\t\t\ttouch = e.touches ? e.touches[0] : e;\r\n\t\t\tdoubleTap = (delta > 0 && delta <= delay);\r\n\t\t\tlast = now;\r\n\t\t}\r\n\r\n\t\tfunction onTouchEnd(e) {\r\n\t\t\tif (L.Browser.pointer) {\r\n\t\t\t\tvar idx = trackedTouches.indexOf(e.pointerId);\r\n\t\t\t\tif (idx === -1) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\ttrackedTouches.splice(idx, 1);\r\n\t\t\t}\r\n\r\n\t\t\tif (doubleTap) {\r\n\t\t\t\tif (L.Browser.pointer) {\r\n\t\t\t\t\t// work around .type being readonly with MSPointer* events\r\n\t\t\t\t\tvar newTouch = { },\r\n\t\t\t\t\t\tprop;\r\n\r\n\t\t\t\t\t// jshint forin:false\r\n\t\t\t\t\tfor (var i in touch) {\r\n\t\t\t\t\t\tprop = touch[i];\r\n\t\t\t\t\t\tif (typeof prop === 'function') {\r\n\t\t\t\t\t\t\tnewTouch[i] = prop.bind(touch);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnewTouch[i] = prop;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttouch = newTouch;\r\n\t\t\t\t}\r\n\t\t\t\ttouch.type = 'dblclick';\r\n\t\t\t\thandler(touch);\r\n\t\t\t\tlast = null;\r\n\t\t\t}\r\n\t\t}\r\n\t\tobj[pre + touchstart + id] = onTouchStart;\r\n\t\tobj[pre + touchend + id] = onTouchEnd;\r\n\r\n\t\t// on pointer we need to listen on the document, otherwise a drag starting on the map and moving off screen\r\n\t\t// will not come through to us, so we will lose track of how many touches are ongoing\r\n\t\tvar endElement = L.Browser.pointer ? document.documentElement : obj;\r\n\r\n\t\tobj.addEventListener(touchstart, onTouchStart, false);\r\n\t\tendElement.addEventListener(touchend, onTouchEnd, false);\r\n\r\n\t\tif (L.Browser.pointer) {\r\n\t\t\tendElement.addEventListener(L.DomEvent.POINTER_CANCEL, onTouchEnd, false);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tremoveDoubleTapListener: function (obj, id) {\r\n\t\tvar pre = '_leaflet_';\r\n\r\n\t\tobj.removeEventListener(this._touchstart, obj[pre + this._touchstart + id], false);\r\n\t\t(L.Browser.pointer ? document.documentElement : obj).removeEventListener(\r\n\t\t        this._touchend, obj[pre + this._touchend + id], false);\r\n\r\n\t\tif (L.Browser.pointer) {\r\n\t\t\tdocument.documentElement.removeEventListener(L.DomEvent.POINTER_CANCEL, obj[pre + this._touchend + id],\r\n\t\t\t\tfalse);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t}\r\n});\r\n\n\n/*\n * Extends L.DomEvent to provide touch support for Internet Explorer and Windows-based devices.\n */\n\nL.extend(L.DomEvent, {\n\n\t//static\n\tPOINTER_DOWN: L.Browser.msPointer ? 'MSPointerDown' : 'pointerdown',\n\tPOINTER_MOVE: L.Browser.msPointer ? 'MSPointerMove' : 'pointermove',\n\tPOINTER_UP: L.Browser.msPointer ? 'MSPointerUp' : 'pointerup',\n\tPOINTER_CANCEL: L.Browser.msPointer ? 'MSPointerCancel' : 'pointercancel',\n\n\t_pointers: [],\n\t_pointerDocumentListener: false,\n\n\t// Provides a touch events wrapper for (ms)pointer events.\n\t// Based on changes by veproza https://github.com/CloudMade/Leaflet/pull/1019\n\t//ref http://www.w3.org/TR/pointerevents/ https://www.w3.org/Bugs/Public/show_bug.cgi?id=22890\n\n\taddPointerListener: function (obj, type, handler, id) {\n\n\t\tswitch (type) {\n\t\tcase 'touchstart':\n\t\t\treturn this.addPointerListenerStart(obj, type, handler, id);\n\t\tcase 'touchend':\n\t\t\treturn this.addPointerListenerEnd(obj, type, handler, id);\n\t\tcase 'touchmove':\n\t\t\treturn this.addPointerListenerMove(obj, type, handler, id);\n\t\tdefault:\n\t\t\tthrow 'Unknown touch event type';\n\t\t}\n\t},\n\n\taddPointerListenerStart: function (obj, type, handler, id) {\n\t\tvar pre = '_leaflet_',\n\t\t    pointers = this._pointers;\n\n\t\tvar cb = function (e) {\n\n\t\t\tL.DomEvent.preventDefault(e);\n\n\t\t\tvar alreadyInArray = false;\n\t\t\tfor (var i = 0; i < pointers.length; i++) {\n\t\t\t\tif (pointers[i].pointerId === e.pointerId) {\n\t\t\t\t\talreadyInArray = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!alreadyInArray) {\n\t\t\t\tpointers.push(e);\n\t\t\t}\n\n\t\t\te.touches = pointers.slice();\n\t\t\te.changedTouches = [e];\n\n\t\t\thandler(e);\n\t\t};\n\n\t\tobj[pre + 'touchstart' + id] = cb;\n\t\tobj.addEventListener(this.POINTER_DOWN, cb, false);\n\n\t\t// need to also listen for end events to keep the _pointers list accurate\n\t\t// this needs to be on the body and never go away\n\t\tif (!this._pointerDocumentListener) {\n\t\t\tvar internalCb = function (e) {\n\t\t\t\tfor (var i = 0; i < pointers.length; i++) {\n\t\t\t\t\tif (pointers[i].pointerId === e.pointerId) {\n\t\t\t\t\t\tpointers.splice(i, 1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\t//We listen on the documentElement as any drags that end by moving the touch off the screen get fired there\n\t\t\tdocument.documentElement.addEventListener(this.POINTER_UP, internalCb, false);\n\t\t\tdocument.documentElement.addEventListener(this.POINTER_CANCEL, internalCb, false);\n\n\t\t\tthis._pointerDocumentListener = true;\n\t\t}\n\n\t\treturn this;\n\t},\n\n\taddPointerListenerMove: function (obj, type, handler, id) {\n\t\tvar pre = '_leaflet_',\n\t\t    touches = this._pointers;\n\n\t\tfunction cb(e) {\n\n\t\t\t// don't fire touch moves when mouse isn't down\n\t\t\tif ((e.pointerType === e.MSPOINTER_TYPE_MOUSE || e.pointerType === 'mouse') && e.buttons === 0) { return; }\n\n\t\t\tfor (var i = 0; i < touches.length; i++) {\n\t\t\t\tif (touches[i].pointerId === e.pointerId) {\n\t\t\t\t\ttouches[i] = e;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\te.touches = touches.slice();\n\t\t\te.changedTouches = [e];\n\n\t\t\thandler(e);\n\t\t}\n\n\t\tobj[pre + 'touchmove' + id] = cb;\n\t\tobj.addEventListener(this.POINTER_MOVE, cb, false);\n\n\t\treturn this;\n\t},\n\n\taddPointerListenerEnd: function (obj, type, handler, id) {\n\t\tvar pre = '_leaflet_',\n\t\t    touches = this._pointers;\n\n\t\tvar cb = function (e) {\n\t\t\tfor (var i = 0; i < touches.length; i++) {\n\t\t\t\tif (touches[i].pointerId === e.pointerId) {\n\t\t\t\t\ttouches.splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\te.touches = touches.slice();\n\t\t\te.changedTouches = [e];\n\n\t\t\thandler(e);\n\t\t};\n\n\t\tobj[pre + 'touchend' + id] = cb;\n\t\tobj.addEventListener(this.POINTER_UP, cb, false);\n\t\tobj.addEventListener(this.POINTER_CANCEL, cb, false);\n\n\t\treturn this;\n\t},\n\n\tremovePointerListener: function (obj, type, id) {\n\t\tvar pre = '_leaflet_',\n\t\t    cb = obj[pre + type + id];\n\n\t\tswitch (type) {\n\t\tcase 'touchstart':\n\t\t\tobj.removeEventListener(this.POINTER_DOWN, cb, false);\n\t\t\tbreak;\n\t\tcase 'touchmove':\n\t\t\tobj.removeEventListener(this.POINTER_MOVE, cb, false);\n\t\t\tbreak;\n\t\tcase 'touchend':\n\t\t\tobj.removeEventListener(this.POINTER_UP, cb, false);\n\t\t\tobj.removeEventListener(this.POINTER_CANCEL, cb, false);\n\t\t\tbreak;\n\t\t}\n\n\t\treturn this;\n\t}\n});\n\n\n/*\n * L.Handler.TouchZoom is used by L.Map to add pinch zoom on supported mobile browsers.\n */\n\nL.Map.mergeOptions({\n\ttouchZoom: L.Browser.touch && !L.Browser.android23,\n\tbounceAtZoomLimits: true\n});\n\nL.Map.TouchZoom = L.Handler.extend({\n\taddHooks: function () {\n\t\tL.DomEvent.on(this._map._container, 'touchstart', this._onTouchStart, this);\n\t},\n\n\tremoveHooks: function () {\n\t\tL.DomEvent.off(this._map._container, 'touchstart', this._onTouchStart, this);\n\t},\n\n\t_onTouchStart: function (e) {\n\t\tvar map = this._map;\n\n\t\tif (!e.touches || e.touches.length !== 2 || map._animatingZoom || this._zooming) { return; }\n\n\t\tvar p1 = map.mouseEventToLayerPoint(e.touches[0]),\n\t\t    p2 = map.mouseEventToLayerPoint(e.touches[1]),\n\t\t    viewCenter = map._getCenterLayerPoint();\n\n\t\tthis._startCenter = p1.add(p2)._divideBy(2);\n\t\tthis._startDist = p1.distanceTo(p2);\n\n\t\tthis._moved = false;\n\t\tthis._zooming = true;\n\n\t\tthis._centerOffset = viewCenter.subtract(this._startCenter);\n\n\t\tif (map._panAnim) {\n\t\t\tmap._panAnim.stop();\n\t\t}\n\n\t\tL.DomEvent\n\t\t    .on(document, 'touchmove', this._onTouchMove, this)\n\t\t    .on(document, 'touchend', this._onTouchEnd, this);\n\n\t\tL.DomEvent.preventDefault(e);\n\t},\n\n\t_onTouchMove: function (e) {\n\t\tvar map = this._map;\n\n\t\tif (!e.touches || e.touches.length !== 2 || !this._zooming) { return; }\n\n\t\tvar p1 = map.mouseEventToLayerPoint(e.touches[0]),\n\t\t    p2 = map.mouseEventToLayerPoint(e.touches[1]);\n\n\t\tthis._scale = p1.distanceTo(p2) / this._startDist;\n\t\tthis._delta = p1._add(p2)._divideBy(2)._subtract(this._startCenter);\n\n\t\tif (this._scale === 1) { return; }\n\n\t\tif (!map.options.bounceAtZoomLimits) {\n\t\t\tif ((map.getZoom() === map.getMinZoom() && this._scale < 1) ||\n\t\t\t    (map.getZoom() === map.getMaxZoom() && this._scale > 1)) { return; }\n\t\t}\n\n\t\tif (!this._moved) {\n\t\t\tL.DomUtil.addClass(map._mapPane, 'leaflet-touching');\n\n\t\t\tmap\n\t\t\t    .fire('movestart')\n\t\t\t    .fire('zoomstart');\n\n\t\t\tthis._moved = true;\n\t\t}\n\n\t\tL.Util.cancelAnimFrame(this._animRequest);\n\t\tthis._animRequest = L.Util.requestAnimFrame(\n\t\t        this._updateOnMove, this, true, this._map._container);\n\n\t\tL.DomEvent.preventDefault(e);\n\t},\n\n\t_updateOnMove: function () {\n\t\tvar map = this._map,\n\t\t    origin = this._getScaleOrigin(),\n\t\t    center = map.layerPointToLatLng(origin),\n\t\t    zoom = map.getScaleZoom(this._scale);\n\n\t\tmap._animateZoom(center, zoom, this._startCenter, this._scale, this._delta, false, true);\n\t},\n\n\t_onTouchEnd: function () {\n\t\tif (!this._moved || !this._zooming) {\n\t\t\tthis._zooming = false;\n\t\t\treturn;\n\t\t}\n\n\t\tvar map = this._map;\n\n\t\tthis._zooming = false;\n\t\tL.DomUtil.removeClass(map._mapPane, 'leaflet-touching');\n\t\tL.Util.cancelAnimFrame(this._animRequest);\n\n\t\tL.DomEvent\n\t\t    .off(document, 'touchmove', this._onTouchMove)\n\t\t    .off(document, 'touchend', this._onTouchEnd);\n\n\t\tvar origin = this._getScaleOrigin(),\n\t\t    center = map.layerPointToLatLng(origin),\n\n\t\t    oldZoom = map.getZoom(),\n\t\t    floatZoomDelta = map.getScaleZoom(this._scale) - oldZoom,\n\t\t    roundZoomDelta = (floatZoomDelta > 0 ?\n\t\t            Math.ceil(floatZoomDelta) : Math.floor(floatZoomDelta)),\n\n\t\t    zoom = map._limitZoom(oldZoom + roundZoomDelta),\n\t\t    scale = map.getZoomScale(zoom) / this._scale;\n\n\t\tmap._animateZoom(center, zoom, origin, scale);\n\t},\n\n\t_getScaleOrigin: function () {\n\t\tvar centerOffset = this._centerOffset.subtract(this._delta).divideBy(this._scale);\n\t\treturn this._startCenter.add(centerOffset);\n\t}\n});\n\nL.Map.addInitHook('addHandler', 'touchZoom', L.Map.TouchZoom);\n\n\n/*\n * L.Map.Tap is used to enable mobile hacks like quick taps and long hold.\n */\n\nL.Map.mergeOptions({\n\ttap: true,\n\ttapTolerance: 15\n});\n\nL.Map.Tap = L.Handler.extend({\n\taddHooks: function () {\n\t\tL.DomEvent.on(this._map._container, 'touchstart', this._onDown, this);\n\t},\n\n\tremoveHooks: function () {\n\t\tL.DomEvent.off(this._map._container, 'touchstart', this._onDown, this);\n\t},\n\n\t_onDown: function (e) {\n\t\tif (!e.touches) { return; }\n\n\t\tL.DomEvent.preventDefault(e);\n\n\t\tthis._fireClick = true;\n\n\t\t// don't simulate click or track longpress if more than 1 touch\n\t\tif (e.touches.length > 1) {\n\t\t\tthis._fireClick = false;\n\t\t\tclearTimeout(this._holdTimeout);\n\t\t\treturn;\n\t\t}\n\n\t\tvar first = e.touches[0],\n\t\t    el = first.target;\n\n\t\tthis._startPos = this._newPos = new L.Point(first.clientX, first.clientY);\n\n\t\t// if touching a link, highlight it\n\t\tif (el.tagName && el.tagName.toLowerCase() === 'a') {\n\t\t\tL.DomUtil.addClass(el, 'leaflet-active');\n\t\t}\n\n\t\t// simulate long hold but setting a timeout\n\t\tthis._holdTimeout = setTimeout(L.bind(function () {\n\t\t\tif (this._isTapValid()) {\n\t\t\t\tthis._fireClick = false;\n\t\t\t\tthis._onUp();\n\t\t\t\tthis._simulateEvent('contextmenu', first);\n\t\t\t}\n\t\t}, this), 1000);\n\n\t\tL.DomEvent\n\t\t\t.on(document, 'touchmove', this._onMove, this)\n\t\t\t.on(document, 'touchend', this._onUp, this);\n\t},\n\n\t_onUp: function (e) {\n\t\tclearTimeout(this._holdTimeout);\n\n\t\tL.DomEvent\n\t\t\t.off(document, 'touchmove', this._onMove, this)\n\t\t\t.off(document, 'touchend', this._onUp, this);\n\n\t\tif (this._fireClick && e && e.changedTouches) {\n\n\t\t\tvar first = e.changedTouches[0],\n\t\t\t    el = first.target;\n\n\t\t\tif (el && el.tagName && el.tagName.toLowerCase() === 'a') {\n\t\t\t\tL.DomUtil.removeClass(el, 'leaflet-active');\n\t\t\t}\n\n\t\t\t// simulate click if the touch didn't move too much\n\t\t\tif (this._isTapValid()) {\n\t\t\t\tthis._simulateEvent('click', first);\n\t\t\t}\n\t\t}\n\t},\n\n\t_isTapValid: function () {\n\t\treturn this._newPos.distanceTo(this._startPos) <= this._map.options.tapTolerance;\n\t},\n\n\t_onMove: function (e) {\n\t\tvar first = e.touches[0];\n\t\tthis._newPos = new L.Point(first.clientX, first.clientY);\n\t},\n\n\t_simulateEvent: function (type, e) {\n\t\tvar simulatedEvent = document.createEvent('MouseEvents');\n\n\t\tsimulatedEvent._simulated = true;\n\t\te.target._simulatedClick = true;\n\n\t\tsimulatedEvent.initMouseEvent(\n\t\t        type, true, true, window, 1,\n\t\t        e.screenX, e.screenY,\n\t\t        e.clientX, e.clientY,\n\t\t        false, false, false, false, 0, null);\n\n\t\te.target.dispatchEvent(simulatedEvent);\n\t}\n});\n\nif (L.Browser.touch && !L.Browser.pointer) {\n\tL.Map.addInitHook('addHandler', 'tap', L.Map.Tap);\n}\n\n\n/*\n * L.Handler.ShiftDragZoom is used to add shift-drag zoom interaction to the map\n  * (zoom to a selected bounding box), enabled by default.\n */\n\nL.Map.mergeOptions({\n\tboxZoom: true\n});\n\nL.Map.BoxZoom = L.Handler.extend({\n\tinitialize: function (map) {\n\t\tthis._map = map;\n\t\tthis._container = map._container;\n\t\tthis._pane = map._panes.overlayPane;\n\t\tthis._moved = false;\n\t},\n\n\taddHooks: function () {\n\t\tL.DomEvent.on(this._container, 'mousedown', this._onMouseDown, this);\n\t},\n\n\tremoveHooks: function () {\n\t\tL.DomEvent.off(this._container, 'mousedown', this._onMouseDown);\n\t\tthis._moved = false;\n\t},\n\n\tmoved: function () {\n\t\treturn this._moved;\n\t},\n\n\t_onMouseDown: function (e) {\n\t\tthis._moved = false;\n\n\t\tif (!e.shiftKey || ((e.which !== 1) && (e.button !== 1))) { return false; }\n\n\t\tL.DomUtil.disableTextSelection();\n\t\tL.DomUtil.disableImageDrag();\n\n\t\tthis._startLayerPoint = this._map.mouseEventToLayerPoint(e);\n\n\t\tL.DomEvent\n\t\t    .on(document, 'mousemove', this._onMouseMove, this)\n\t\t    .on(document, 'mouseup', this._onMouseUp, this)\n\t\t    .on(document, 'keydown', this._onKeyDown, this);\n\t},\n\n\t_onMouseMove: function (e) {\n\t\tif (!this._moved) {\n\t\t\tthis._box = L.DomUtil.create('div', 'leaflet-zoom-box', this._pane);\n\t\t\tL.DomUtil.setPosition(this._box, this._startLayerPoint);\n\n\t\t\t//TODO refactor: move cursor to styles\n\t\t\tthis._container.style.cursor = 'crosshair';\n\t\t\tthis._map.fire('boxzoomstart');\n\t\t}\n\n\t\tvar startPoint = this._startLayerPoint,\n\t\t    box = this._box,\n\n\t\t    layerPoint = this._map.mouseEventToLayerPoint(e),\n\t\t    offset = layerPoint.subtract(startPoint),\n\n\t\t    newPos = new L.Point(\n\t\t        Math.min(layerPoint.x, startPoint.x),\n\t\t        Math.min(layerPoint.y, startPoint.y));\n\n\t\tL.DomUtil.setPosition(box, newPos);\n\n\t\tthis._moved = true;\n\n\t\t// TODO refactor: remove hardcoded 4 pixels\n\t\tbox.style.width  = (Math.max(0, Math.abs(offset.x) - 4)) + 'px';\n\t\tbox.style.height = (Math.max(0, Math.abs(offset.y) - 4)) + 'px';\n\t},\n\n\t_finish: function () {\n\t\tif (this._moved) {\n\t\t\tthis._pane.removeChild(this._box);\n\t\t\tthis._container.style.cursor = '';\n\t\t}\n\n\t\tL.DomUtil.enableTextSelection();\n\t\tL.DomUtil.enableImageDrag();\n\n\t\tL.DomEvent\n\t\t    .off(document, 'mousemove', this._onMouseMove)\n\t\t    .off(document, 'mouseup', this._onMouseUp)\n\t\t    .off(document, 'keydown', this._onKeyDown);\n\t},\n\n\t_onMouseUp: function (e) {\n\n\t\tthis._finish();\n\n\t\tvar map = this._map,\n\t\t    layerPoint = map.mouseEventToLayerPoint(e);\n\n\t\tif (this._startLayerPoint.equals(layerPoint)) { return; }\n\n\t\tvar bounds = new L.LatLngBounds(\n\t\t        map.layerPointToLatLng(this._startLayerPoint),\n\t\t        map.layerPointToLatLng(layerPoint));\n\n\t\tmap.fitBounds(bounds);\n\n\t\tmap.fire('boxzoomend', {\n\t\t\tboxZoomBounds: bounds\n\t\t});\n\t},\n\n\t_onKeyDown: function (e) {\n\t\tif (e.keyCode === 27) {\n\t\t\tthis._finish();\n\t\t}\n\t}\n});\n\nL.Map.addInitHook('addHandler', 'boxZoom', L.Map.BoxZoom);\n\n\n/*\n * L.Map.Keyboard is handling keyboard interaction with the map, enabled by default.\n */\n\nL.Map.mergeOptions({\n\tkeyboard: true,\n\tkeyboardPanOffset: 80,\n\tkeyboardZoomOffset: 1\n});\n\nL.Map.Keyboard = L.Handler.extend({\n\n\tkeyCodes: {\n\t\tleft:    [37],\n\t\tright:   [39],\n\t\tdown:    [40],\n\t\tup:      [38],\n\t\tzoomIn:  [187, 107, 61, 171],\n\t\tzoomOut: [189, 109, 173]\n\t},\n\n\tinitialize: function (map) {\n\t\tthis._map = map;\n\n\t\tthis._setPanOffset(map.options.keyboardPanOffset);\n\t\tthis._setZoomOffset(map.options.keyboardZoomOffset);\n\t},\n\n\taddHooks: function () {\n\t\tvar container = this._map._container;\n\n\t\t// make the container focusable by tabbing\n\t\tif (container.tabIndex === -1) {\n\t\t\tcontainer.tabIndex = '0';\n\t\t}\n\n\t\tL.DomEvent\n\t\t    .on(container, 'focus', this._onFocus, this)\n\t\t    .on(container, 'blur', this._onBlur, this)\n\t\t    .on(container, 'mousedown', this._onMouseDown, this);\n\n\t\tthis._map\n\t\t    .on('focus', this._addHooks, this)\n\t\t    .on('blur', this._removeHooks, this);\n\t},\n\n\tremoveHooks: function () {\n\t\tthis._removeHooks();\n\n\t\tvar container = this._map._container;\n\n\t\tL.DomEvent\n\t\t    .off(container, 'focus', this._onFocus, this)\n\t\t    .off(container, 'blur', this._onBlur, this)\n\t\t    .off(container, 'mousedown', this._onMouseDown, this);\n\n\t\tthis._map\n\t\t    .off('focus', this._addHooks, this)\n\t\t    .off('blur', this._removeHooks, this);\n\t},\n\n\t_onMouseDown: function () {\n\t\tif (this._focused) { return; }\n\n\t\tvar body = document.body,\n\t\t    docEl = document.documentElement,\n\t\t    top = body.scrollTop || docEl.scrollTop,\n\t\t    left = body.scrollLeft || docEl.scrollLeft;\n\n\t\tthis._map._container.focus();\n\n\t\twindow.scrollTo(left, top);\n\t},\n\n\t_onFocus: function () {\n\t\tthis._focused = true;\n\t\tthis._map.fire('focus');\n\t},\n\n\t_onBlur: function () {\n\t\tthis._focused = false;\n\t\tthis._map.fire('blur');\n\t},\n\n\t_setPanOffset: function (pan) {\n\t\tvar keys = this._panKeys = {},\n\t\t    codes = this.keyCodes,\n\t\t    i, len;\n\n\t\tfor (i = 0, len = codes.left.length; i < len; i++) {\n\t\t\tkeys[codes.left[i]] = [-1 * pan, 0];\n\t\t}\n\t\tfor (i = 0, len = codes.right.length; i < len; i++) {\n\t\t\tkeys[codes.right[i]] = [pan, 0];\n\t\t}\n\t\tfor (i = 0, len = codes.down.length; i < len; i++) {\n\t\t\tkeys[codes.down[i]] = [0, pan];\n\t\t}\n\t\tfor (i = 0, len = codes.up.length; i < len; i++) {\n\t\t\tkeys[codes.up[i]] = [0, -1 * pan];\n\t\t}\n\t},\n\n\t_setZoomOffset: function (zoom) {\n\t\tvar keys = this._zoomKeys = {},\n\t\t    codes = this.keyCodes,\n\t\t    i, len;\n\n\t\tfor (i = 0, len = codes.zoomIn.length; i < len; i++) {\n\t\t\tkeys[codes.zoomIn[i]] = zoom;\n\t\t}\n\t\tfor (i = 0, len = codes.zoomOut.length; i < len; i++) {\n\t\t\tkeys[codes.zoomOut[i]] = -zoom;\n\t\t}\n\t},\n\n\t_addHooks: function () {\n\t\tL.DomEvent.on(document, 'keydown', this._onKeyDown, this);\n\t},\n\n\t_removeHooks: function () {\n\t\tL.DomEvent.off(document, 'keydown', this._onKeyDown, this);\n\t},\n\n\t_onKeyDown: function (e) {\n\t\tvar key = e.keyCode,\n\t\t    map = this._map;\n\n\t\tif (key in this._panKeys) {\n\n\t\t\tif (map._panAnim && map._panAnim._inProgress) { return; }\n\n\t\t\tmap.panBy(this._panKeys[key]);\n\n\t\t\tif (map.options.maxBounds) {\n\t\t\t\tmap.panInsideBounds(map.options.maxBounds);\n\t\t\t}\n\n\t\t} else if (key in this._zoomKeys) {\n\t\t\tmap.setZoom(map.getZoom() + this._zoomKeys[key]);\n\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\n\t\tL.DomEvent.stop(e);\n\t}\n});\n\nL.Map.addInitHook('addHandler', 'keyboard', L.Map.Keyboard);\n\n\n/*\n * L.Handler.MarkerDrag is used internally by L.Marker to make the markers draggable.\n */\n\nL.Handler.MarkerDrag = L.Handler.extend({\n\tinitialize: function (marker) {\n\t\tthis._marker = marker;\n\t},\n\n\taddHooks: function () {\n\t\tvar icon = this._marker._icon;\n\t\tif (!this._draggable) {\n\t\t\tthis._draggable = new L.Draggable(icon, icon);\n\t\t}\n\n\t\tthis._draggable\n\t\t\t.on('dragstart', this._onDragStart, this)\n\t\t\t.on('drag', this._onDrag, this)\n\t\t\t.on('dragend', this._onDragEnd, this);\n\t\tthis._draggable.enable();\n\t\tL.DomUtil.addClass(this._marker._icon, 'leaflet-marker-draggable');\n\t},\n\n\tremoveHooks: function () {\n\t\tthis._draggable\n\t\t\t.off('dragstart', this._onDragStart, this)\n\t\t\t.off('drag', this._onDrag, this)\n\t\t\t.off('dragend', this._onDragEnd, this);\n\n\t\tthis._draggable.disable();\n\t\tL.DomUtil.removeClass(this._marker._icon, 'leaflet-marker-draggable');\n\t},\n\n\tmoved: function () {\n\t\treturn this._draggable && this._draggable._moved;\n\t},\n\n\t_onDragStart: function () {\n\t\tthis._marker\n\t\t    .closePopup()\n\t\t    .fire('movestart')\n\t\t    .fire('dragstart');\n\t},\n\n\t_onDrag: function () {\n\t\tvar marker = this._marker,\n\t\t    shadow = marker._shadow,\n\t\t    iconPos = L.DomUtil.getPosition(marker._icon),\n\t\t    latlng = marker._map.layerPointToLatLng(iconPos);\n\n\t\t// update shadow position\n\t\tif (shadow) {\n\t\t\tL.DomUtil.setPosition(shadow, iconPos);\n\t\t}\n\n\t\tmarker._latlng = latlng;\n\n\t\tmarker\n\t\t    .fire('move', {latlng: latlng})\n\t\t    .fire('drag');\n\t},\n\n\t_onDragEnd: function (e) {\n\t\tthis._marker\n\t\t    .fire('moveend')\n\t\t    .fire('dragend', e);\n\t}\n});\n\n\n/*\r\n * L.Control is a base class for implementing map controls. Handles positioning.\r\n * All other controls extend from this class.\r\n */\r\n\r\nL.Control = L.Class.extend({\r\n\toptions: {\r\n\t\tposition: 'topright'\r\n\t},\r\n\r\n\tinitialize: function (options) {\r\n\t\tL.setOptions(this, options);\r\n\t},\r\n\r\n\tgetPosition: function () {\r\n\t\treturn this.options.position;\r\n\t},\r\n\r\n\tsetPosition: function (position) {\r\n\t\tvar map = this._map;\r\n\r\n\t\tif (map) {\r\n\t\t\tmap.removeControl(this);\r\n\t\t}\r\n\r\n\t\tthis.options.position = position;\r\n\r\n\t\tif (map) {\r\n\t\t\tmap.addControl(this);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tgetContainer: function () {\r\n\t\treturn this._container;\r\n\t},\r\n\r\n\taddTo: function (map) {\r\n\t\tthis._map = map;\r\n\r\n\t\tvar container = this._container = this.onAdd(map),\r\n\t\t    pos = this.getPosition(),\r\n\t\t    corner = map._controlCorners[pos];\r\n\r\n\t\tL.DomUtil.addClass(container, 'leaflet-control');\r\n\r\n\t\tif (pos.indexOf('bottom') !== -1) {\r\n\t\t\tcorner.insertBefore(container, corner.firstChild);\r\n\t\t} else {\r\n\t\t\tcorner.appendChild(container);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tremoveFrom: function (map) {\r\n\t\tvar pos = this.getPosition(),\r\n\t\t    corner = map._controlCorners[pos];\r\n\r\n\t\tcorner.removeChild(this._container);\r\n\t\tthis._map = null;\r\n\r\n\t\tif (this.onRemove) {\r\n\t\t\tthis.onRemove(map);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_refocusOnMap: function () {\r\n\t\tif (this._map) {\r\n\t\t\tthis._map.getContainer().focus();\r\n\t\t}\r\n\t}\r\n});\r\n\r\nL.control = function (options) {\r\n\treturn new L.Control(options);\r\n};\r\n\r\n\r\n// adds control-related methods to L.Map\r\n\r\nL.Map.include({\r\n\taddControl: function (control) {\r\n\t\tcontrol.addTo(this);\r\n\t\treturn this;\r\n\t},\r\n\r\n\tremoveControl: function (control) {\r\n\t\tcontrol.removeFrom(this);\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_initControlPos: function () {\r\n\t\tvar corners = this._controlCorners = {},\r\n\t\t    l = 'leaflet-',\r\n\t\t    container = this._controlContainer =\r\n\t\t            L.DomUtil.create('div', l + 'control-container', this._container);\r\n\r\n\t\tfunction createCorner(vSide, hSide) {\r\n\t\t\tvar className = l + vSide + ' ' + l + hSide;\r\n\r\n\t\t\tcorners[vSide + hSide] = L.DomUtil.create('div', className, container);\r\n\t\t}\r\n\r\n\t\tcreateCorner('top', 'left');\r\n\t\tcreateCorner('top', 'right');\r\n\t\tcreateCorner('bottom', 'left');\r\n\t\tcreateCorner('bottom', 'right');\r\n\t},\r\n\r\n\t_clearControlPos: function () {\r\n\t\tthis._container.removeChild(this._controlContainer);\r\n\t}\r\n});\r\n\n\n/*\r\n * L.Control.Zoom is used for the default zoom buttons on the map.\r\n */\r\n\r\nL.Control.Zoom = L.Control.extend({\r\n\toptions: {\r\n\t\tposition: 'topleft',\r\n\t\tzoomInText: '+',\r\n\t\tzoomInTitle: 'Zoom in',\r\n\t\tzoomOutText: '-',\r\n\t\tzoomOutTitle: 'Zoom out'\r\n\t},\r\n\r\n\tonAdd: function (map) {\r\n\t\tvar zoomName = 'leaflet-control-zoom',\r\n\t\t    container = L.DomUtil.create('div', zoomName + ' leaflet-bar');\r\n\r\n\t\tthis._map = map;\r\n\r\n\t\tthis._zoomInButton  = this._createButton(\r\n\t\t        this.options.zoomInText, this.options.zoomInTitle,\r\n\t\t        zoomName + '-in',  container, this._zoomIn,  this);\r\n\t\tthis._zoomOutButton = this._createButton(\r\n\t\t        this.options.zoomOutText, this.options.zoomOutTitle,\r\n\t\t        zoomName + '-out', container, this._zoomOut, this);\r\n\r\n\t\tthis._updateDisabled();\r\n\t\tmap.on('zoomend zoomlevelschange', this._updateDisabled, this);\r\n\r\n\t\treturn container;\r\n\t},\r\n\r\n\tonRemove: function (map) {\r\n\t\tmap.off('zoomend zoomlevelschange', this._updateDisabled, this);\r\n\t},\r\n\r\n\t_zoomIn: function (e) {\r\n\t\tthis._map.zoomIn(e.shiftKey ? 3 : 1);\r\n\t},\r\n\r\n\t_zoomOut: function (e) {\r\n\t\tthis._map.zoomOut(e.shiftKey ? 3 : 1);\r\n\t},\r\n\r\n\t_createButton: function (html, title, className, container, fn, context) {\r\n\t\tvar link = L.DomUtil.create('a', className, container);\r\n\t\tlink.innerHTML = html;\r\n\t\tlink.href = '#';\r\n\t\tlink.title = title;\r\n\r\n\t\tvar stop = L.DomEvent.stopPropagation;\r\n\r\n\t\tL.DomEvent\r\n\t\t    .on(link, 'click', stop)\r\n\t\t    .on(link, 'mousedown', stop)\r\n\t\t    .on(link, 'dblclick', stop)\r\n\t\t    .on(link, 'click', L.DomEvent.preventDefault)\r\n\t\t    .on(link, 'click', fn, context)\r\n\t\t    .on(link, 'click', this._refocusOnMap, context);\r\n\r\n\t\treturn link;\r\n\t},\r\n\r\n\t_updateDisabled: function () {\r\n\t\tvar map = this._map,\r\n\t\t\tclassName = 'leaflet-disabled';\r\n\r\n\t\tL.DomUtil.removeClass(this._zoomInButton, className);\r\n\t\tL.DomUtil.removeClass(this._zoomOutButton, className);\r\n\r\n\t\tif (map._zoom === map.getMinZoom()) {\r\n\t\t\tL.DomUtil.addClass(this._zoomOutButton, className);\r\n\t\t}\r\n\t\tif (map._zoom === map.getMaxZoom()) {\r\n\t\t\tL.DomUtil.addClass(this._zoomInButton, className);\r\n\t\t}\r\n\t}\r\n});\r\n\r\nL.Map.mergeOptions({\r\n\tzoomControl: true\r\n});\r\n\r\nL.Map.addInitHook(function () {\r\n\tif (this.options.zoomControl) {\r\n\t\tthis.zoomControl = new L.Control.Zoom();\r\n\t\tthis.addControl(this.zoomControl);\r\n\t}\r\n});\r\n\r\nL.control.zoom = function (options) {\r\n\treturn new L.Control.Zoom(options);\r\n};\r\n\r\n\n\n/*\r\n * L.Control.Attribution is used for displaying attribution on the map (added by default).\r\n */\r\n\r\nL.Control.Attribution = L.Control.extend({\r\n\toptions: {\r\n\t\tposition: 'bottomright',\r\n\t\tprefix: '<a href=\"http://leafletjs.com\" title=\"A JS library for interactive maps\">Leaflet</a>'\r\n\t},\r\n\r\n\tinitialize: function (options) {\r\n\t\tL.setOptions(this, options);\r\n\r\n\t\tthis._attributions = {};\r\n\t},\r\n\r\n\tonAdd: function (map) {\r\n\t\tthis._container = L.DomUtil.create('div', 'leaflet-control-attribution');\r\n\t\tL.DomEvent.disableClickPropagation(this._container);\r\n\r\n\t\tfor (var i in map._layers) {\r\n\t\t\tif (map._layers[i].getAttribution) {\r\n\t\t\t\tthis.addAttribution(map._layers[i].getAttribution());\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tmap\r\n\t\t    .on('layeradd', this._onLayerAdd, this)\r\n\t\t    .on('layerremove', this._onLayerRemove, this);\r\n\r\n\t\tthis._update();\r\n\r\n\t\treturn this._container;\r\n\t},\r\n\r\n\tonRemove: function (map) {\r\n\t\tmap\r\n\t\t    .off('layeradd', this._onLayerAdd)\r\n\t\t    .off('layerremove', this._onLayerRemove);\r\n\r\n\t},\r\n\r\n\tsetPrefix: function (prefix) {\r\n\t\tthis.options.prefix = prefix;\r\n\t\tthis._update();\r\n\t\treturn this;\r\n\t},\r\n\r\n\taddAttribution: function (text) {\r\n\t\tif (!text) { return; }\r\n\r\n\t\tif (!this._attributions[text]) {\r\n\t\t\tthis._attributions[text] = 0;\r\n\t\t}\r\n\t\tthis._attributions[text]++;\r\n\r\n\t\tthis._update();\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tremoveAttribution: function (text) {\r\n\t\tif (!text) { return; }\r\n\r\n\t\tif (this._attributions[text]) {\r\n\t\t\tthis._attributions[text]--;\r\n\t\t\tthis._update();\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_update: function () {\r\n\t\tif (!this._map) { return; }\r\n\r\n\t\tvar attribs = [];\r\n\r\n\t\tfor (var i in this._attributions) {\r\n\t\t\tif (this._attributions[i]) {\r\n\t\t\t\tattribs.push(i);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar prefixAndAttribs = [];\r\n\r\n\t\tif (this.options.prefix) {\r\n\t\t\tprefixAndAttribs.push(this.options.prefix);\r\n\t\t}\r\n\t\tif (attribs.length) {\r\n\t\t\tprefixAndAttribs.push(attribs.join(', '));\r\n\t\t}\r\n\r\n\t\tthis._container.innerHTML = prefixAndAttribs.join(' | ');\r\n\t},\r\n\r\n\t_onLayerAdd: function (e) {\r\n\t\tif (e.layer.getAttribution) {\r\n\t\t\tthis.addAttribution(e.layer.getAttribution());\r\n\t\t}\r\n\t},\r\n\r\n\t_onLayerRemove: function (e) {\r\n\t\tif (e.layer.getAttribution) {\r\n\t\t\tthis.removeAttribution(e.layer.getAttribution());\r\n\t\t}\r\n\t}\r\n});\r\n\r\nL.Map.mergeOptions({\r\n\tattributionControl: true\r\n});\r\n\r\nL.Map.addInitHook(function () {\r\n\tif (this.options.attributionControl) {\r\n\t\tthis.attributionControl = (new L.Control.Attribution()).addTo(this);\r\n\t}\r\n});\r\n\r\nL.control.attribution = function (options) {\r\n\treturn new L.Control.Attribution(options);\r\n};\r\n\n\n/*\n * L.Control.Scale is used for displaying metric/imperial scale on the map.\n */\n\nL.Control.Scale = L.Control.extend({\n\toptions: {\n\t\tposition: 'bottomleft',\n\t\tmaxWidth: 100,\n\t\tmetric: true,\n\t\timperial: true,\n\t\tupdateWhenIdle: false\n\t},\n\n\tonAdd: function (map) {\n\t\tthis._map = map;\n\n\t\tvar className = 'leaflet-control-scale',\n\t\t    container = L.DomUtil.create('div', className),\n\t\t    options = this.options;\n\n\t\tthis._addScales(options, className, container);\n\n\t\tmap.on(options.updateWhenIdle ? 'moveend' : 'move', this._update, this);\n\t\tmap.whenReady(this._update, this);\n\n\t\treturn container;\n\t},\n\n\tonRemove: function (map) {\n\t\tmap.off(this.options.updateWhenIdle ? 'moveend' : 'move', this._update, this);\n\t},\n\n\t_addScales: function (options, className, container) {\n\t\tif (options.metric) {\n\t\t\tthis._mScale = L.DomUtil.create('div', className + '-line', container);\n\t\t}\n\t\tif (options.imperial) {\n\t\t\tthis._iScale = L.DomUtil.create('div', className + '-line', container);\n\t\t}\n\t},\n\n\t_update: function () {\n\t\tvar bounds = this._map.getBounds(),\n\t\t    centerLat = bounds.getCenter().lat,\n\t\t    halfWorldMeters = 6378137 * Math.PI * Math.cos(centerLat * Math.PI / 180),\n\t\t    dist = halfWorldMeters * (bounds.getNorthEast().lng - bounds.getSouthWest().lng) / 180,\n\n\t\t    size = this._map.getSize(),\n\t\t    options = this.options,\n\t\t    maxMeters = 0;\n\n\t\tif (size.x > 0) {\n\t\t\tmaxMeters = dist * (options.maxWidth / size.x);\n\t\t}\n\n\t\tthis._updateScales(options, maxMeters);\n\t},\n\n\t_updateScales: function (options, maxMeters) {\n\t\tif (options.metric && maxMeters) {\n\t\t\tthis._updateMetric(maxMeters);\n\t\t}\n\n\t\tif (options.imperial && maxMeters) {\n\t\t\tthis._updateImperial(maxMeters);\n\t\t}\n\t},\n\n\t_updateMetric: function (maxMeters) {\n\t\tvar meters = this._getRoundNum(maxMeters);\n\n\t\tthis._mScale.style.width = this._getScaleWidth(meters / maxMeters) + 'px';\n\t\tthis._mScale.innerHTML = meters < 1000 ? meters + ' m' : (meters / 1000) + ' km';\n\t},\n\n\t_updateImperial: function (maxMeters) {\n\t\tvar maxFeet = maxMeters * 3.2808399,\n\t\t    scale = this._iScale,\n\t\t    maxMiles, miles, feet;\n\n\t\tif (maxFeet > 5280) {\n\t\t\tmaxMiles = maxFeet / 5280;\n\t\t\tmiles = this._getRoundNum(maxMiles);\n\n\t\t\tscale.style.width = this._getScaleWidth(miles / maxMiles) + 'px';\n\t\t\tscale.innerHTML = miles + ' mi';\n\n\t\t} else {\n\t\t\tfeet = this._getRoundNum(maxFeet);\n\n\t\t\tscale.style.width = this._getScaleWidth(feet / maxFeet) + 'px';\n\t\t\tscale.innerHTML = feet + ' ft';\n\t\t}\n\t},\n\n\t_getScaleWidth: function (ratio) {\n\t\treturn Math.round(this.options.maxWidth * ratio) - 10;\n\t},\n\n\t_getRoundNum: function (num) {\n\t\tvar pow10 = Math.pow(10, (Math.floor(num) + '').length - 1),\n\t\t    d = num / pow10;\n\n\t\td = d >= 10 ? 10 : d >= 5 ? 5 : d >= 3 ? 3 : d >= 2 ? 2 : 1;\n\n\t\treturn pow10 * d;\n\t}\n});\n\nL.control.scale = function (options) {\n\treturn new L.Control.Scale(options);\n};\n\n\n/*\r\n * L.Control.Layers is a control to allow users to switch between different layers on the map.\r\n */\r\n\r\nL.Control.Layers = L.Control.extend({\r\n\toptions: {\r\n\t\tcollapsed: true,\r\n\t\tposition: 'topright',\r\n\t\tautoZIndex: true\r\n\t},\r\n\r\n\tinitialize: function (baseLayers, overlays, options) {\r\n\t\tL.setOptions(this, options);\r\n\r\n\t\tthis._layers = {};\r\n\t\tthis._lastZIndex = 0;\r\n\t\tthis._handlingClick = false;\r\n\r\n\t\tfor (var i in baseLayers) {\r\n\t\t\tthis._addLayer(baseLayers[i], i);\r\n\t\t}\r\n\r\n\t\tfor (i in overlays) {\r\n\t\t\tthis._addLayer(overlays[i], i, true);\r\n\t\t}\r\n\t},\r\n\r\n\tonAdd: function (map) {\r\n\t\tthis._initLayout();\r\n\t\tthis._update();\r\n\r\n\t\tmap\r\n\t\t    .on('layeradd', this._onLayerChange, this)\r\n\t\t    .on('layerremove', this._onLayerChange, this);\r\n\r\n\t\treturn this._container;\r\n\t},\r\n\r\n\tonRemove: function (map) {\r\n\t\tmap\r\n\t\t    .off('layeradd', this._onLayerChange, this)\r\n\t\t    .off('layerremove', this._onLayerChange, this);\r\n\t},\r\n\r\n\taddBaseLayer: function (layer, name) {\r\n\t\tthis._addLayer(layer, name);\r\n\t\tthis._update();\r\n\t\treturn this;\r\n\t},\r\n\r\n\taddOverlay: function (layer, name) {\r\n\t\tthis._addLayer(layer, name, true);\r\n\t\tthis._update();\r\n\t\treturn this;\r\n\t},\r\n\r\n\tremoveLayer: function (layer) {\r\n\t\tvar id = L.stamp(layer);\r\n\t\tdelete this._layers[id];\r\n\t\tthis._update();\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_initLayout: function () {\r\n\t\tvar className = 'leaflet-control-layers',\r\n\t\t    container = this._container = L.DomUtil.create('div', className);\r\n\r\n\t\t//Makes this work on IE10 Touch devices by stopping it from firing a mouseout event when the touch is released\r\n\t\tcontainer.setAttribute('aria-haspopup', true);\r\n\r\n\t\tif (!L.Browser.touch) {\r\n\t\t\tL.DomEvent\r\n\t\t\t\t.disableClickPropagation(container)\r\n\t\t\t\t.disableScrollPropagation(container);\r\n\t\t} else {\r\n\t\t\tL.DomEvent.on(container, 'click', L.DomEvent.stopPropagation);\r\n\t\t}\r\n\r\n\t\tvar form = this._form = L.DomUtil.create('form', className + '-list');\r\n\r\n\t\tif (this.options.collapsed) {\r\n\t\t\tif (!L.Browser.android) {\r\n\t\t\t\tL.DomEvent\r\n\t\t\t\t    .on(container, 'mouseover', this._expand, this)\r\n\t\t\t\t    .on(container, 'mouseout', this._collapse, this);\r\n\t\t\t}\r\n\t\t\tvar link = this._layersLink = L.DomUtil.create('a', className + '-toggle', container);\r\n\t\t\tlink.href = '#';\r\n\t\t\tlink.title = 'Layers';\r\n\r\n\t\t\tif (L.Browser.touch) {\r\n\t\t\t\tL.DomEvent\r\n\t\t\t\t    .on(link, 'click', L.DomEvent.stop)\r\n\t\t\t\t    .on(link, 'click', this._expand, this);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tL.DomEvent.on(link, 'focus', this._expand, this);\r\n\t\t\t}\r\n\t\t\t//Work around for Firefox android issue https://github.com/Leaflet/Leaflet/issues/2033\r\n\t\t\tL.DomEvent.on(form, 'click', function () {\r\n\t\t\t\tsetTimeout(L.bind(this._onInputClick, this), 0);\r\n\t\t\t}, this);\r\n\r\n\t\t\tthis._map.on('click', this._collapse, this);\r\n\t\t\t// TODO keyboard accessibility\r\n\t\t} else {\r\n\t\t\tthis._expand();\r\n\t\t}\r\n\r\n\t\tthis._baseLayersList = L.DomUtil.create('div', className + '-base', form);\r\n\t\tthis._separator = L.DomUtil.create('div', className + '-separator', form);\r\n\t\tthis._overlaysList = L.DomUtil.create('div', className + '-overlays', form);\r\n\r\n\t\tcontainer.appendChild(form);\r\n\t},\r\n\r\n\t_addLayer: function (layer, name, overlay) {\r\n\t\tvar id = L.stamp(layer);\r\n\r\n\t\tthis._layers[id] = {\r\n\t\t\tlayer: layer,\r\n\t\t\tname: name,\r\n\t\t\toverlay: overlay\r\n\t\t};\r\n\r\n\t\tif (this.options.autoZIndex && layer.setZIndex) {\r\n\t\t\tthis._lastZIndex++;\r\n\t\t\tlayer.setZIndex(this._lastZIndex);\r\n\t\t}\r\n\t},\r\n\r\n\t_update: function () {\r\n\t\tif (!this._container) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis._baseLayersList.innerHTML = '';\r\n\t\tthis._overlaysList.innerHTML = '';\r\n\r\n\t\tvar baseLayersPresent = false,\r\n\t\t    overlaysPresent = false,\r\n\t\t    i, obj;\r\n\r\n\t\tfor (i in this._layers) {\r\n\t\t\tobj = this._layers[i];\r\n\t\t\tthis._addItem(obj);\r\n\t\t\toverlaysPresent = overlaysPresent || obj.overlay;\r\n\t\t\tbaseLayersPresent = baseLayersPresent || !obj.overlay;\r\n\t\t}\r\n\r\n\t\tthis._separator.style.display = overlaysPresent && baseLayersPresent ? '' : 'none';\r\n\t},\r\n\r\n\t_onLayerChange: function (e) {\r\n\t\tvar obj = this._layers[L.stamp(e.layer)];\r\n\r\n\t\tif (!obj) { return; }\r\n\r\n\t\tif (!this._handlingClick) {\r\n\t\t\tthis._update();\r\n\t\t}\r\n\r\n\t\tvar type = obj.overlay ?\r\n\t\t\t(e.type === 'layeradd' ? 'overlayadd' : 'overlayremove') :\r\n\t\t\t(e.type === 'layeradd' ? 'baselayerchange' : null);\r\n\r\n\t\tif (type) {\r\n\t\t\tthis._map.fire(type, obj);\r\n\t\t}\r\n\t},\r\n\r\n\t// IE7 bugs out if you create a radio dynamically, so you have to do it this hacky way (see http://bit.ly/PqYLBe)\r\n\t_createRadioElement: function (name, checked) {\r\n\r\n\t\tvar radioHtml = '<input type=\"radio\" class=\"leaflet-control-layers-selector\" name=\"' + name + '\"';\r\n\t\tif (checked) {\r\n\t\t\tradioHtml += ' checked=\"checked\"';\r\n\t\t}\r\n\t\tradioHtml += '/>';\r\n\r\n\t\tvar radioFragment = document.createElement('div');\r\n\t\tradioFragment.innerHTML = radioHtml;\r\n\r\n\t\treturn radioFragment.firstChild;\r\n\t},\r\n\r\n\t_addItem: function (obj) {\r\n\t\tvar label = document.createElement('label'),\r\n\t\t    input,\r\n\t\t    checked = this._map.hasLayer(obj.layer);\r\n\r\n\t\tif (obj.overlay) {\r\n\t\t\tinput = document.createElement('input');\r\n\t\t\tinput.type = 'checkbox';\r\n\t\t\tinput.className = 'leaflet-control-layers-selector';\r\n\t\t\tinput.defaultChecked = checked;\r\n\t\t} else {\r\n\t\t\tinput = this._createRadioElement('leaflet-base-layers', checked);\r\n\t\t}\r\n\r\n\t\tinput.layerId = L.stamp(obj.layer);\r\n\r\n\t\tL.DomEvent.on(input, 'click', this._onInputClick, this);\r\n\r\n\t\tvar name = document.createElement('span');\r\n\t\tname.innerHTML = ' ' + obj.name;\r\n\r\n\t\tlabel.appendChild(input);\r\n\t\tlabel.appendChild(name);\r\n\r\n\t\tvar container = obj.overlay ? this._overlaysList : this._baseLayersList;\r\n\t\tcontainer.appendChild(label);\r\n\r\n\t\treturn label;\r\n\t},\r\n\r\n\t_onInputClick: function () {\r\n\t\tvar i, input, obj,\r\n\t\t    inputs = this._form.getElementsByTagName('input'),\r\n\t\t    inputsLen = inputs.length;\r\n\r\n\t\tthis._handlingClick = true;\r\n\r\n\t\tfor (i = 0; i < inputsLen; i++) {\r\n\t\t\tinput = inputs[i];\r\n\t\t\tobj = this._layers[input.layerId];\r\n\r\n\t\t\tif (input.checked && !this._map.hasLayer(obj.layer)) {\r\n\t\t\t\tthis._map.addLayer(obj.layer);\r\n\r\n\t\t\t} else if (!input.checked && this._map.hasLayer(obj.layer)) {\r\n\t\t\t\tthis._map.removeLayer(obj.layer);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis._handlingClick = false;\r\n\r\n\t\tthis._refocusOnMap();\r\n\t},\r\n\r\n\t_expand: function () {\r\n\t\tL.DomUtil.addClass(this._container, 'leaflet-control-layers-expanded');\r\n\t},\r\n\r\n\t_collapse: function () {\r\n\t\tthis._container.className = this._container.className.replace(' leaflet-control-layers-expanded', '');\r\n\t}\r\n});\r\n\r\nL.control.layers = function (baseLayers, overlays, options) {\r\n\treturn new L.Control.Layers(baseLayers, overlays, options);\r\n};\r\n\n\n/*\n * L.PosAnimation is used by Leaflet internally for pan animations.\n */\n\nL.PosAnimation = L.Class.extend({\n\tincludes: L.Mixin.Events,\n\n\trun: function (el, newPos, duration, easeLinearity) { // (HTMLElement, Point[, Number, Number])\n\t\tthis.stop();\n\n\t\tthis._el = el;\n\t\tthis._inProgress = true;\n\t\tthis._newPos = newPos;\n\n\t\tthis.fire('start');\n\n\t\tel.style[L.DomUtil.TRANSITION] = 'all ' + (duration || 0.25) +\n\t\t        's cubic-bezier(0,0,' + (easeLinearity || 0.5) + ',1)';\n\n\t\tL.DomEvent.on(el, L.DomUtil.TRANSITION_END, this._onTransitionEnd, this);\n\t\tL.DomUtil.setPosition(el, newPos);\n\n\t\t// toggle reflow, Chrome flickers for some reason if you don't do this\n\t\tL.Util.falseFn(el.offsetWidth);\n\n\t\t// there's no native way to track value updates of transitioned properties, so we imitate this\n\t\tthis._stepTimer = setInterval(L.bind(this._onStep, this), 50);\n\t},\n\n\tstop: function () {\n\t\tif (!this._inProgress) { return; }\n\n\t\t// if we just removed the transition property, the element would jump to its final position,\n\t\t// so we need to make it stay at the current position\n\n\t\tL.DomUtil.setPosition(this._el, this._getPos());\n\t\tthis._onTransitionEnd();\n\t\tL.Util.falseFn(this._el.offsetWidth); // force reflow in case we are about to start a new animation\n\t},\n\n\t_onStep: function () {\n\t\tvar stepPos = this._getPos();\n\t\tif (!stepPos) {\n\t\t\tthis._onTransitionEnd();\n\t\t\treturn;\n\t\t}\n\t\t// jshint camelcase: false\n\t\t// make L.DomUtil.getPosition return intermediate position value during animation\n\t\tthis._el._leaflet_pos = stepPos;\n\n\t\tthis.fire('step');\n\t},\n\n\t// you can't easily get intermediate values of properties animated with CSS3 Transitions,\n\t// we need to parse computed style (in case of transform it returns matrix string)\n\n\t_transformRe: /([-+]?(?:\\d*\\.)?\\d+)\\D*, ([-+]?(?:\\d*\\.)?\\d+)\\D*\\)/,\n\n\t_getPos: function () {\n\t\tvar left, top, matches,\n\t\t    el = this._el,\n\t\t    style = window.getComputedStyle(el);\n\n\t\tif (L.Browser.any3d) {\n\t\t\tmatches = style[L.DomUtil.TRANSFORM].match(this._transformRe);\n\t\t\tif (!matches) { return; }\n\t\t\tleft = parseFloat(matches[1]);\n\t\t\ttop  = parseFloat(matches[2]);\n\t\t} else {\n\t\t\tleft = parseFloat(style.left);\n\t\t\ttop  = parseFloat(style.top);\n\t\t}\n\n\t\treturn new L.Point(left, top, true);\n\t},\n\n\t_onTransitionEnd: function () {\n\t\tL.DomEvent.off(this._el, L.DomUtil.TRANSITION_END, this._onTransitionEnd, this);\n\n\t\tif (!this._inProgress) { return; }\n\t\tthis._inProgress = false;\n\n\t\tthis._el.style[L.DomUtil.TRANSITION] = '';\n\n\t\t// jshint camelcase: false\n\t\t// make sure L.DomUtil.getPosition returns the final position value after animation\n\t\tthis._el._leaflet_pos = this._newPos;\n\n\t\tclearInterval(this._stepTimer);\n\n\t\tthis.fire('step').fire('end');\n\t}\n\n});\n\n\n/*\n * Extends L.Map to handle panning animations.\n */\n\nL.Map.include({\n\n\tsetView: function (center, zoom, options) {\n\n\t\tzoom = zoom === undefined ? this._zoom : this._limitZoom(zoom);\n\t\tcenter = this._limitCenter(L.latLng(center), zoom, this.options.maxBounds);\n\t\toptions = options || {};\n\n\t\tif (this._panAnim) {\n\t\t\tthis._panAnim.stop();\n\t\t}\n\n\t\tif (this._loaded && !options.reset && options !== true) {\n\n\t\t\tif (options.animate !== undefined) {\n\t\t\t\toptions.zoom = L.extend({animate: options.animate}, options.zoom);\n\t\t\t\toptions.pan = L.extend({animate: options.animate}, options.pan);\n\t\t\t}\n\n\t\t\t// try animating pan or zoom\n\t\t\tvar animated = (this._zoom !== zoom) ?\n\t\t\t\tthis._tryAnimatedZoom && this._tryAnimatedZoom(center, zoom, options.zoom) :\n\t\t\t\tthis._tryAnimatedPan(center, options.pan);\n\n\t\t\tif (animated) {\n\t\t\t\t// prevent resize handler call, the view will refresh after animation anyway\n\t\t\t\tclearTimeout(this._sizeTimer);\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\n\t\t// animation didn't start, just reset the map view\n\t\tthis._resetView(center, zoom);\n\n\t\treturn this;\n\t},\n\n\tpanBy: function (offset, options) {\n\t\toffset = L.point(offset).round();\n\t\toptions = options || {};\n\n\t\tif (!offset.x && !offset.y) {\n\t\t\treturn this;\n\t\t}\n\n\t\tif (!this._panAnim) {\n\t\t\tthis._panAnim = new L.PosAnimation();\n\n\t\t\tthis._panAnim.on({\n\t\t\t\t'step': this._onPanTransitionStep,\n\t\t\t\t'end': this._onPanTransitionEnd\n\t\t\t}, this);\n\t\t}\n\n\t\t// don't fire movestart if animating inertia\n\t\tif (!options.noMoveStart) {\n\t\t\tthis.fire('movestart');\n\t\t}\n\n\t\t// animate pan unless animate: false specified\n\t\tif (options.animate !== false) {\n\t\t\tL.DomUtil.addClass(this._mapPane, 'leaflet-pan-anim');\n\n\t\t\tvar newPos = this._getMapPanePos().subtract(offset);\n\t\t\tthis._panAnim.run(this._mapPane, newPos, options.duration || 0.25, options.easeLinearity);\n\t\t} else {\n\t\t\tthis._rawPanBy(offset);\n\t\t\tthis.fire('move').fire('moveend');\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_onPanTransitionStep: function () {\n\t\tthis.fire('move');\n\t},\n\n\t_onPanTransitionEnd: function () {\n\t\tL.DomUtil.removeClass(this._mapPane, 'leaflet-pan-anim');\n\t\tthis.fire('moveend');\n\t},\n\n\t_tryAnimatedPan: function (center, options) {\n\t\t// difference between the new and current centers in pixels\n\t\tvar offset = this._getCenterOffset(center)._floor();\n\n\t\t// don't animate too far unless animate: true specified in options\n\t\tif ((options && options.animate) !== true && !this.getSize().contains(offset)) { return false; }\n\n\t\tthis.panBy(offset, options);\n\n\t\treturn true;\n\t}\n});\n\n\n/*\n * L.PosAnimation fallback implementation that powers Leaflet pan animations\n * in browsers that don't support CSS3 Transitions.\n */\n\nL.PosAnimation = L.DomUtil.TRANSITION ? L.PosAnimation : L.PosAnimation.extend({\n\n\trun: function (el, newPos, duration, easeLinearity) { // (HTMLElement, Point[, Number, Number])\n\t\tthis.stop();\n\n\t\tthis._el = el;\n\t\tthis._inProgress = true;\n\t\tthis._duration = duration || 0.25;\n\t\tthis._easeOutPower = 1 / Math.max(easeLinearity || 0.5, 0.2);\n\n\t\tthis._startPos = L.DomUtil.getPosition(el);\n\t\tthis._offset = newPos.subtract(this._startPos);\n\t\tthis._startTime = +new Date();\n\n\t\tthis.fire('start');\n\n\t\tthis._animate();\n\t},\n\n\tstop: function () {\n\t\tif (!this._inProgress) { return; }\n\n\t\tthis._step();\n\t\tthis._complete();\n\t},\n\n\t_animate: function () {\n\t\t// animation loop\n\t\tthis._animId = L.Util.requestAnimFrame(this._animate, this);\n\t\tthis._step();\n\t},\n\n\t_step: function () {\n\t\tvar elapsed = (+new Date()) - this._startTime,\n\t\t    duration = this._duration * 1000;\n\n\t\tif (elapsed < duration) {\n\t\t\tthis._runFrame(this._easeOut(elapsed / duration));\n\t\t} else {\n\t\t\tthis._runFrame(1);\n\t\t\tthis._complete();\n\t\t}\n\t},\n\n\t_runFrame: function (progress) {\n\t\tvar pos = this._startPos.add(this._offset.multiplyBy(progress));\n\t\tL.DomUtil.setPosition(this._el, pos);\n\n\t\tthis.fire('step');\n\t},\n\n\t_complete: function () {\n\t\tL.Util.cancelAnimFrame(this._animId);\n\n\t\tthis._inProgress = false;\n\t\tthis.fire('end');\n\t},\n\n\t_easeOut: function (t) {\n\t\treturn 1 - Math.pow(1 - t, this._easeOutPower);\n\t}\n});\n\n\n/*\n * Extends L.Map to handle zoom animations.\n */\n\nL.Map.mergeOptions({\n\tzoomAnimation: true,\n\tzoomAnimationThreshold: 4\n});\n\nif (L.DomUtil.TRANSITION) {\n\n\tL.Map.addInitHook(function () {\n\t\t// don't animate on browsers without hardware-accelerated transitions or old Android/Opera\n\t\tthis._zoomAnimated = this.options.zoomAnimation && L.DomUtil.TRANSITION &&\n\t\t\t\tL.Browser.any3d && !L.Browser.android23 && !L.Browser.mobileOpera;\n\n\t\t// zoom transitions run with the same duration for all layers, so if one of transitionend events\n\t\t// happens after starting zoom animation (propagating to the map pane), we know that it ended globally\n\t\tif (this._zoomAnimated) {\n\t\t\tL.DomEvent.on(this._mapPane, L.DomUtil.TRANSITION_END, this._catchTransitionEnd, this);\n\t\t}\n\t});\n}\n\nL.Map.include(!L.DomUtil.TRANSITION ? {} : {\n\n\t_catchTransitionEnd: function (e) {\n\t\tif (this._animatingZoom && e.propertyName.indexOf('transform') >= 0) {\n\t\t\tthis._onZoomTransitionEnd();\n\t\t}\n\t},\n\n\t_nothingToAnimate: function () {\n\t\treturn !this._container.getElementsByClassName('leaflet-zoom-animated').length;\n\t},\n\n\t_tryAnimatedZoom: function (center, zoom, options) {\n\n\t\tif (this._animatingZoom) { return true; }\n\n\t\toptions = options || {};\n\n\t\t// don't animate if disabled, not supported or zoom difference is too large\n\t\tif (!this._zoomAnimated || options.animate === false || this._nothingToAnimate() ||\n\t\t        Math.abs(zoom - this._zoom) > this.options.zoomAnimationThreshold) { return false; }\n\n\t\t// offset is the pixel coords of the zoom origin relative to the current center\n\t\tvar scale = this.getZoomScale(zoom),\n\t\t    offset = this._getCenterOffset(center)._divideBy(1 - 1 / scale),\n\t\t\torigin = this._getCenterLayerPoint()._add(offset);\n\n\t\t// don't animate if the zoom origin isn't within one screen from the current center, unless forced\n\t\tif (options.animate !== true && !this.getSize().contains(offset)) { return false; }\n\n\t\tthis\n\t\t    .fire('movestart')\n\t\t    .fire('zoomstart');\n\n\t\tthis._animateZoom(center, zoom, origin, scale, null, true);\n\n\t\treturn true;\n\t},\n\n\t_animateZoom: function (center, zoom, origin, scale, delta, backwards, forTouchZoom) {\n\n\t\tif (!forTouchZoom) {\n\t\t\tthis._animatingZoom = true;\n\t\t}\n\n\t\t// put transform transition on all layers with leaflet-zoom-animated class\n\t\tL.DomUtil.addClass(this._mapPane, 'leaflet-zoom-anim');\n\n\t\t// remember what center/zoom to set after animation\n\t\tthis._animateToCenter = center;\n\t\tthis._animateToZoom = zoom;\n\n\t\t// disable any dragging during animation\n\t\tif (L.Draggable) {\n\t\t\tL.Draggable._disabled = true;\n\t\t}\n\n\t\tL.Util.requestAnimFrame(function () {\n\t\t\tthis.fire('zoomanim', {\n\t\t\t\tcenter: center,\n\t\t\t\tzoom: zoom,\n\t\t\t\torigin: origin,\n\t\t\t\tscale: scale,\n\t\t\t\tdelta: delta,\n\t\t\t\tbackwards: backwards\n\t\t\t});\n\t\t\t// horrible hack to work around a Chrome bug https://github.com/Leaflet/Leaflet/issues/3689\n\t\t\tsetTimeout(L.bind(this._onZoomTransitionEnd, this), 250);\n\t\t}, this);\n\t},\n\n\t_onZoomTransitionEnd: function () {\n\t\tif (!this._animatingZoom) { return; }\n\n\t\tthis._animatingZoom = false;\n\n\t\tL.DomUtil.removeClass(this._mapPane, 'leaflet-zoom-anim');\n\n\t\tthis._resetView(this._animateToCenter, this._animateToZoom, true, true);\n\n\t\tif (L.Draggable) {\n\t\t\tL.Draggable._disabled = false;\n\t\t}\n\t}\n});\n\n\n/*\n\tZoom animation logic for L.TileLayer.\n*/\n\nL.TileLayer.include({\n\t_animateZoom: function (e) {\n\t\tif (!this._animating) {\n\t\t\tthis._animating = true;\n\t\t\tthis._prepareBgBuffer();\n\t\t}\n\n\t\tvar bg = this._bgBuffer,\n\t\t    transform = L.DomUtil.TRANSFORM,\n\t\t    initialTransform = e.delta ? L.DomUtil.getTranslateString(e.delta) : bg.style[transform],\n\t\t    scaleStr = L.DomUtil.getScaleString(e.scale, e.origin);\n\n\t\tbg.style[transform] = e.backwards ?\n\t\t\t\tscaleStr + ' ' + initialTransform :\n\t\t\t\tinitialTransform + ' ' + scaleStr;\n\t},\n\n\t_endZoomAnim: function () {\n\t\tvar front = this._tileContainer,\n\t\t    bg = this._bgBuffer;\n\n\t\tfront.style.visibility = '';\n\t\tfront.parentNode.appendChild(front); // Bring to fore\n\n\t\t// force reflow\n\t\tL.Util.falseFn(bg.offsetWidth);\n\n\t\tvar zoom = this._map.getZoom();\n\t\tif (zoom > this.options.maxZoom || zoom < this.options.minZoom) {\n\t\t\tthis._clearBgBuffer();\n\t\t}\n\n\t\tthis._animating = false;\n\t},\n\n\t_clearBgBuffer: function () {\n\t\tvar map = this._map;\n\n\t\tif (map && !map._animatingZoom && !map.touchZoom._zooming) {\n\t\t\tthis._bgBuffer.innerHTML = '';\n\t\t\tthis._bgBuffer.style[L.DomUtil.TRANSFORM] = '';\n\t\t}\n\t},\n\n\t_prepareBgBuffer: function () {\n\n\t\tvar front = this._tileContainer,\n\t\t    bg = this._bgBuffer;\n\n\t\t// if foreground layer doesn't have many tiles but bg layer does,\n\t\t// keep the existing bg layer and just zoom it some more\n\n\t\tvar bgLoaded = this._getLoadedTilesPercentage(bg),\n\t\t    frontLoaded = this._getLoadedTilesPercentage(front);\n\n\t\tif (bg && bgLoaded > 0.5 && frontLoaded < 0.5) {\n\n\t\t\tfront.style.visibility = 'hidden';\n\t\t\tthis._stopLoadingImages(front);\n\t\t\treturn;\n\t\t}\n\n\t\t// prepare the buffer to become the front tile pane\n\t\tbg.style.visibility = 'hidden';\n\t\tbg.style[L.DomUtil.TRANSFORM] = '';\n\n\t\t// switch out the current layer to be the new bg layer (and vice-versa)\n\t\tthis._tileContainer = bg;\n\t\tbg = this._bgBuffer = front;\n\n\t\tthis._stopLoadingImages(bg);\n\n\t\t//prevent bg buffer from clearing right after zoom\n\t\tclearTimeout(this._clearBgBufferTimer);\n\t},\n\n\t_getLoadedTilesPercentage: function (container) {\n\t\tvar tiles = container.getElementsByTagName('img'),\n\t\t    i, len, count = 0;\n\n\t\tfor (i = 0, len = tiles.length; i < len; i++) {\n\t\t\tif (tiles[i].complete) {\n\t\t\t\tcount++;\n\t\t\t}\n\t\t}\n\t\treturn count / len;\n\t},\n\n\t// stops loading all tiles in the background layer\n\t_stopLoadingImages: function (container) {\n\t\tvar tiles = Array.prototype.slice.call(container.getElementsByTagName('img')),\n\t\t    i, len, tile;\n\n\t\tfor (i = 0, len = tiles.length; i < len; i++) {\n\t\t\ttile = tiles[i];\n\n\t\t\tif (!tile.complete) {\n\t\t\t\ttile.onload = L.Util.falseFn;\n\t\t\t\ttile.onerror = L.Util.falseFn;\n\t\t\t\ttile.src = L.Util.emptyImageUrl;\n\n\t\t\t\ttile.parentNode.removeChild(tile);\n\t\t\t}\n\t\t}\n\t}\n});\n\n\n/*\r\n * Provides L.Map with convenient shortcuts for using browser geolocation features.\r\n */\r\n\r\nL.Map.include({\r\n\t_defaultLocateOptions: {\r\n\t\twatch: false,\r\n\t\tsetView: false,\r\n\t\tmaxZoom: Infinity,\r\n\t\ttimeout: 10000,\r\n\t\tmaximumAge: 0,\r\n\t\tenableHighAccuracy: false\r\n\t},\r\n\r\n\tlocate: function (/*Object*/ options) {\r\n\r\n\t\toptions = this._locateOptions = L.extend(this._defaultLocateOptions, options);\r\n\r\n\t\tif (!navigator.geolocation) {\r\n\t\t\tthis._handleGeolocationError({\r\n\t\t\t\tcode: 0,\r\n\t\t\t\tmessage: 'Geolocation not supported.'\r\n\t\t\t});\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tvar onResponse = L.bind(this._handleGeolocationResponse, this),\r\n\t\t\tonError = L.bind(this._handleGeolocationError, this);\r\n\r\n\t\tif (options.watch) {\r\n\t\t\tthis._locationWatchId =\r\n\t\t\t        navigator.geolocation.watchPosition(onResponse, onError, options);\r\n\t\t} else {\r\n\t\t\tnavigator.geolocation.getCurrentPosition(onResponse, onError, options);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\tstopLocate: function () {\r\n\t\tif (navigator.geolocation) {\r\n\t\t\tnavigator.geolocation.clearWatch(this._locationWatchId);\r\n\t\t}\r\n\t\tif (this._locateOptions) {\r\n\t\t\tthis._locateOptions.setView = false;\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_handleGeolocationError: function (error) {\r\n\t\tvar c = error.code,\r\n\t\t    message = error.message ||\r\n\t\t            (c === 1 ? 'permission denied' :\r\n\t\t            (c === 2 ? 'position unavailable' : 'timeout'));\r\n\r\n\t\tif (this._locateOptions.setView && !this._loaded) {\r\n\t\t\tthis.fitWorld();\r\n\t\t}\r\n\r\n\t\tthis.fire('locationerror', {\r\n\t\t\tcode: c,\r\n\t\t\tmessage: 'Geolocation error: ' + message + '.'\r\n\t\t});\r\n\t},\r\n\r\n\t_handleGeolocationResponse: function (pos) {\r\n\t\tvar lat = pos.coords.latitude,\r\n\t\t    lng = pos.coords.longitude,\r\n\t\t    latlng = new L.LatLng(lat, lng),\r\n\r\n\t\t    latAccuracy = 180 * pos.coords.accuracy / 40075017,\r\n\t\t    lngAccuracy = latAccuracy / Math.cos(L.LatLng.DEG_TO_RAD * lat),\r\n\r\n\t\t    bounds = L.latLngBounds(\r\n\t\t            [lat - latAccuracy, lng - lngAccuracy],\r\n\t\t            [lat + latAccuracy, lng + lngAccuracy]),\r\n\r\n\t\t    options = this._locateOptions;\r\n\r\n\t\tif (options.setView) {\r\n\t\t\tvar zoom = Math.min(this.getBoundsZoom(bounds), options.maxZoom);\r\n\t\t\tthis.setView(latlng, zoom);\r\n\t\t}\r\n\r\n\t\tvar data = {\r\n\t\t\tlatlng: latlng,\r\n\t\t\tbounds: bounds,\r\n\t\t\ttimestamp: pos.timestamp\r\n\t\t};\r\n\r\n\t\tfor (var i in pos.coords) {\r\n\t\t\tif (typeof pos.coords[i] === 'number') {\r\n\t\t\t\tdata[i] = pos.coords[i];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.fire('locationfound', data);\r\n\t}\r\n});\r\n\n\n}(window, document));\n\n\n/** WEBPACK FOOTER **\n ** ./~/leaflet/dist/leaflet-src.js\n **/","var global     = require('./$.global')\n  , core       = require('./$.core')\n  , hide       = require('./$.hide')\n  , $redef     = require('./$.redef')\n  , PROTOTYPE  = 'prototype';\nvar ctx = function(fn, that){\n  return function(){\n    return fn.apply(that, arguments);\n  };\n};\nvar $def = function(type, name, source){\n  var key, own, out, exp\n    , isGlobal = type & $def.G\n    , isProto  = type & $def.P\n    , target   = isGlobal ? global : type & $def.S\n        ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE]\n    , exports  = isGlobal ? core : core[name] || (core[name] = {});\n  if(isGlobal)source = name;\n  for(key in source){\n    // contains in native\n    own = !(type & $def.F) && target && key in target;\n    // export native or passed\n    out = (own ? target : source)[key];\n    // bind timers to global for call from export context\n    if(type & $def.B && own)exp = ctx(out, global);\n    else exp = isProto && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // extend global\n    if(target && !own)$redef(target, key, out);\n    // export\n    if(exports[key] != out)hide(exports, key, exp);\n    if(isProto)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;\n  }\n};\nglobal.core = core;\n// type bitmap\n$def.F = 1;  // forced\n$def.G = 2;  // global\n$def.S = 4;  // static\n$def.P = 8;  // proto\n$def.B = 16; // bind\n$def.W = 32; // wrap\nmodule.exports = $def;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/modules/$.def.js\n ** module id = 27\n ** module chunks = 0\n **/","module.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/modules/$.fails.js\n ** module id = 28\n ** module chunks = 0\n **/","// http://jsperf.com/core-js-isobject\nmodule.exports = function(it){\n  return it !== null && (typeof it == 'object' || typeof it == 'function');\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/modules/$.is-object.js\n ** module id = 29\n ** module chunks = 0\n **/","module.exports = {};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/modules/$.iterators.js\n ** module id = 30\n ** module chunks = 0\n **/","module.exports = false;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/modules/$.library.js\n ** module id = 31\n ** module chunks = 0\n **/","var global = require('./$.global')\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/modules/$.shared.js\n ** module id = 32\n ** module chunks = 0\n **/","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./$.fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/modules/$.support-desc.js\n ** module id = 33\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\n// \r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(var i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader/lib/css-base.js\n ** module id = 34\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0;\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction createStyleElement() {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tvar head = getHeadElement();\r\n\tstyleElement.type = \"text/css\";\r\n\thead.appendChild(styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement() {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tvar head = getHeadElement();\r\n\tlinkElement.rel = \"stylesheet\";\r\n\thead.appendChild(linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement());\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement();\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement();\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(JSON.stringify(sourceMap)) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/style-loader/addStyles.js\n ** module id = 35\n ** module chunks = 0\n **/","require('../../modules/es6.array.iterator');\nmodule.exports = require('../../modules/$.core').Array.values;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/fn/array/iterator.js\n ** module id = 44\n ** module chunks = 0\n **/","require('../../modules/es6.symbol');\nmodule.exports = require('../../modules/$.core').Symbol;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/fn/symbol/index.js\n ** module id = 45\n ** module chunks = 0\n **/","var isObject = require('./$.is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/modules/$.an-object.js\n ** module id = 46\n ** module chunks = 0\n **/","var toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/modules/$.cof.js\n ** module id = 47\n ** module chunks = 0\n **/","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/modules/$.defined.js\n ** module id = 48\n ** module chunks = 0\n **/","// all enumerable object keys, includes symbols\nvar $ = require('./$');\nmodule.exports = function(it){\n  var keys       = $.getKeys(it)\n    , getSymbols = $.getSymbols;\n  if(getSymbols){\n    var symbols = getSymbols(it)\n      , isEnum  = $.isEnum\n      , i       = 0\n      , key;\n    while(symbols.length > i)if(isEnum.call(it, key = symbols[i++]))keys.push(key);\n  }\n  return keys;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/modules/$.enum-keys.js\n ** module id = 49\n ** module chunks = 0\n **/","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toString  = {}.toString\n  , toIObject = require('./$.to-iobject')\n  , getNames  = require('./$').getNames;\n\nvar windowNames = typeof window == 'object' && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function(it){\n  try {\n    return getNames(it);\n  } catch(e){\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.get = function getOwnPropertyNames(it){\n  if(windowNames && toString.call(it) == '[object Window]')return getWindowNames(it);\n  return getNames(toIObject(it));\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/modules/$.get-names.js\n ** module id = 50\n ** module chunks = 0\n **/","// indexed object, fallback for non-array-like ES3 strings\nvar cof = require('./$.cof');\nmodule.exports = 0 in Object('z') ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/modules/$.iobject.js\n ** module id = 51\n ** module chunks = 0\n **/","'use strict';\nvar $ = require('./$')\n  , IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./$.hide')(IteratorPrototype, require('./$.wks')('iterator'), function(){ return this; });\n\nmodule.exports = function(Constructor, NAME, next){\n  Constructor.prototype = $.create(IteratorPrototype, {next: require('./$.property-desc')(1,next)});\n  require('./$.tag')(Constructor, NAME + ' Iterator');\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/modules/$.iter-create.js\n ** module id = 52\n ** module chunks = 0\n **/","'use strict';\nvar LIBRARY         = require('./$.library')\n  , $def            = require('./$.def')\n  , $redef          = require('./$.redef')\n  , hide            = require('./$.hide')\n  , has             = require('./$.has')\n  , SYMBOL_ITERATOR = require('./$.wks')('iterator')\n  , Iterators       = require('./$.iterators')\n  , BUGGY           = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`\n  , FF_ITERATOR     = '@@iterator'\n  , KEYS            = 'keys'\n  , VALUES          = 'values';\nvar returnThis = function(){ return this; };\nmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCE){\n  require('./$.iter-create')(Constructor, NAME, next);\n  var createMethod = function(kind){\n    switch(kind){\n      case KEYS: return function keys(){ return new Constructor(this, kind); };\n      case VALUES: return function values(){ return new Constructor(this, kind); };\n    } return function entries(){ return new Constructor(this, kind); };\n  };\n  var TAG      = NAME + ' Iterator'\n    , proto    = Base.prototype\n    , _native  = proto[SYMBOL_ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]\n    , _default = _native || createMethod(DEFAULT)\n    , methods, key;\n  // Fix native\n  if(_native){\n    var IteratorPrototype = require('./$').getProto(_default.call(new Base));\n    // Set @@toStringTag to native iterators\n    require('./$.tag')(IteratorPrototype, TAG, true);\n    // FF fix\n    if(!LIBRARY && has(proto, FF_ITERATOR))hide(IteratorPrototype, SYMBOL_ITERATOR, returnThis);\n  }\n  // Define iterator\n  if(!LIBRARY || FORCE)hide(proto, SYMBOL_ITERATOR, _default);\n  // Plug for library\n  Iterators[NAME] = _default;\n  Iterators[TAG]  = returnThis;\n  if(DEFAULT){\n    methods = {\n      keys:    IS_SET            ? _default : createMethod(KEYS),\n      values:  DEFAULT == VALUES ? _default : createMethod(VALUES),\n      entries: DEFAULT != VALUES ? _default : createMethod('entries')\n    };\n    if(FORCE)for(key in methods){\n      if(!(key in proto))$redef(proto, key, methods[key]);\n    } else $def($def.P + $def.F * BUGGY, NAME, methods);\n  }\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/modules/$.iter-define.js\n ** module id = 53\n ** module chunks = 0\n **/","module.exports = function(done, value){\n  return {value: value, done: !!done};\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/modules/$.iter-step.js\n ** module id = 54\n ** module chunks = 0\n **/","var $         = require('./$')\n  , toIObject = require('./$.to-iobject');\nmodule.exports = function(object, el){\n  var O      = toIObject(object)\n    , keys   = $.getKeys(O)\n    , length = keys.length\n    , index  = 0\n    , key;\n  while(length > index)if(O[key = keys[index++]] === el)return key;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/modules/$.keyof.js\n ** module id = 55\n ** module chunks = 0\n **/","// 22.1.3.31 Array.prototype[@@unscopables]\nvar UNSCOPABLES = require('./$.wks')('unscopables');\nif(!(UNSCOPABLES in []))require('./$.hide')(Array.prototype, UNSCOPABLES, {});\nmodule.exports = function(key){\n  [][UNSCOPABLES][key] = true;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/modules/$.unscope.js\n ** module id = 56\n ** module chunks = 0\n **/","'use strict';\nvar setUnscope = require('./$.unscope')\n  , step       = require('./$.iter-step')\n  , Iterators  = require('./$.iterators')\n  , toIObject  = require('./$.to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nrequire('./$.iter-define')(Array, 'Array', function(iterated, kind){\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , kind  = this._k\n    , index = this._i++;\n  if(!O || index >= O.length){\n    this._t = undefined;\n    return step(1);\n  }\n  if(kind == 'keys'  )return step(0, index);\n  if(kind == 'values')return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\nsetUnscope('keys');\nsetUnscope('values');\nsetUnscope('entries');\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/modules/es6.array.iterator.js\n ** module id = 57\n ** module chunks = 0\n **/","'use strict';\n// ECMAScript 6 symbols shim\nvar $              = require('./$')\n  , global         = require('./$.global')\n  , has            = require('./$.has')\n  , SUPPORT_DESC   = require('./$.support-desc')\n  , $def           = require('./$.def')\n  , $redef         = require('./$.redef')\n  , shared         = require('./$.shared')\n  , setTag         = require('./$.tag')\n  , uid            = require('./$.uid')\n  , wks            = require('./$.wks')\n  , keyOf          = require('./$.keyof')\n  , $names         = require('./$.get-names')\n  , enumKeys       = require('./$.enum-keys')\n  , isObject       = require('./$.is-object')\n  , anObject       = require('./$.an-object')\n  , toIObject      = require('./$.to-iobject')\n  , createDesc     = require('./$.property-desc')\n  , getDesc        = $.getDesc\n  , setDesc        = $.setDesc\n  , _create        = $.create\n  , getNames       = $names.get\n  , $Symbol        = global.Symbol\n  , setter         = false\n  , HIDDEN         = wks('_hidden')\n  , isEnum         = $.isEnum\n  , SymbolRegistry = shared('symbol-registry')\n  , AllSymbols     = shared('symbols')\n  , useNative      = typeof $Symbol == 'function'\n  , ObjectProto    = Object.prototype;\n\nvar setSymbolDesc = SUPPORT_DESC ? function(){ // fallback for old Android\n  try {\n    return _create(setDesc({}, HIDDEN, {\n      get: function(){\n        return setDesc(this, HIDDEN, {value: false})[HIDDEN];\n      }\n    }))[HIDDEN] || setDesc;\n  } catch(e){\n    return function(it, key, D){\n      var protoDesc = getDesc(ObjectProto, key);\n      if(protoDesc)delete ObjectProto[key];\n      setDesc(it, key, D);\n      if(protoDesc && it !== ObjectProto)setDesc(ObjectProto, key, protoDesc);\n    };\n  }\n}() : setDesc;\n\nvar wrap = function(tag){\n  var sym = AllSymbols[tag] = _create($Symbol.prototype);\n  sym._k = tag;\n  SUPPORT_DESC && setter && setSymbolDesc(ObjectProto, tag, {\n    configurable: true,\n    set: function(value){\n      if(has(this, HIDDEN) && has(this[HIDDEN], tag))this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    }\n  });\n  return sym;\n};\n\nvar $defineProperty = function defineProperty(it, key, D){\n  if(D && has(AllSymbols, key)){\n    if(!D.enumerable){\n      if(!has(it, HIDDEN))setDesc(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if(has(it, HIDDEN) && it[HIDDEN][key])it[HIDDEN][key] = false;\n      D = _create(D, {enumerable: createDesc(0, false)});\n    } return setSymbolDesc(it, key, D);\n  } return setDesc(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P){\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P))\n    , i    = 0\n    , l = keys.length\n    , key;\n  while(l > i)$defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P){\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key){\n  var E = isEnum.call(this, key);\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key]\n    ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key){\n  var D = getDesc(it = toIObject(it), key);\n  if(D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key]))D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it){\n  var names  = getNames(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i)if(!has(AllSymbols, key = names[i++]) && key != HIDDEN)result.push(key);\n  return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it){\n  var names  = getNames(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i)if(has(AllSymbols, key = names[i++]))result.push(AllSymbols[key]);\n  return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif(!useNative){\n  $Symbol = function Symbol(){\n    if(this instanceof $Symbol)throw TypeError('Symbol is not a constructor');\n    return wrap(uid(arguments[0]));\n  };\n  $redef($Symbol.prototype, 'toString', function toString(){\n    return this._k;\n  });\n\n  $.create     = $create;\n  $.isEnum     = $propertyIsEnumerable;\n  $.getDesc    = $getOwnPropertyDescriptor;\n  $.setDesc    = $defineProperty;\n  $.setDescs   = $defineProperties;\n  $.getNames   = $names.get = $getOwnPropertyNames;\n  $.getSymbols = $getOwnPropertySymbols;\n\n  if(SUPPORT_DESC && !require('./$.library')){\n    $redef(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n}\n\n// MS Edge converts symbol values to JSON as {}\n// WebKit converts symbol values in objects to JSON as null\nif(!useNative || require('./$.fails')(function(){\n  return JSON.stringify([{a: $Symbol()}, [$Symbol()]]) != '[{},[null]]';\n}))$redef($Symbol.prototype, 'toJSON', function toJSON(){\n  if(useNative && isObject(this))return this;\n});\n\nvar symbolStatics = {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function(key){\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(key){\n    return keyOf(SymbolRegistry, key);\n  },\n  useSetter: function(){ setter = true; },\n  useSimple: function(){ setter = false; }\n};\n// 19.4.2.2 Symbol.hasInstance\n// 19.4.2.3 Symbol.isConcatSpreadable\n// 19.4.2.4 Symbol.iterator\n// 19.4.2.6 Symbol.match\n// 19.4.2.8 Symbol.replace\n// 19.4.2.9 Symbol.search\n// 19.4.2.10 Symbol.species\n// 19.4.2.11 Symbol.split\n// 19.4.2.12 Symbol.toPrimitive\n// 19.4.2.13 Symbol.toStringTag\n// 19.4.2.14 Symbol.unscopables\n$.each.call((\n    'hasInstance,isConcatSpreadable,iterator,match,replace,search,' +\n    'species,split,toPrimitive,toStringTag,unscopables'\n  ).split(','), function(it){\n    var sym = wks(it);\n    symbolStatics[it] = useNative ? sym : wrap(sym);\n  }\n);\n\nsetter = true;\n\n$def($def.G + $def.W, {Symbol: $Symbol});\n\n$def($def.S, 'Symbol', symbolStatics);\n\n$def($def.S + $def.F * !useNative, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetTag(global.JSON, 'JSON', true);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/modules/es6.symbol.js\n ** module id = 58\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\nexports.push([module.id, \".leaflet-image-layer,.leaflet-layer,.leaflet-map-pane,.leaflet-marker-icon,.leaflet-marker-pane,.leaflet-marker-shadow,.leaflet-overlay-pane,.leaflet-overlay-pane svg,.leaflet-popup-pane,.leaflet-shadow-pane,.leaflet-tile,.leaflet-tile-container,.leaflet-tile-pane,.leaflet-zoom-box{position:absolute;left:0;top:0}.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none}.leaflet-marker-icon,.leaflet-marker-shadow{display:block}.leaflet-container img{max-width:none!important}.leaflet-container img.leaflet-image-layer{max-width:15000px!important}.leaflet-tile{filter:inherit;visibility:hidden}.leaflet-tile-loaded{visibility:inherit}.leaflet-zoom-box{width:0;height:0}.leaflet-overlay-pane svg{-moz-user-select:none}.leaflet-tile-pane{z-index:2}.leaflet-objects-pane{z-index:3}.leaflet-overlay-pane{z-index:4}.leaflet-shadow-pane{z-index:5}.leaflet-marker-pane{z-index:6}.leaflet-popup-pane{z-index:7}.leaflet-vml-shape{width:1px;height:1px}.lvml{behavior:url(#default#VML);display:inline-block;position:absolute}.leaflet-control{position:relative;z-index:7;pointer-events:auto;float:left;clear:both}.leaflet-bottom,.leaflet-top{position:absolute;z-index:1000;pointer-events:none}.leaflet-top{top:0}.leaflet-right{right:0}.leaflet-bottom{bottom:0}.leaflet-left{left:0}.leaflet-right .leaflet-control{float:right;margin-right:10px}.leaflet-top .leaflet-control{margin-top:10px}.leaflet-bottom .leaflet-control{margin-bottom:10px}.leaflet-left .leaflet-control{margin-left:10px}.leaflet-fade-anim .leaflet-popup,.leaflet-fade-anim .leaflet-tile{opacity:0;-webkit-transition:opacity .2s linear;-moz-transition:opacity .2s linear;-o-transition:opacity .2s linear;transition:opacity .2s linear}.leaflet-fade-anim .leaflet-map-pane .leaflet-popup,.leaflet-fade-anim .leaflet-tile-loaded{opacity:1}.leaflet-zoom-anim .leaflet-zoom-animated{-webkit-transition:-webkit-transform .25s cubic-bezier(0,0,.25,1);-moz-transition:-moz-transform .25s cubic-bezier(0,0,.25,1);-o-transition:-o-transform .25s cubic-bezier(0,0,.25,1);transition:transform .25s cubic-bezier(0,0,.25,1)}.leaflet-pan-anim .leaflet-tile,.leaflet-touching .leaflet-zoom-animated,.leaflet-zoom-anim .leaflet-tile{-webkit-transition:none;-moz-transition:none;-o-transition:none;transition:none}.leaflet-zoom-anim .leaflet-zoom-hide{visibility:hidden}.leaflet-clickable{cursor:pointer}.leaflet-container{overflow:hidden;-ms-touch-action:none;cursor:-webkit-grab;cursor:-moz-grab;background:#ddd;outline:0;font:9pt/1.5 \\\"Helvetica Neue\\\",Arial,Helvetica,sans-serif}.leaflet-control,.leaflet-popup-pane{cursor:auto}.leaflet-dragging .leaflet-clickable,.leaflet-dragging .leaflet-container{cursor:move;cursor:-webkit-grabbing;cursor:-moz-grabbing}.leaflet-container a{color:#0078A8}.leaflet-container a.leaflet-active{outline:orange solid 2px}.leaflet-zoom-box{border:2px dotted #38f;background:rgba(255,255,255,.5)}.leaflet-bar{box-shadow:0 1px 5px rgba(0,0,0,.65);border-radius:4px}.leaflet-bar a,.leaflet-bar a:hover{background-color:#fff;border-bottom:1px solid #ccc;width:26px;height:26px;line-height:26px;display:block;text-align:center;text-decoration:none;color:#000}.leaflet-bar a,.leaflet-control-layers-toggle{background-position:50% 50%;background-repeat:no-repeat;display:block}.leaflet-bar a:hover{background-color:#f4f4f4}.leaflet-bar a:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.leaflet-bar a:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-bottom:none}.leaflet-bar a.leaflet-disabled{cursor:default;background-color:#f4f4f4;color:#bbb}.leaflet-touch .leaflet-bar a{width:30px;height:30px;line-height:30px}.leaflet-control-zoom-in,.leaflet-control-zoom-out{font:700 18px 'Lucida Console',Monaco,monospace;text-indent:1px}.leaflet-control-zoom-out{font-size:20px}.leaflet-touch .leaflet-control-zoom-in{font-size:22px}.leaflet-touch .leaflet-control-zoom-out{font-size:24px}.leaflet-control-layers{box-shadow:0 1px 5px rgba(0,0,0,.4);background:#fff;border-radius:5px}.leaflet-control-layers-toggle{width:36px;height:36px}.leaflet-retina .leaflet-control-layers-toggle{background-size:26px 26px}.leaflet-touch .leaflet-control-layers-toggle{width:44px;height:44px}.leaflet-control-layers .leaflet-control-layers-list,.leaflet-control-layers-expanded .leaflet-control-layers-toggle{display:none}.leaflet-control-layers-expanded .leaflet-control-layers-list{display:block;position:relative}.leaflet-control-layers-expanded{padding:6px 10px 6px 6px;color:#333;background:#fff}.leaflet-control-layers-selector{margin-top:2px;position:relative;top:1px}.leaflet-control-layers label{display:block}.leaflet-control-layers-separator{height:0;border-top:1px solid #ddd;margin:5px -10px 5px -6px}.leaflet-container .leaflet-control-attribution{background:#fff;background:rgba(255,255,255,.7);margin:0}.leaflet-control-attribution,.leaflet-control-scale-line{padding:0 5px;color:#333}.leaflet-control-attribution a{text-decoration:none}.leaflet-control-attribution a:hover{text-decoration:underline}.leaflet-container .leaflet-control-attribution,.leaflet-container .leaflet-control-scale{font-size:11px}.leaflet-left .leaflet-control-scale{margin-left:5px}.leaflet-bottom .leaflet-control-scale{margin-bottom:5px}.leaflet-control-scale-line{border:2px solid #777;border-top:none;line-height:1.1;padding:2px 5px 1px;font-size:11px;white-space:nowrap;overflow:hidden;-moz-box-sizing:content-box;box-sizing:content-box;background:#fff;background:rgba(255,255,255,.5)}.leaflet-control-scale-line:not(:first-child){border-top:2px solid #777;border-bottom:none;margin-top:-2px}.leaflet-control-scale-line:not(:first-child):not(:last-child){border-bottom:2px solid #777}.leaflet-touch .leaflet-bar,.leaflet-touch .leaflet-control-attribution,.leaflet-touch .leaflet-control-layers{box-shadow:none}.leaflet-touch .leaflet-bar,.leaflet-touch .leaflet-control-layers{border:2px solid rgba(0,0,0,.2);background-clip:padding-box}.leaflet-popup{position:absolute;text-align:center}.leaflet-popup-content-wrapper{padding:1px;text-align:left;border-radius:9pt}.leaflet-popup-content{margin:13px 19px;line-height:1.4}.leaflet-popup-content p{margin:18px 0}.leaflet-popup-tip-container{margin:0 auto;width:40px;height:20px;position:relative;overflow:hidden}.leaflet-popup-tip{width:17px;height:17px;padding:1px;margin:-10px auto 0;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg)}.leaflet-popup-content-wrapper,.leaflet-popup-tip{background:#fff;box-shadow:0 3px 14px rgba(0,0,0,.4)}.leaflet-container a.leaflet-popup-close-button{position:absolute;top:0;right:0;padding:4px 4px 0 0;text-align:center;width:18px;height:14px;font:1pc/14px Tahoma,Verdana,sans-serif;color:#c3c3c3;text-decoration:none;font-weight:700;background:0 0}.leaflet-container a.leaflet-popup-close-button:hover{color:#999}.leaflet-popup-scrolled{overflow:auto;border-bottom:1px solid #ddd;border-top:1px solid #ddd}.leaflet-oldie .leaflet-popup-content-wrapper{zoom:1}.leaflet-oldie .leaflet-popup-tip{width:24px;margin:0 auto;-ms-filter:\\\"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)\\\";filter:progid:DXImageTransform.Microsoft.Matrix(M11=.70710678, M12=.70710678, M21=-.70710678, M22=.70710678)}.leaflet-oldie .leaflet-popup-tip-container{margin-top:-1px}.leaflet-oldie .leaflet-control-layers,.leaflet-oldie .leaflet-control-zoom,.leaflet-oldie .leaflet-popup-content-wrapper,.leaflet-oldie .leaflet-popup-tip{border:1px solid #999}.leaflet-div-icon{background:#fff;border:1px solid #666}\", \"\"]);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/leaflet/dist/leaflet.css\n ** module id = 59\n ** module chunks = 0\n **/","/*\r\n Leaflet.markercluster, Provides Beautiful Animated Marker Clustering functionality for Leaflet, a JS library for interactive maps.\r\n https://github.com/Leaflet/Leaflet.markercluster\r\n (c) 2012-2013, Dave Leaver, smartrak\r\n*/\r\n!function(t,e){L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,polygonOptions:{}},initialize:function(t){L.Util.setOptions(this,t),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.on(L.FeatureGroup.EVENTS,this._propagateEvent,this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.on(L.FeatureGroup.EVENTS,this._propagateEvent,this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[]},addLayer:function(t){if(t instanceof L.LayerGroup){var e=[];for(var i in t._layers)e.push(t._layers[i]);return this.addLayers(e)}if(!t.getLatLng)return this._nonPointGroup.addLayer(t),this;if(!this._map)return this._needsClustering.push(t),this;if(this.hasLayer(t))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(t,this._maxZoom);var n=t,s=this._map.getZoom();if(t.__parent)for(;n.__parent._zoom>=s;)n=n.__parent;return this._currentShownBounds.contains(n.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(t,n):this._animationAddLayerNonAnimated(t,n)),this},removeLayer:function(t){if(t instanceof L.LayerGroup){var e=[];for(var i in t._layers)e.push(t._layers[i]);return this.removeLayers(e)}return t.getLatLng?this._map?t.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(t)),this._removeLayer(t,!0),this._featureGroup.hasLayer(t)&&(this._featureGroup.removeLayer(t),t.setOpacity&&t.setOpacity(1)),this):this:(!this._arraySplice(this._needsClustering,t)&&this.hasLayer(t)&&this._needsRemoving.push(t),this):(this._nonPointGroup.removeLayer(t),this)},addLayers:function(t){var e,i,n,s=this._map,r=this._featureGroup,o=this._nonPointGroup;for(e=0,i=t.length;i>e;e++)if(n=t[e],n.getLatLng){if(!this.hasLayer(n))if(s){if(this._addLayer(n,this._maxZoom),n.__parent&&2===n.__parent.getChildCount()){var a=n.__parent.getAllChildMarkers(),h=a[0]===n?a[1]:a[0];r.removeLayer(h)}}else this._needsClustering.push(n)}else o.addLayer(n);return s&&(r.eachLayer(function(t){t instanceof L.MarkerCluster&&t._iconNeedsUpdate&&t._updateIcon()}),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)),this},removeLayers:function(t){var e,i,n,s=this._featureGroup,r=this._nonPointGroup;if(!this._map){for(e=0,i=t.length;i>e;e++)n=t[e],this._arraySplice(this._needsClustering,n),r.removeLayer(n);return this}for(e=0,i=t.length;i>e;e++)n=t[e],n.__parent?(this._removeLayer(n,!0,!0),s.hasLayer(n)&&(s.removeLayer(n),n.setOpacity&&n.setOpacity(1))):r.removeLayer(n);return this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),s.eachLayer(function(t){t instanceof L.MarkerCluster&&t._updateIcon()}),this},clearLayers:function(){return this._map||(this._needsClustering=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(t){delete t.__parent}),this._map&&this._generateInitialClusters(),this},getBounds:function(){var t=new L.LatLngBounds;if(this._topClusterLevel)t.extend(this._topClusterLevel._bounds);else for(var e=this._needsClustering.length-1;e>=0;e--)t.extend(this._needsClustering[e].getLatLng());return t.extend(this._nonPointGroup.getBounds()),t},eachLayer:function(t,e){var i,n=this._needsClustering.slice();for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(n),i=n.length-1;i>=0;i--)t.call(e,n[i]);this._nonPointGroup.eachLayer(t,e)},getLayers:function(){var t=[];return this.eachLayer(function(e){t.push(e)}),t},getLayer:function(t){var e=null;return this.eachLayer(function(i){L.stamp(i)===t&&(e=i)}),e},hasLayer:function(t){if(!t)return!1;var e,i=this._needsClustering;for(e=i.length-1;e>=0;e--)if(i[e]===t)return!0;for(i=this._needsRemoving,e=i.length-1;e>=0;e--)if(i[e]===t)return!1;return!(!t.__parent||t.__parent._group!==this)||this._nonPointGroup.hasLayer(t)},zoomToShowLayer:function(t,e){var i=function(){if((t._icon||t.__parent._icon)&&!this._inZoomAnimation)if(this._map.off(\"moveend\",i,this),this.off(\"animationend\",i,this),t._icon)e();else if(t.__parent._icon){var n=function(){this.off(\"spiderfied\",n,this),e()};this.on(\"spiderfied\",n,this),t.__parent.spiderfy()}};t._icon&&this._map.getBounds().contains(t.getLatLng())?e():t.__parent._zoom<this._map.getZoom()?(this._map.on(\"moveend\",i,this),this._map.panTo(t.getLatLng())):(this._map.on(\"moveend\",i,this),this.on(\"animationend\",i,this),this._map.setView(t.getLatLng(),t.__parent._zoom+1),t.__parent.zoomToBounds())},onAdd:function(t){this._map=t;var e,i,n;if(!isFinite(this._map.getMaxZoom()))throw\"Map has no maxZoom specified\";for(this._featureGroup.onAdd(t),this._nonPointGroup.onAdd(t),this._gridClusters||this._generateInitialClusters(),e=0,i=this._needsRemoving.length;i>e;e++)n=this._needsRemoving[e],this._removeLayer(n,!0);for(this._needsRemoving=[],e=0,i=this._needsClustering.length;i>e;e++)n=this._needsClustering[e],n.getLatLng?n.__parent||this._addLayer(n,this._maxZoom):this._featureGroup.addLayer(n);this._needsClustering=[],this._map.on(\"zoomend\",this._zoomEnd,this),this._map.on(\"moveend\",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),this._zoom=this._map.getZoom(),this._currentShownBounds=this._getExpandedVisibleBounds(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)},onRemove:function(t){t.off(\"zoomend\",this._zoomEnd,this),t.off(\"moveend\",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(\" leaflet-cluster-anim\",\"\"),this._spiderfierOnRemove&&this._spiderfierOnRemove(),this._hideCoverage(),this._featureGroup.onRemove(t),this._nonPointGroup.onRemove(t),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(t){for(var e=t;e&&!e._icon;)e=e.__parent;return e||null},_arraySplice:function(t,e){for(var i=t.length-1;i>=0;i--)if(t[i]===e)return t.splice(i,1),!0},_removeLayer:function(t,e,i){var n=this._gridClusters,s=this._gridUnclustered,r=this._featureGroup,o=this._map;if(e)for(var a=this._maxZoom;a>=0&&s[a].removeObject(t,o.project(t.getLatLng(),a));a--);var h,_=t.__parent,u=_._markers;for(this._arraySplice(u,t);_&&(_._childCount--,!(_._zoom<0));)e&&_._childCount<=1?(h=_._markers[0]===t?_._markers[1]:_._markers[0],n[_._zoom].removeObject(_,o.project(_._cLatLng,_._zoom)),s[_._zoom].addObject(h,o.project(h.getLatLng(),_._zoom)),this._arraySplice(_.__parent._childClusters,_),_.__parent._markers.push(h),h.__parent=_.__parent,_._icon&&(r.removeLayer(_),i||r.addLayer(h))):(_._recalculateBounds(),i&&_._icon||_._updateIcon()),_=_.__parent;delete t.__parent},_isOrIsParent:function(t,e){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},_propagateEvent:function(t){if(t.layer instanceof L.MarkerCluster){if(t.originalEvent&&this._isOrIsParent(t.layer._icon,t.originalEvent.relatedTarget))return;t.type=\"cluster\"+t.type}this.fire(t.type,t)},_defaultIconCreateFunction:function(t){var e=t.getChildCount(),i=\" marker-cluster-\";return i+=10>e?\"small\":100>e?\"medium\":\"large\",new L.DivIcon({html:\"<div><span>\"+e+\"</span></div>\",className:\"marker-cluster\"+i,iconSize:new L.Point(40,40)})},_bindEvents:function(){var t=this._map,e=this.options.spiderfyOnMaxZoom,i=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick;(e||n)&&this.on(\"clusterclick\",this._zoomOrSpiderfy,this),i&&(this.on(\"clustermouseover\",this._showCoverage,this),this.on(\"clustermouseout\",this._hideCoverage,this),t.on(\"zoomend\",this._hideCoverage,this))},_zoomOrSpiderfy:function(t){var e=this._map;e.getMaxZoom()===e.getZoom()?this.options.spiderfyOnMaxZoom&&t.layer.spiderfy():this.options.zoomToBoundsOnClick&&t.layer.zoomToBounds(),t.originalEvent&&13===t.originalEvent.keyCode&&e._container.focus()},_showCoverage:function(t){var e=this._map;this._inZoomAnimation||(this._shownPolygon&&e.removeLayer(this._shownPolygon),t.layer.getChildCount()>2&&t.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(t.layer.getConvexHull(),this.options.polygonOptions),e.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var t=this.options.spiderfyOnMaxZoom,e=this.options.showCoverageOnHover,i=this.options.zoomToBoundsOnClick,n=this._map;(t||i)&&this.off(\"clusterclick\",this._zoomOrSpiderfy,this),e&&(this.off(\"clustermouseover\",this._showCoverage,this),this.off(\"clustermouseout\",this._hideCoverage,this),n.off(\"zoomend\",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=this._map._zoom,this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var t=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._map._zoom,t),this._currentShownBounds=t}},_generateInitialClusters:function(){var t=this._map.getMaxZoom(),e=this.options.maxClusterRadius;this.options.disableClusteringAtZoom&&(t=this.options.disableClusteringAtZoom-1),this._maxZoom=t,this._gridClusters={},this._gridUnclustered={};for(var i=t;i>=0;i--)this._gridClusters[i]=new L.DistanceGrid(e),this._gridUnclustered[i]=new L.DistanceGrid(e);this._topClusterLevel=new L.MarkerCluster(this,-1)},_addLayer:function(t,e){var i,n,s=this._gridClusters,r=this._gridUnclustered;for(this.options.singleMarkerMode&&(t.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[t]}}));e>=0;e--){i=this._map.project(t.getLatLng(),e);var o=s[e].getNearObject(i);if(o)return o._addChild(t),t.__parent=o,void 0;if(o=r[e].getNearObject(i)){var a=o.__parent;a&&this._removeLayer(o,!1);var h=new L.MarkerCluster(this,e,o,t);s[e].addObject(h,this._map.project(h._cLatLng,e)),o.__parent=h,t.__parent=h;var _=h;for(n=e-1;n>a._zoom;n--)_=new L.MarkerCluster(this,n,_),s[n].addObject(_,this._map.project(o.getLatLng(),n));for(a._addChild(_),n=e;n>=0&&r[n].removeObject(o,this._map.project(o.getLatLng(),n));n--);return}r[e].addObject(t,i)}this._topClusterLevel._addChild(t),t.__parent=this._topClusterLevel},_enqueue:function(t){this._queue.push(t),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var t=0;t<this._queue.length;t++)this._queue[t].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){this._processQueue(),this._zoom<this._map._zoom&&this._currentShownBounds.contains(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,this._map._zoom)):this._zoom>this._map._zoom?(this._animationStart(),this._animationZoomOut(this._zoom,this._map._zoom)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(!this.options.removeOutsideVisibleBounds)return this.getBounds();var t=this._map,e=t.getBounds(),i=e._southWest,n=e._northEast,s=L.Browser.mobile?0:Math.abs(i.lat-n.lat),r=L.Browser.mobile?0:Math.abs(i.lng-n.lng);return new L.LatLngBounds(new L.LatLng(i.lat-s,i.lng-r,!0),new L.LatLng(n.lat+s,n.lng+r,!0))},_animationAddLayerNonAnimated:function(t,e){if(e===t)this._featureGroup.addLayer(t);else if(2===e._childCount){e._addToMap();var i=e.getAllChildMarkers();this._featureGroup.removeLayer(i[0]),this._featureGroup.removeLayer(i[1])}else e._updateIcon()}}),L.MarkerClusterGroup.include(L.DomUtil.TRANSITION?{_animationStart:function(){this._map._mapPane.className+=\" leaflet-cluster-anim\",this._inZoomAnimation++},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(\" leaflet-cluster-anim\",\"\")),this._inZoomAnimation--,this.fire(\"animationend\")},_animationZoomIn:function(t,e){var i,n=this._getExpandedVisibleBounds(),s=this._featureGroup;this._topClusterLevel._recursively(n,t,0,function(r){var o,a=r._latlng,h=r._markers;for(n.contains(a)||(a=null),r._isSingleParent()&&t+1===e?(s.removeLayer(r),r._recursivelyAddChildrenToMap(null,e,n)):(r.setOpacity(0),r._recursivelyAddChildrenToMap(a,e,n)),i=h.length-1;i>=0;i--)o=h[i],n.contains(o._latlng)||s.removeLayer(o)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(n,e),s.eachLayer(function(t){t instanceof L.MarkerCluster||!t._icon||t.setOpacity(1)}),this._topClusterLevel._recursively(n,t,e,function(t){t._recursivelyRestoreChildPositions(e)}),this._enqueue(function(){this._topClusterLevel._recursively(n,t,0,function(t){s.removeLayer(t),t.setOpacity(1)}),this._animationEnd()})},_animationZoomOut:function(t,e){this._animationZoomOutSingle(this._topClusterLevel,t-1,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,t,this._getExpandedVisibleBounds())},_animationZoomOutSingle:function(t,e,i){var n=this._getExpandedVisibleBounds();t._recursivelyAnimateChildrenInAndAddSelfToMap(n,e+1,i);var s=this;this._forceLayout(),t._recursivelyBecomeVisible(n,i),this._enqueue(function(){if(1===t._childCount){var r=t._markers[0];r.setLatLng(r.getLatLng()),r.setOpacity(1)}else t._recursively(n,i,0,function(t){t._recursivelyRemoveChildrenFromMap(n,e+1)});s._animationEnd()})},_animationAddLayer:function(t,e){var i=this,n=this._featureGroup;n.addLayer(t),e!==t&&(e._childCount>2?(e._updateIcon(),this._forceLayout(),this._animationStart(),t._setPos(this._map.latLngToLayerPoint(e.getLatLng())),t.setOpacity(0),this._enqueue(function(){n.removeLayer(t),t.setOpacity(1),i._animationEnd()})):(this._forceLayout(),i._animationStart(),i._animationZoomOutSingle(e,this._map.getMaxZoom(),this._map.getZoom())))},_forceLayout:function(){L.Util.falseFn(e.body.offsetWidth)}}:{_animationStart:function(){},_animationZoomIn:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds())},_animationZoomOut:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds())},_animationAddLayer:function(t,e){this._animationAddLayerNonAnimated(t,e)}}),L.markerClusterGroup=function(t){return new L.MarkerClusterGroup(t)},L.MarkerCluster=L.Marker.extend({initialize:function(t,e,i,n){L.Marker.prototype.initialize.call(this,i?i._cLatLng||i.getLatLng():new L.LatLng(0,0),{icon:this}),this._group=t,this._zoom=e,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._bounds=new L.LatLngBounds,i&&this._addChild(i),n&&this._addChild(n)},getAllChildMarkers:function(t){t=t||[];for(var e=this._childClusters.length-1;e>=0;e--)this._childClusters[e].getAllChildMarkers(t);for(var i=this._markers.length-1;i>=0;i--)t.push(this._markers[i]);return t},getChildCount:function(){return this._childCount},zoomToBounds:function(){for(var t,e=this._childClusters.slice(),i=this._group._map,n=i.getBoundsZoom(this._bounds),s=this._zoom+1,r=i.getZoom();e.length>0&&n>s;){s++;var o=[];for(t=0;t<e.length;t++)o=o.concat(e[t]._childClusters);e=o}n>s?this._group._map.setView(this._latlng,s):r>=n?this._group._map.setView(this._latlng,r+1):this._group._map.fitBounds(this._bounds)},getBounds:function(){var t=new L.LatLngBounds;return t.extend(this._bounds),t},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(t,e){this._iconNeedsUpdate=!0,this._expandBounds(t),t instanceof L.MarkerCluster?(e||(this._childClusters.push(t),t.__parent=this),this._childCount+=t._childCount):(e||this._markers.push(t),this._childCount++),this.__parent&&this.__parent._addChild(t,!0)},_expandBounds:function(t){var e,i=t._wLatLng||t._latlng;t instanceof L.MarkerCluster?(this._bounds.extend(t._bounds),e=t._childCount):(this._bounds.extend(i),e=1),this._cLatLng||(this._cLatLng=t._cLatLng||i);var n=this._childCount+e;this._wLatLng?(this._wLatLng.lat=(i.lat*e+this._wLatLng.lat*this._childCount)/n,this._wLatLng.lng=(i.lng*e+this._wLatLng.lng*this._childCount)/n):this._latlng=this._wLatLng=new L.LatLng(i.lat,i.lng)},_addToMap:function(t){t&&(this._backupLatlng=this._latlng,this.setLatLng(t)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(t,e,i){this._recursively(t,0,i-1,function(t){var i,n,s=t._markers;for(i=s.length-1;i>=0;i--)n=s[i],n._icon&&(n._setPos(e),n.setOpacity(0))},function(t){var i,n,s=t._childClusters;for(i=s.length-1;i>=0;i--)n=s[i],n._icon&&(n._setPos(e),n.setOpacity(0))})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(t,e,i){this._recursively(t,i,0,function(n){n._recursivelyAnimateChildrenIn(t,n._group._map.latLngToLayerPoint(n.getLatLng()).round(),e),n._isSingleParent()&&e-1===i?(n.setOpacity(1),n._recursivelyRemoveChildrenFromMap(t,e)):n.setOpacity(0),n._addToMap()})},_recursivelyBecomeVisible:function(t,e){this._recursively(t,0,e,null,function(t){t.setOpacity(1)})},_recursivelyAddChildrenToMap:function(t,e,i){this._recursively(i,-1,e,function(n){if(e!==n._zoom)for(var s=n._markers.length-1;s>=0;s--){var r=n._markers[s];i.contains(r._latlng)&&(t&&(r._backupLatlng=r.getLatLng(),r.setLatLng(t),r.setOpacity&&r.setOpacity(0)),n._group._featureGroup.addLayer(r))}},function(e){e._addToMap(t)})},_recursivelyRestoreChildPositions:function(t){for(var e=this._markers.length-1;e>=0;e--){var i=this._markers[e];i._backupLatlng&&(i.setLatLng(i._backupLatlng),delete i._backupLatlng)}if(t-1===this._zoom)for(var n=this._childClusters.length-1;n>=0;n--)this._childClusters[n]._restorePosition();else for(var s=this._childClusters.length-1;s>=0;s--)this._childClusters[s]._recursivelyRestoreChildPositions(t)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(t,e,i){var n,s;this._recursively(t,-1,e-1,function(t){for(s=t._markers.length-1;s>=0;s--)n=t._markers[s],i&&i.contains(n._latlng)||(t._group._featureGroup.removeLayer(n),n.setOpacity&&n.setOpacity(1))},function(t){for(s=t._childClusters.length-1;s>=0;s--)n=t._childClusters[s],i&&i.contains(n._latlng)||(t._group._featureGroup.removeLayer(n),n.setOpacity&&n.setOpacity(1))})},_recursively:function(t,e,i,n,s){var r,o,a=this._childClusters,h=this._zoom;if(e>h)for(r=a.length-1;r>=0;r--)o=a[r],t.intersects(o._bounds)&&o._recursively(t,e,i,n,s);else if(n&&n(this),s&&this._zoom===i&&s(this),i>h)for(r=a.length-1;r>=0;r--)o=a[r],t.intersects(o._bounds)&&o._recursively(t,e,i,n,s)},_recalculateBounds:function(){var t,e=this._markers,i=this._childClusters;for(this._bounds=new L.LatLngBounds,delete this._wLatLng,t=e.length-1;t>=0;t--)this._expandBounds(e[t]);for(t=i.length-1;t>=0;t--)this._expandBounds(i[t])},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}}),L.DistanceGrid=function(t){this._cellSize=t,this._sqCellSize=t*t,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(t,e){var i=this._getCoord(e.x),n=this._getCoord(e.y),s=this._grid,r=s[n]=s[n]||{},o=r[i]=r[i]||[],a=L.Util.stamp(t);this._objectPoint[a]=e,o.push(t)},updateObject:function(t,e){this.removeObject(t),this.addObject(t,e)},removeObject:function(t,e){var i,n,s=this._getCoord(e.x),r=this._getCoord(e.y),o=this._grid,a=o[r]=o[r]||{},h=a[s]=a[s]||[];for(delete this._objectPoint[L.Util.stamp(t)],i=0,n=h.length;n>i;i++)if(h[i]===t)return h.splice(i,1),1===n&&delete a[s],!0},eachObject:function(t,e){var i,n,s,r,o,a,h,_=this._grid;for(i in _){o=_[i];for(n in o)for(a=o[n],s=0,r=a.length;r>s;s++)h=t.call(e,a[s]),h&&(s--,r--)}},getNearObject:function(t){var e,i,n,s,r,o,a,h,_=this._getCoord(t.x),u=this._getCoord(t.y),l=this._objectPoint,d=this._sqCellSize,p=null;for(e=u-1;u+1>=e;e++)if(s=this._grid[e])for(i=_-1;_+1>=i;i++)if(r=s[i])for(n=0,o=r.length;o>n;n++)a=r[n],h=this._sqDist(l[L.Util.stamp(a)],t),d>h&&(d=h,p=a);return p},_getCoord:function(t){return Math.floor(t/this._cellSize)},_sqDist:function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n}},function(){L.QuickHull={getDistant:function(t,e){var i=e[1].lat-e[0].lat,n=e[0].lng-e[1].lng;return n*(t.lat-e[0].lat)+i*(t.lng-e[0].lng)},findMostDistantPointFromBaseLine:function(t,e){var i,n,s,r=0,o=null,a=[];for(i=e.length-1;i>=0;i--)n=e[i],s=this.getDistant(n,t),s>0&&(a.push(n),s>r&&(r=s,o=n));return{maxPoint:o,newPoints:a}},buildConvexHull:function(t,e){var i=[],n=this.findMostDistantPointFromBaseLine(t,e);return n.maxPoint?(i=i.concat(this.buildConvexHull([t[0],n.maxPoint],n.newPoints)),i=i.concat(this.buildConvexHull([n.maxPoint,t[1]],n.newPoints))):[t[0]]},getConvexHull:function(t){var e,i=!1,n=!1,s=null,r=null;for(e=t.length-1;e>=0;e--){var o=t[e];(i===!1||o.lat>i)&&(s=o,i=o.lat),(n===!1||o.lat<n)&&(r=o,n=o.lat)}var a=[].concat(this.buildConvexHull([r,s],t),this.buildConvexHull([s,r],t));return a}}}(),L.MarkerCluster.include({getConvexHull:function(){var t,e,i=this.getAllChildMarkers(),n=[];for(e=i.length-1;e>=0;e--)t=i[e].getLatLng(),n.push(t);return L.QuickHull.getConvexHull(n)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:Math.PI/6,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var t,e=this.getAllChildMarkers(),i=this._group,n=i._map,s=n.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,e.length>=this._circleSpiralSwitchover?t=this._generatePointsSpiral(e.length,s):(s.y+=10,t=this._generatePointsCircle(e.length,s)),this._animationSpiderfy(e,t)}},unspiderfy:function(t){this._group._inZoomAnimation||(this._animationUnspiderfy(t),this._group._spiderfied=null)},_generatePointsCircle:function(t,e){var i,n,s=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+t),r=s/this._2PI,o=this._2PI/t,a=[];for(a.length=t,i=t-1;i>=0;i--)n=this._circleStartAngle+i*o,a[i]=new L.Point(e.x+r*Math.cos(n),e.y+r*Math.sin(n))._round();return a},_generatePointsSpiral:function(t,e){var i,n=this._group.options.spiderfyDistanceMultiplier*this._spiralLengthStart,s=this._group.options.spiderfyDistanceMultiplier*this._spiralFootSeparation,r=this._group.options.spiderfyDistanceMultiplier*this._spiralLengthFactor,o=0,a=[];for(a.length=t,i=t-1;i>=0;i--)o+=s/n+5e-4*i,a[i]=new L.Point(e.x+n*Math.cos(o),e.y+n*Math.sin(o))._round(),n+=this._2PI*r/o;return a},_noanimationUnspiderfy:function(){var t,e,i=this._group,n=i._map,s=i._featureGroup,r=this.getAllChildMarkers();for(this.setOpacity(1),e=r.length-1;e>=0;e--)t=r[e],s.removeLayer(t),t._preSpiderfyLatlng&&(t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng),t.setZIndexOffset&&t.setZIndexOffset(0),t._spiderLeg&&(n.removeLayer(t._spiderLeg),delete t._spiderLeg);i._spiderfied=null}}),L.MarkerCluster.include(L.DomUtil.TRANSITION?{SVG_ANIMATION:function(){return e.createElementNS(\"http://www.w3.org/2000/svg\",\"animate\").toString().indexOf(\"SVGAnimate\")>-1}(),_animationSpiderfy:function(t,i){var n,s,r,o,a=this,h=this._group,_=h._map,u=h._featureGroup,l=_.latLngToLayerPoint(this._latlng);for(n=t.length-1;n>=0;n--)s=t[n],s.setOpacity?(s.setZIndexOffset(1e6),s.setOpacity(0),u.addLayer(s),s._setPos(l)):u.addLayer(s);h._forceLayout(),h._animationStart();var d=L.Path.SVG?0:.3,p=L.Path.SVG_NS;for(n=t.length-1;n>=0;n--)if(o=_.layerPointToLatLng(i[n]),s=t[n],s._preSpiderfyLatlng=s._latlng,s.setLatLng(o),s.setOpacity&&s.setOpacity(1),r=new L.Polyline([a._latlng,o],{weight:1.5,color:\"#222\",opacity:d}),_.addLayer(r),s._spiderLeg=r,L.Path.SVG&&this.SVG_ANIMATION){var c=r._path.getTotalLength();r._path.setAttribute(\"stroke-dasharray\",c+\",\"+c);var m=e.createElementNS(p,\"animate\");m.setAttribute(\"attributeName\",\"stroke-dashoffset\"),m.setAttribute(\"begin\",\"indefinite\"),m.setAttribute(\"from\",c),m.setAttribute(\"to\",0),m.setAttribute(\"dur\",.25),r._path.appendChild(m),m.beginElement(),m=e.createElementNS(p,\"animate\"),m.setAttribute(\"attributeName\",\"stroke-opacity\"),m.setAttribute(\"attributeName\",\"stroke-opacity\"),m.setAttribute(\"begin\",\"indefinite\"),m.setAttribute(\"from\",0),m.setAttribute(\"to\",.5),m.setAttribute(\"dur\",.25),r._path.appendChild(m),m.beginElement()}if(a.setOpacity(.3),L.Path.SVG)for(this._group._forceLayout(),n=t.length-1;n>=0;n--)s=t[n]._spiderLeg,s.options.opacity=.5,s._path.setAttribute(\"stroke-opacity\",.5);setTimeout(function(){h._animationEnd(),h.fire(\"spiderfied\")},200)},_animationUnspiderfy:function(t){var e,i,n,s=this._group,r=s._map,o=s._featureGroup,a=t?r._latLngToNewLayerPoint(this._latlng,t.zoom,t.center):r.latLngToLayerPoint(this._latlng),h=this.getAllChildMarkers(),_=L.Path.SVG&&this.SVG_ANIMATION;for(s._animationStart(),this.setOpacity(1),i=h.length-1;i>=0;i--)e=h[i],e._preSpiderfyLatlng&&(e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng,e.setOpacity?(e._setPos(a),e.setOpacity(0)):o.removeLayer(e),_&&(n=e._spiderLeg._path.childNodes[0],n.setAttribute(\"to\",n.getAttribute(\"from\")),n.setAttribute(\"from\",0),n.beginElement(),n=e._spiderLeg._path.childNodes[1],n.setAttribute(\"from\",.5),n.setAttribute(\"to\",0),n.setAttribute(\"stroke-opacity\",0),n.beginElement(),e._spiderLeg._path.setAttribute(\"stroke-opacity\",0)));setTimeout(function(){var t=0;for(i=h.length-1;i>=0;i--)e=h[i],e._spiderLeg&&t++;for(i=h.length-1;i>=0;i--)e=h[i],e._spiderLeg&&(e.setOpacity&&(e.setOpacity(1),e.setZIndexOffset(0)),t>1&&o.removeLayer(e),r.removeLayer(e._spiderLeg),delete e._spiderLeg);s._animationEnd()},200)}}:{_animationSpiderfy:function(t,e){var i,n,s,r,o=this._group,a=o._map,h=o._featureGroup;for(i=t.length-1;i>=0;i--)r=a.layerPointToLatLng(e[i]),n=t[i],n._preSpiderfyLatlng=n._latlng,n.setLatLng(r),n.setZIndexOffset&&n.setZIndexOffset(1e6),h.addLayer(n),s=new L.Polyline([this._latlng,r],{weight:1.5,color:\"#222\"}),a.addLayer(s),n._spiderLeg=s;this.setOpacity(.3),o.fire(\"spiderfied\")},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerClusterGroup.include({_spiderfied:null,_spiderfierOnAdd:function(){this._map.on(\"click\",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on(\"zoomstart\",this._unspiderfyZoomStart,this),this._map.on(\"zoomend\",this._noanimationUnspiderfy,this),L.Path.SVG&&!L.Browser.touch&&this._map._initPathRoot()},_spiderfierOnRemove:function(){this._map.off(\"click\",this._unspiderfyWrapper,this),this._map.off(\"zoomstart\",this._unspiderfyZoomStart,this),this._map.off(\"zoomanim\",this._unspiderfyZoomAnim,this),this._unspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on(\"zoomanim\",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(t){L.DomUtil.hasClass(this._map._mapPane,\"leaflet-touching\")||(this._map.off(\"zoomanim\",this._unspiderfyZoomAnim,this),this._unspiderfy(t))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(t){this._spiderfied&&this._spiderfied.unspiderfy(t)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(t){t._spiderLeg&&(this._featureGroup.removeLayer(t),t.setOpacity(1),t.setZIndexOffset(0),this._map.removeLayer(t._spiderLeg),delete t._spiderLeg)}})}(window,document);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/leaflet.markercluster/dist/leaflet.markercluster.js\n ** module id = 65\n ** module chunks = 0\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./leaflet.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tmodule.hot.accept(\"!!./../../css-loader/index.js!./leaflet.css\", function() {\n\t\tvar newContent = require(\"!!./../../css-loader/index.js!./leaflet.css\");\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\tupdate(newContent);\n\t});\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/leaflet/dist/leaflet.css\n ** module id = 91\n ** module chunks = 0\n **/","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            currentQueue[queueIndex].run();\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/~/node-libs-browser/~/process/browser.js\n ** module id = 106\n ** module chunks = 0\n **/"],"sourceRoot":""}